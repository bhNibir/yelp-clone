{"version":3,"sources":["AppContext.js","StateContext.js","components/SortRestaurants.js","components/StarRating.js","RestaurantContext.js","components/InfoWindowEx.js","components/HomeMap.js","components/Home.js","components/UpdateRestaurant.js","components/RestaurantReview.js","components/NewRatingInput.js","components/RestaurantMap.js","components/RestaurantDetails.js","components/PageNotFound.js","components/Searchbar.js","components/Header.js","components/Footer.js","components/FlashMessage.js","components/CreateRestaurantPage.js","App.js","index.js"],"names":["AppContext","createContext","StateContext","SortRestaurants","setRestaurants","setRestaurantCollection","restaurantCollection","setSortCount","useState","locationType","setLocationType","location","setLocation","showButton","setShowButton","dispatch","useContext","e","a","preventDefault","axios","get","response","data","slice","type","value","color","onChange","newList","currentTarget","sort","b","rating","pricerange","count","name","localeCompare","prev","defaultValue","disabled","onSubmit","placeholder","onClick","StarRating","stars","setStars","useEffect","starsList","num","parseFloat","i","push","key","className","aria-hidden","RestaurantContext","InfoWindowEx","props","infoWindowRef","React","createRef","contentElement","document","createElement","ReactDOM","render","Children","only","children","current","infowindow","setContent","ref","GoogleApiWrapper","apiKey","process","sortCount","markers","setMarkers","selectedMarker","setSelectedMarker","setRerender","history","useHistory","setKey","length","firstItem","pastList","setPastList","pastSortCount","setPastSortCount","restaurant","id","map","lat","latitude","lng","longtitude","position","handleMarkerClick","google","zoom","initialCenter","style","width","height","containerStyle","onClose","visible","images","src","url_location","Home","isLoading","setIsLoading","restaurants","counter","setCounter","state","window","confirm","delete","filter","fetchData","triggerMoreRestaurants","useCallback","scrollY","innerHeight","body","offsetHeight","handleScrollEvent","_","addEventListener","removeEventListener","Provider","HomeMap","dollarAmount","description","to","loggedIn","handleDelete","UpdateRestaurant","street","city","province","country","postalcode","setRestaurant","file","setFile","uploadedImages","setUploadedImages","useParams","params","address","apiResponse","results","geometry","put","priceRange","parseInt","formData","FormData","append","post","headers","updateInput","fetchRestaurantData","required","max","min","urlList","files","n","currentFile","size","URL","createObjectURL","multiple","url","index","RestaurantReview","review","ratings","setRatings","setRatingsCollection","updatePageRating","sumOfRatings","forEach","item","updatedRating","toFixed","message","NewRatingInput","restaurant_id","newRating","setNewRating","updateCurrentPageRating","concat","step","coords","disableDefaultUI","zoomControl","streetViewControl","RestaurantDetails","ratingsCollection","isMoreRatings","setIsMoreRatings","scrollPosition","setScrollPosition","loadEvent","setLoadEvent","updatedImages","image","fetchRestaurantReviews","scrollTo","deleteImage","PageNotFound","SingleSearchResult","setSearchResults","Searchbar","timer","searchQuery","setSearchQuery","searchResults","searchLoading","setSearchLoading","fetchResults","setTimeout","clearTimeout","result","Header","Footer","FlashMessage","flashMessages","flashMessage","onAnimationEnd","display","handleRemove","CreateRestaurantPage","App","initialState","Boolean","localStorage","getItem","useReducer","action","setItem","removeItem","path","exact","getElementById"],"mappings":"8OAIeA,EAFEC,0BCEFC,EAFID,0B,uDCsGJE,MApGf,YAA2G,IAAhFC,EAA+E,EAA/EA,eAAgBC,EAA+D,EAA/DA,wBAAyBC,EAAsC,EAAtCA,qBAAsBC,EAAgB,EAAhBA,aAAgB,EAChEC,mBAAS,IADuD,mBACjGC,EADiG,KACnFC,EADmF,OAExEF,mBAAS,IAF+D,mBAEjGG,EAFiG,KAEvFC,EAFuF,OAGpEJ,oBAAS,GAH2D,mBAGjGK,EAHiG,KAGrFC,EAHqF,KAKlGC,EAAWC,qBAAWhB,GAL4E,4CAOxG,WAA4BiB,GAA5B,eAAAC,EAAA,yDACED,EAAEE,kBACEV,IAAgBE,EAFtB,0CAI6BS,IAAMC,IAAN,+CAAkDZ,EAAlD,qBAA2EE,IAJxG,OAIYW,EAJZ,OAKMlB,EAAekB,EAASC,KAAKC,MAAM,EAAG,KACtCnB,EAAwBiB,EAASC,MACjCX,EAAY,IACZE,GAAc,GARpB,kDAUMC,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UAVxE,gCAaIZ,EAAS,CAAEU,KAAM,eAAgBC,MAAO,qCAAsCC,MAAO,UAbzF,2DAPwG,kEAwBxG,4BAAAT,EAAA,+EAE2BE,IAAMC,IAAI,oBAFrC,OAEUC,EAFV,OAGIlB,EAAekB,EAASC,KAAKC,MAAM,EAAG,KACtCnB,EAAwBiB,EAASC,MACjCT,GAAc,GALlB,gDAOIC,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UAPtE,0DAxBwG,sBAmExG,OACE,+CAEE,4BAAQC,SAnCZ,SAA4BX,GAC1B,IAAIY,EACJ,OAAQZ,EAAEa,cAAcJ,OACtB,IAAK,gBACHG,EAAU,YAAIvB,GAAsByB,MAAK,SAACb,EAAGc,GAAJ,OAAUA,EAAEC,OAASf,EAAEe,UAChE,MACF,IAAK,eACHJ,EAAU,YAAIvB,GAAsByB,MAAK,SAACb,EAAGc,GAAJ,OAAUd,EAAEe,OAASD,EAAEC,UAChE,MACF,IAAK,iBACHJ,EAAU,YAAIvB,GAAsByB,MAAK,SAACb,EAAGc,GAAJ,OAAUA,EAAEE,WAAahB,EAAEgB,cACpE,MACF,IAAK,iBACHL,EAAU,YAAIvB,GAAsByB,MAAK,SAACb,EAAGc,GAAJ,OAAUd,EAAEgB,WAAaF,EAAEE,cACpE,MACF,IAAK,aACHL,EAAU,YAAIvB,GAAsByB,MAAK,SAACb,EAAGc,GAAJ,OAAUA,EAAEG,MAAQjB,EAAEiB,SAC/D,MACF,IAAK,mBACHN,EAAU,YAAIvB,GAAsByB,MAAK,SAACb,EAAGc,GAAJ,OAAUd,EAAEkB,KAAKC,cAAcL,EAAEI,SAC1E,MACF,IAAK,mBACHP,EAAU,YAAIvB,GAAsByB,MAAK,SAACb,EAAGc,GAAJ,OAAUA,EAAEI,KAAKC,cAAcnB,EAAEkB,SAC1E,MACF,QACEP,EAAO,YAAOvB,GAGlBF,EAAeyB,EAAQL,MAAM,EAAG,KAChCnB,EAAwBwB,GACxBtB,GAAa,SAAA+B,GAAI,OAAIA,EAAO,MAKYC,aAAa,aACjD,4BAAQC,UAAQ,EAACd,MAAM,aAAvB,aAGA,4BAAQA,MAAM,iBAAd,iBACA,4BAAQA,MAAM,gBAAd,gBACA,4BAAQA,MAAM,cAAd,iBACA,4BAAQA,MAAM,kBAAd,mBACA,4BAAQA,MAAM,kBAAd,mBACA,4BAAQA,MAAM,oBAAd,sBACA,4BAAQA,MAAM,oBAAd,uBAEF,iEACA,0BAAMe,SAnF8F,6CAoFlG,4BAAQb,SAAU,SAAAX,GAAC,OAAIP,EAAgBO,EAAEa,cAAcJ,QAAQa,aAAc,gBAC3E,4BAAQC,UAAQ,GAAhB,gBACA,4BAAQd,MAAM,UAAd,UACA,4BAAQA,MAAM,QAAd,QACA,4BAAQA,MAAM,YAAd,YACA,4BAAQA,MAAM,WAAd,WACA,4BAAQA,MAAM,cAAd,gBAEF,2BAAOD,KAAK,OAAOC,MAAOf,EAAU+B,YAAajC,EAAY,gBAAYA,EAAZ,OAAgC,oBAAqBmB,SAAU,SAAAX,GAAC,OAAIL,EAAYK,EAAEa,cAAcJ,UAC7J,4BAAQD,KAAK,UAAb,uBAEDZ,GAAc,4BAAQ8B,QA/F6E,4CA+FrF,0BC1ENC,MAvBf,YAAwC,IAAlBX,EAAiB,EAAjBA,OAAQE,EAAS,EAATA,MAAS,EACX3B,qBADW,mBAC9BqC,EAD8B,KACvBC,EADuB,KAgBrC,OAdAC,qBAAU,WAGR,IAFA,IAAIC,EAAY,GACZC,EAAMC,WAAWjB,GACZkB,EAAI,EAAGA,GAAK,EAAGA,IAClBA,GAAKF,EACPD,EAAUI,KAAK,uBAAGC,IAAKF,EAAGG,UAAU,aAAaC,cAAY,UACpDJ,EAAI,IAAOF,EACpBD,EAAUI,KAAK,uBAAGC,IAAKF,EAAGG,UAAU,oBAAoBC,cAAY,UAEpEP,EAAUI,KAAK,uBAAGC,IAAKF,EAAGG,UAAU,eAAeC,cAAY,UAGnET,EAASE,KACR,CAACf,IAEF,oCACGY,EADH,IACWV,EAAK,WAAOA,EAAP,KAAkB,K,QChBvBqB,EAFSvD,0BCET,SAASwD,EAAaC,GACnC,IAAMC,EAAgBC,IAAMC,YACtBC,EAAiBC,SAASC,cAAT,OAOvB,OALAjB,qBAAU,WACRkB,IAASC,OAAON,IAAMO,SAASC,KAAKV,EAAMW,UAAWP,GACrDH,EAAcW,QAAQC,WAAWC,WAAWV,KAC3C,CAACJ,EAAMW,WAEH,kBAAC,aAAD,eAAYI,IAAKd,GAAmBD,ICkI9BgB,iCAAiB,CAC9BC,OAAO,yFAAD,OAA2FC,4CADpFF,EAvIf,SAAsBhB,GAAQ,IAAD,EACiB1C,qBAAWwC,GAA/ClD,EADmB,EACnBA,qBAAsBuE,EADH,EACGA,UADH,EAEGrE,mBAAS,IAFZ,mBAEpBsE,EAFoB,KAEXC,EAFW,OAGiBvE,mBAAS,MAH1B,mBAGpBwE,EAHoB,KAGJC,EAHI,OAIKzE,mBAAS,GAJd,mBAIV0E,GAJU,WAKrBC,EAAUC,cACVrE,EAAWC,qBAAWhB,GAND,EAQLQ,mBAAS,GARJ,mBAQpB6C,EARoB,KAQfgC,EARe,OASK7E,mBAAS,CACvC8E,OAAQhF,EAAqBgF,OAC7BC,UAAWjF,EAAqB,KAXP,mBASpBkF,EAToB,KASVC,EATU,OAaejF,mBAASqE,GAbxB,mBAapBa,EAboB,KAaLC,EAbK,iDAmC3B,WAAiCC,GAAjC,eAAA1E,EAAA,+EAE2BE,IAAMC,IAAN,2BAA8BuE,EAAWC,KAFpE,OAEUvE,EAFV,OAGI2D,EAAkB3D,EAASC,MAH/B,gDAKI0D,EAAkBW,GAClB7E,EAAS,CAAEU,KAAM,eAAgBC,MAAO,qCAAsCC,MAAO,UANzF,0DAnC2B,sBAsG3B,OAtFAoB,qBAAU,WACRgC,EACEzE,EAAqBwF,KAAI,SAAAF,GACvB,IAAIG,EAAM7C,WAAW0C,EAAWI,UAC5BC,EAAM/C,WAAW0C,EAAWM,YAChC,OACE,kBAAC,SAAD,CACE7C,IAAKuC,EAAWC,GAChBM,SAAU,CAAEJ,MAAKE,OACjBtD,QAAS,YAzBQ,oCA0BfyD,CAAkBR,YAM3B,CAACvC,IAcJN,qBAAU,WACRmC,GAAY,SAAA5C,GAAI,OAAIA,EAAO,OAC1B,CAAC0C,IAIJjC,qBAAU,YACJzC,EAAqBgF,SAAWE,EAASF,QAOlChF,EAAqB,KAAOkF,EAASD,WAAaV,IAAca,KANzET,EAAkB,MAClBI,GAAO,SAAA/C,GAAI,OAAIA,EAAO,KACtBmD,EAAY,CACVH,OAAQhF,EAAqBgF,OAC7BC,UAAWjF,EAAqB,MAUpCqF,EAAiBd,KAChB,CAACvE,IAkCF,oCACE,kBAAC,MAAD,CAAK+F,OAAQ3C,EAAM2C,OAAQC,KA1BzBhG,EAAqBgF,OAAS,EACzB,EAEF,GAuByCjC,IAAKA,EAAKkD,cAnBtDjG,EAAqBgF,OAChB,CAAES,IAAK7C,WAAW5C,EAAqB,GAAG0F,UAAWC,IAAK/C,WAAW5C,EAAqB,GAAG4F,aAE7F,CAAEH,IAAK,QAASE,KAAM,SAgBoDO,MAZnE,CAChBC,MAAO,OACPC,OAAQ,QAU6FC,eARhF,CACrBR,SAAU,WACVO,OAAQ,OACRD,MAAO,SAMF3B,EACAE,GACC,kBAACvB,EAAD,CACEmD,QAAS,kBAAM3B,EAAkB,OACjCkB,SAAU,CACRJ,IAAK7C,WAAW8B,EAAegB,UAC/BC,IAAK/C,WAAW8B,EAAekB,aAEjCW,SAAS,GAET,6BACG7B,EAAe8B,OAAO,IACrB,6BACE,yBAAKN,MAAO,CAAEC,MAAO,OAAQC,OAAQ,SACnC,yBAAKF,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAAUK,IAAK/B,EAAe8B,OAAO,GAAGE,iBAInF,4BAAKhC,EAAe5C,MACpB,4BAAQX,KAAK,SAASkB,QAAS,kBApDRkD,EAoDwCb,EAAea,QAnDxFV,EAAQ/B,KAAR,sBAA4ByC,IAD9B,IAAmCA,IAoDvB,uBCTCoB,MAhHf,SAAcvD,GAAO,MAEelD,oBAAS,GAFxB,mBAEZ0G,EAFY,KAEDC,EAFC,OAGqC3G,mBAAS,IAH9C,mBAGZF,EAHY,KAGUD,EAHV,OAImBG,mBAAS,IAJ5B,mBAIZ4G,EAJY,KAIChH,EAJD,OAKWI,mBAAS,IALpB,mBAKZ6G,EALY,KAKHC,EALG,OAMe9G,mBAAS,GANxB,mBAMZqE,EANY,KAMDtE,EANC,KAQbQ,EAAWC,qBAAWhB,GACtBuH,EAAQvG,qBAAWd,GATN,4CA2BnB,WAA4B2F,GAA5B,SAAA3E,EAAA,0DACkBsG,OAAOC,QAAQ,8CADjC,0CAIYrG,IAAMsG,OAAN,2BAAiC7B,IAJ7C,OAKMzF,GAAe,SAAAkC,GAAI,OAAIA,EAAKqF,QAAO,SAAA/B,GAAU,OAAIA,EAAWC,KAAOA,QACnExF,GAAwB,SAAAiC,GAAI,OAAIA,EAAKqF,QAAO,SAAA/B,GAAU,OAAIA,EAAWC,KAAOA,QAC5E9E,EAAS,CAAEU,KAAM,eAAgBC,MAAO,uCAAwCC,MAAO,YAP7F,kDASMZ,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UATxE,2DA3BmB,sBAYnBoB,qBAAU,WAAM,4CACd,4BAAA7B,EAAA,+EAE2BE,IAAMC,IAAI,oBAFrC,OAEUC,EAFV,OAGIjB,EAAwBiB,EAASC,MACjCnB,EAAekB,EAASC,KAAKC,MAAM,EAAG,KACtC2F,GAAa,GALjB,gDAOIpG,EAAS,CAAEU,KAAM,eAAgBC,MAAO,sDAAuDC,MAAO,UAP1G,0DADc,uBAAC,WAAD,wBAWdiG,KACC,IAkBH,IAAMC,EAAyBC,uBAAY,WACrCN,OAAOO,QAAUP,OAAOQ,aAAejE,SAASkE,KAAKC,cACvDZ,GAAW,SAAAhF,GAAI,OAAIA,EAAO,QAE3B,IAGG6F,EAAoBL,sBAAYM,IAAWP,EAAwB,KAAM,IAiB/E,OAdA9E,qBAAU,WAER,OADAyE,OAAOa,iBAAiB,SAAUF,GAC3B,kBAAMX,OAAOc,oBAAoB,SAAUH,MACjD,CAAC7H,IAGJyC,qBAAU,WACR3C,EAAeE,EAAqBkB,MAAM,EAAG6F,IACzC/G,EAAqBgF,QAAU+B,GAAW/G,EAAqBgF,QACjEkC,OAAOc,oBAAoB,SAAUH,KAEtC,CAACd,IAGAH,EACK,2CAIP,oCACE,kBAAC,EAAkBqB,SAAnB,CAA4B7G,MAAO,CAAEpB,uBAAsBuE,cACzD,kBAAC2D,EAAD,OAEF,gDACA,kBAAC,EAAD,CAAiBpI,eAAgBA,EAAgBG,aAAcA,EAAcF,wBAAyBA,EAAyBC,qBAAsBA,IACrJ,6BACG8G,EAAYtB,KAAI,SAAAF,GAEf,IADA,IAAI6C,EAAe,GACVtF,EAAI,EAAGA,EAAIyC,EAAW1D,WAAYiB,IACzCsF,GAAgB,IAElB,OACE,yBAAKpF,IAAKuC,EAAWC,IACnB,6BACA,sCAAYD,EAAWxD,MACvB,6CAAmBwD,EAAW8C,aAC9B,0CAAgB9C,EAAWjF,UAC3B,6CAAmB8H,GAClB7C,EAAW3D,OAAS,kBAAC,EAAD,CAAYA,OAAQ2D,EAAW3D,OAAQE,MAAOyD,EAAWzD,QAAY,aAC1F,6BACA,kBAAC,IAAD,CAAMwG,GAAE,sBAAiB/C,EAAWC,KAApC,gBACC0B,EAAMqB,UACL,oCACE,kBAAC,IAAD,CAAMD,GAAE,sBAAiB/C,EAAWC,GAA5B,YAAR,mBACA,4BAAQlD,QAAS,kBAhGd,2CAgGoBkG,CAAajD,EAAWC,MAA/C,sBAGJ,mCAKNuB,EAAY9B,QAAU,mDACxB,6BACA,+B,QCmCSwD,MAlJf,SAA0BpF,GAAQ,IAAD,EACGlD,oBAAS,GADZ,mBACxB0G,EADwB,KACbC,EADa,OAEK3G,mBAAS,CAC3C4B,KAAM,GACNsG,YAAa,GACbxG,WAAY,GACZ6G,OAAQ,GACRC,KAAM,GACNC,SAAU,GACVC,QAAS,GACTC,WAAY,KAViB,mBAExBvD,EAFwB,KAEZwD,EAFY,OAYP5I,qBAZO,mBAYxB6I,EAZwB,KAYlBC,EAZkB,OAaa9I,qBAbb,mBAaxB+I,EAbwB,KAaRC,EAbQ,KAe3BrE,EAAUC,cACRrE,EAAWC,qBAAWhB,GACtBuH,EAAQvG,qBAAWd,GACjB2F,EAAO4D,cAAP5D,GAlBuB,4CA4C/B,WAA6B5E,GAA7B,2BAAAC,EAAA,6DACED,EAAEE,iBADJ,SAGQR,EAHR,UAGsBiF,EAAWmD,OAHjC,YAG2CnD,EAAWoD,KAHtD,YAG8DpD,EAAWqD,SAHzE,YAGqFrD,EAAWsD,SAHhG,SAI8B9H,IAAMC,IAAI,oDAAqD,CACvFqI,OAAQ,CACNC,QAAShJ,EACT0C,IAAKuB,6CAPb,cAIUgF,EAJV,OAUQ7D,EAAM6D,EAAYrI,KAAKsI,QAAQ,GAAGC,SAASnJ,SAASoF,IACpDE,EAAM2D,EAAYrI,KAAKsI,QAAQ,GAAGC,SAASnJ,SAASsF,IAX5D,UAc2B7E,IAAM2I,IAAN,2BAA8BlE,GAAM,CACzDzD,KAAMwD,EAAWxD,KACjBsG,YAAa9C,EAAW8C,YACxBsB,WAAYC,SAASrE,EAAW1D,YAChC6G,OAAQnD,EAAWmD,OACnBC,KAAMpD,EAAWoD,KACjBC,SAAUrD,EAAWqD,SACrBC,QAAStD,EAAWsD,QACpBC,WAAYvD,EAAWuD,WACvBjD,WAAYD,EACZD,SAAUD,IAxBhB,WAcUzE,EAdV,QA2BQ+H,EA3BR,iBA6BM,IADIa,EAAW,IAAIC,SACVhH,EAAI,EAAGA,EAAIkG,EAAK/D,OAAQnC,IAC/B+G,EAASE,OAAT,QAAyBf,EAAKlG,IA9BtC,iBAiCY/B,IAAMiJ,KAAN,wCAA4C/I,EAASC,KAAKsE,IAAMqE,EAAU,CAC9EI,QAAS,CAAE,eAAgB,yBAlCnC,QAsCInF,EAAQ/B,KAAR,sBAA4ByC,IAC5B9E,EAAS,CAAEU,KAAM,eAAgBC,MAAO,uCAAwCC,MAAO,YAvC3F,kDAyCIZ,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UAzCtE,2DA5C+B,sBA0F/B,SAAS4I,EAAYtJ,GACnBmI,EAAc,2BAAKxD,GAAN,kBAAmB3E,EAAEa,cAAcM,KAAOnB,EAAEa,cAAcJ,SAwBzE,OA9FAqB,qBAAU,WACHwE,EAAMqB,WACTzD,EAAQ/B,KAAK,KACbrC,EAAS,CAAEU,KAAM,eAAgBC,MAAO,uDAAwDC,MAAO,aAExG,CAAC4F,EAAMqB,WAEV7F,qBAAU,WACR,GAAIwE,EAAMqB,SAAU,6CAClB,4BAAA1H,EAAA,+EAE2BE,IAAMC,IAAN,2BAA8BwE,IAFzD,OAEUvE,EAFV,OAGI8H,EAAc9H,EAASC,MACvB4F,GAAa,GAJjB,gDAMIpG,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UAClEwD,EAAQ/B,KAAK,KAPjB,0DADkB,uBAAC,WAAD,wBAWlBoH,MAED,CAAC3E,IAyEAqB,EACK,2CAIP,oCACE,iDACA,0BAAMzE,SA1HqB,6CA2HzB,2BAAOL,KAAK,OAAOM,YAAY,OAAOjB,KAAK,OAAOC,MAAOkE,EAAWxD,KAAMR,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IACjH,2BAAOrI,KAAK,cAAcM,YAAY,cAAcjB,KAAK,OAAOC,MAAOkE,EAAW8C,YAAa9G,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IACtI,2BAAOrI,KAAK,aAAaM,YAAY,cAAcjB,KAAK,SAASC,MAAOkE,EAAW1D,WAAYN,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,EAACC,IAAI,IAAIC,IAAI,MACnJ,2BAAOvI,KAAK,SAASM,YAAY,SAASjB,KAAK,OAAOC,MAAOkE,EAAWmD,OAAQnH,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IACvH,2BAAOrI,KAAK,OAAOM,YAAY,OAAOjB,KAAK,OAAOC,MAAOkE,EAAWoD,KAAMpH,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IACjH,2BAAOrI,KAAK,WAAWM,YAAY,WAAWjB,KAAK,OAAOC,MAAOkE,EAAWqD,SAAUrH,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IAC7H,2BAAOrI,KAAK,UAAUM,YAAY,UAAUjB,KAAK,OAAOC,MAAOkE,EAAWsD,QAAStH,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IAC1H,2BAAOrI,KAAK,aAAaM,YAAY,cAAcjB,KAAK,OAAOC,MAAOkE,EAAWuD,WAAYvH,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IACpI,2BAAOhJ,KAAK,OAAOG,SApCzB,SAAyBX,GAIvB,IAHA,IAAI2J,EAAU,GACVC,EAAQ,GAEH1H,EAAI,EAAG2H,EAAI7J,EAAEa,cAAc+I,MAAMvF,OAAQnC,EAAI2H,EAAG3H,IAAK,CAC5D,IAAI4H,EAAc9J,EAAEa,cAAc+I,MAAM1H,GAChB,aAApB4H,EAAYtJ,MAA2C,cAApBsJ,EAAYtJ,OAE7CsJ,EAAYC,KAAO,SACrBH,EAAMzH,KAAK2H,GACXH,EAAQxH,KAAK6H,IAAIC,gBAAgBH,KAEjChK,EAAS,CAAEU,KAAM,eAAgBC,MAAM,GAAD,OAAKqJ,EAAY3I,KAAjB,yCAA8DT,MAAO,WAIjH2H,EAAQuB,GACRrB,EAAkBoB,IAmBgCO,UAAQ,IACtD,4BAAQ1J,KAAK,UAAb,sBAED8H,GACCA,EAAezD,KAAI,SAACsF,EAAKC,GAAN,OACjB,yBAAKhI,IAAKgI,GACR,yBAAK7E,MAAO,CAAEC,MAAO,QAASC,OAAQ,UACpC,yBAAKF,MAAO,CAAEC,MAAO,QAASC,OAAQ,SAAWK,IAAKqE,WCxFrDE,MAlDf,SAA0B5H,GAAQ,IACxB6H,EAAiF7H,EAAjF6H,OAAQC,EAAyE9H,EAAzE8H,QAASC,EAAgE/H,EAAhE+H,WAAY7F,EAAoDlC,EAApDkC,WAAYwD,EAAwC1F,EAAxC0F,cAAesC,EAAyBhI,EAAzBgI,qBAE1D3K,EAAWC,qBAAWhB,GACtBuH,EAAQvG,qBAAWd,GAJM,4CAM/B,sBAAAgB,EAAA,+EAEUE,IAAMsG,OAAN,uBAA6B6D,EAAO1F,KAF9C,OAII8F,IAEAF,GAAW,SAAAnJ,GAAI,OAAIA,EAAKqF,QAAO,SAAA1F,GAAM,OAAIA,EAAO4D,KAAO0F,EAAO1F,SAC9D6F,GAAqB,SAAApJ,GAAI,OAAIA,EAAKqF,QAAO,SAAA1F,GAAM,OAAIA,EAAO4D,KAAO0F,EAAO1F,SACxE9E,EAAS,CAAEU,KAAM,eAAgBC,MAAO,mCAAoCC,MAAO,YARvF,gDAUIZ,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UAVtE,0DAN+B,sBAoB/B,SAASgK,IACP,IAAIC,EAAe,EAEnBJ,EAAQK,SAAQ,SAAAC,GACdF,GAAgB1I,WAAW4I,EAAK7J,WAKlC,IAAI8J,IAFJH,GAAgB1I,WAAWqI,EAAOtJ,UAEGuJ,EAAQlG,OAAS,IAAI0G,QAAQ,GAElE5C,EAAc,2BAAKxD,GAAN,IAAkB3D,OAAQ8J,EAAe5J,MAAOyD,EAAWzD,MAAQ,KAGlF,OACE,oCACE,kBAAC,EAAD,CAAYF,OAAQsJ,EAAOtJ,SAC3B,6BAAMsJ,EAAOtJ,QACb,6BAAMsJ,EAAOnJ,MACb,6BAAMmJ,EAAOU,SACZ1E,EAAMqB,UACL,4BAAQnH,KAAK,SAASkB,QAzCG,4CAyCzB,iBAIF,+BCmBSuJ,MAlEf,YAAuG,IAA7ErG,EAA4E,EAA5EA,GAAI4F,EAAwE,EAAxEA,WAAYD,EAA4D,EAA5DA,QAASpC,EAAmD,EAAnDA,cAAexD,EAAoC,EAApCA,WAAY8F,EAAwB,EAAxBA,qBAAwB,EAClElL,mBAAS,CACzC2L,cAAetG,EACf5D,OAAQ,GACRG,KAAM,GACN6J,QAAS,KALyF,mBAC7FG,EAD6F,KAClFC,EADkF,KAO9FtL,EAAWC,qBAAWhB,GAE5B,SAASuK,EAAYtJ,GACnBoL,EAAa,2BAAKD,GAAN,kBAAkBnL,EAAEa,cAAcM,KAAOnB,EAAEa,cAAcJ,SAV6B,4CAapG,WAAwBT,GAAxB,eAAAC,EAAA,yDACED,EAAEE,mBAEEiL,EAAUD,eAAiB,GAAKjJ,WAAWkJ,EAAUnK,SAAW,GAAKmK,EAAUhK,MAAQgK,EAAUH,SAHvG,0CAM6B7K,IAAMiJ,KAAN,gBAA4B,CACjD8B,cAAeC,EAAUD,cACzBlK,OAAQiB,WAAWkJ,EAAUnK,QAC7BG,KAAMgK,EAAUhK,KAChB6J,QAASG,EAAUH,UAV3B,OAMY3K,EANZ,OAaMgL,EAAwBF,EAAUnK,QAElCwJ,GAAW,SAAAnJ,GAAI,MAAI,CAAChB,EAASC,MAAMgL,OAAOjK,MAC1CoJ,GAAqB,SAAApJ,GAAI,MAAI,CAAChB,EAASC,MAAMgL,OAAOjK,MAEpD+J,EAAa,CAAEF,cAAetG,EAAI5D,OAAQ,GAAIG,KAAM,GAAI6J,QAAS,KAEjElL,EAAS,CAAEU,KAAM,eAAgBC,MAAO,qCAAsCC,MAAO,YApB3F,kDAsBMZ,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UAtBxE,gCAyBIZ,EAAS,CAAEU,KAAM,eAAgBC,MAAO,qCAAsCC,MAAO,UAzBzF,2DAboG,sBA0CpG,SAAS2K,EAAwBF,GAC/B,IAAIR,EAAe1I,WAAWkJ,GAE9BZ,EAAQK,SAAQ,SAAAN,GACdK,GAAgB1I,WAAWqI,EAAOtJ,WAGpC,IAAI8J,GAAiBH,GAAgBJ,EAAQlG,OAAS,IAAI0G,QAAQ,GAElE5C,EAAc,2BAAKxD,GAAN,IAAkB3D,OAAQ8J,EAAe5J,MAAO8H,SAASrE,EAAWzD,OAAS,KAG5F,OACE,oCACE,0BAAMM,SAxD0F,6CAyD9F,2BAAOhB,KAAK,SAASW,KAAK,SAASM,YAAY,SAAShB,MAAO0K,EAAUnK,OAAQL,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAI0J,IAAI,IAAID,IAAI,IAAI8B,KAAK,QACrI,2BAAO/K,KAAK,OAAOW,KAAK,OAAOM,YAAY,OAAOhB,MAAO0K,EAAUhK,KAAMR,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,MACpG,2BAAOQ,KAAK,OAAOW,KAAK,UAAUM,YAAY,UAAUhB,MAAO0K,EAAUH,QAASrK,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,MAC7G,4BAAQQ,KAAK,UAAb,oBCtCOiD,iCAAiB,CAC9BC,OAAO,yFAAD,OAA2FC,4CADpFF,EAvBf,SAAuBhB,GAAQ,IACrBkC,EAAelC,EAAfkC,WACF6G,EAAS,CAAE1G,IAAKH,EAAWI,SAAUC,IAAKL,EAAWM,YAY3D,OACE,oCACE,kBAAC,MAAD,CAAKG,OAAQ3C,EAAM2C,OAAQC,KAAM,GAAIC,cAAekG,EAAQjG,MAZ9C,CAChBC,MAAO,OACPC,OAAQ,QAUwEC,eAR3D,CACrBR,SAAU,WACVO,OAAQ,QACRD,MAAO,SAKyGiG,kBAAkB,EAAMC,aAAa,EAAMC,mBAAmB,GAC1K,kBAAC,SAAD,CAAQzG,SAAUsG,SCuHXI,MAjIf,SAA2BnJ,GAAQ,IAAD,EACElD,oBAAS,GADX,mBACzB0G,EADyB,KACdC,EADc,OAEI3G,qBAFJ,mBAEzBoF,EAFyB,KAEbwD,EAFa,OAGF5I,mBAAS,IAHP,mBAGzBgL,EAHyB,KAGhBC,EAHgB,OAIkBjL,mBAAS,IAJ3B,mBAIzBsM,EAJyB,KAINpB,EAJM,OAKFlL,mBAAS,GALP,mBAKzB6G,EALyB,KAKhBC,EALgB,OAMU9G,oBAAS,GANnB,mBAMzBuM,EANyB,KAMVC,EANU,OAOYxM,mBAAS,GAPrB,mBAOzByM,EAPyB,KAOTC,EAPS,OAQE1M,mBAAS,GARX,mBAQzB2M,EARyB,KAQdC,EARc,KAU1BjI,EAAUC,cACRS,EAAO4D,cAAP5D,GACF9E,EAAWC,qBAAWhB,GACtBuH,EAAQvG,qBAAWd,GAbO,4CAyChC,WAA2B2F,GAA3B,eAAA3E,EAAA,+EAEUE,IAAMsG,OAAN,wCAA8C7B,IAFxD,OAGQwH,EAAgBzH,EAAWkB,OAAOa,QAAO,SAAA2F,GAAK,OAAIA,EAAMzH,KAAOA,KACnEuD,EAAc,2BAAKxD,GAAN,IAAkBkB,OAAQuG,KACvCtM,EAAS,CAAEU,KAAM,eAAgBC,MAAO,8BAA+BC,MAAO,YALlF,gDAOIZ,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UAPtE,0DAzCgC,kEAqDhC,WAA4BkE,GAA5B,SAAA3E,EAAA,0DACkBsG,OAAOC,QAAQ,oDADjC,0CAIYrG,IAAMsG,OAAN,2BAAiC7B,IAJ7C,OAKM9E,EAAS,CAAEU,KAAM,eAAgBC,MAAO,uCAAwCC,MAAO,YACvFwD,EAAQ/B,KAAK,KANnB,gDAQMrC,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UARxE,0DArDgC,sBAiFhC,OAlEAoB,qBAAU,WAAM,4CACd,4BAAA7B,EAAA,+EAE2BE,IAAMC,IAAN,2BAA8BwE,IAFzD,OAEUvE,EAFV,OAGI8H,EAAc9H,EAASC,MACvBgM,IAJJ,gDAMIxM,EAAS,CAAEU,KAAM,eAAgBC,MAAO,2CAA4CC,MAAO,UAC3FwD,EAAQ/B,KAAK,KAPjB,0DADc,+BAWCmK,IAXD,2EAWd,4BAAArM,EAAA,+EAE2BE,IAAMC,IAAN,uBAA0BwE,IAFrD,OAEUvE,EAFV,OAGIoK,EAAqBpK,EAASC,MAC9BkK,EAAWnK,EAASC,KAAKC,MAAM,EAAG6F,IAC9B/F,EAASC,KAAK+D,OAAS,GAAG0H,GAAiB,GAC/C7F,GAAa,GANjB,kDAQIpG,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UARtE,2DAXc,uBAAC,WAAD,wBAsBd6I,KACC,CAAC3E,IA6BJ9C,qBAAU,WACRmK,EAAkB1F,OAAOO,SACzB0D,EAAWqB,EAAkBtL,MAAM,EAAG6F,IACtC+F,GAAa,SAAA9K,GAAI,OAAIA,EAAO,KACxBwK,EAAkBxH,QAAU+B,GAAWyF,EAAkBxH,QAC3D0H,GAAiB,KAElB,CAAC3F,IAGJtE,qBAAU,WACRyE,OAAOgG,SAAS,EAAGP,KAClB,CAACE,IAEAjG,EACK,2CAIP,oCACE,4BAAKtB,EAAWxD,MACfmF,EAAMqB,UAAY,kBAAC,IAAD,CAAMD,GAAE,sBAAiB/C,EAAWC,GAA5B,YAAR,gBACnB,6BACA,6BACCD,EAAWkB,QACVlB,EAAWkB,OAAOhB,KAAI,SAAAwH,GAAK,OACzB,yBAAKjK,IAAKiK,EAAMzH,IACb0B,EAAMqB,UAAY,4BAAQjG,QAAS,kBA9Fd,2CA8FoB8K,CAAYH,EAAMzH,MAAzC,yCACnB,yBAAKW,MAAO,CAAEC,MAAO,QAASC,OAAQ,UACpC,yBAAKF,MAAO,CAAEC,MAAO,QAASC,OAAQ,SAAWK,IAAKuG,EAAMtG,oBAIpE,kBAAC,EAAD,CAAepB,WAAYA,IAC3B,4CACA,sCAAYA,EAAWxD,MACvB,6CAAmBwD,EAAW8C,aAC9B,0CAAgB9C,EAAWjF,UAC3B,4CAAkBiF,EAAW1D,YAC5B0D,EAAW3D,OAAS,EAAI,kBAAC,EAAD,CAAYA,OAAQ2D,EAAW3D,OAAQE,MAAOyD,EAAWzD,QAAY,aAC9F,wCAAcyD,EAAW3D,QACzB,uCAAa2D,EAAWzD,OACvBoF,EAAMqB,UACL,oCACE,kBAAC,IAAD,CAAMD,GAAE,sBAAiB/C,EAAWC,GAA5B,YAAR,mBACA,4BAAQlD,QAAS,kBAhHO,2CAgHDkG,CAAajD,EAAWC,MAA/C,sBAGJ,6BACA,kBAAC,EAAD,CAAgBA,GAAIA,EAAI4F,WAAYA,EAAYD,QAASA,EAASpC,cAAeA,EAAexD,WAAYA,EAAY8F,qBAAsBA,IAC9I,6BACA,6BACA,6BACGF,EAAQ1F,KAAI,SAAAyF,GACX,OAAO,kBAAC,EAAD,CAAkBlI,IAAKkI,EAAO1F,GAAI0F,OAAQA,EAAQE,WAAYA,EAAYD,QAASA,EAASpC,cAAeA,EAAexD,WAAYA,EAAY8F,qBAAsBA,QAGlLqB,GAAiB,4BAAQpK,QAAS,kBAAM2E,GAAW,SAAAhF,GAAI,OAAIA,EAAO,OAAjD,uBCzHToL,MAVf,SAAsBhK,GACpB,OACE,oCACE,yCACA,+CACA,kBAAC,IAAD,CAAMiF,GAAG,KAAT,iBC4CN,SAASgF,EAAmBjK,GAC1B,OACE,4BACE,kBAAC,IAAD,CAAMiF,GAAE,sBAAiBjF,EAAMmC,IAAMlD,QAAS,kBAAMe,EAAMkK,kBAAiB,KACzE,6BAAMlK,EAAMtB,QAMLyL,MAzDf,SAAmBnK,GAAQ,IAKrBoK,EALoB,EACctN,mBAAS,IADvB,mBACjBuN,EADiB,KACJC,EADI,OAEkBxN,mBAAS,IAF3B,mBAEjByN,EAFiB,KAEFL,EAFE,OAGkBpN,oBAAS,GAH3B,mBAGjB0N,EAHiB,KAGFC,EAHE,KAIlBpN,EAAWC,qBAAWhB,GAGtBoO,EAAY,uCAAG,4BAAAlN,EAAA,+EAEIE,IAAMC,IAAN,qBAAwB0M,IAF5B,QAEbzM,EAFa,QAGJC,KAAK+D,OAChBsI,EAAiBtM,EAASC,MAE1BqM,EAAiB,IAEnBO,GAAiB,GARA,gDAUjBpN,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UAVjD,yDAAH,qDAyBlB,OAXAoB,qBAAU,WAQR,OAPIgL,EAAYzI,QACd6I,GAAiB,GACjBL,EAAQO,WAAWD,EAAc,OAEjCD,GAAiB,GACjBP,EAAiB,KAEZ,kBAAMU,aAAaR,MACzB,CAACC,IAGF,oCACE,6BAAMG,GAAiB,2CACvB,2BAAOzM,KAAK,OAAOiB,YAAY,2BAA2BhB,MAAOqM,EAAanM,SAAU,SAAAX,GAAC,OAAI+M,EAAe/M,EAAEa,cAAcJ,UAC3HuM,EAAc3I,OAAS,GACtB,4BACG2I,EAAcnI,KAAI,SAAAyI,GACjB,OAAO,kBAACZ,EAAD,eAAoBtK,IAAKkL,EAAO1I,IAAQ0I,EAAxC,CAAgDX,iBAAkBA,WCAtEY,MAtCf,SAAgB9K,GACd,IAAM3C,EAAWC,qBAAWhB,GACtBuH,EAAQvG,qBAAWd,GAQzB,OACE,oCACE,yBAAKoD,UAAU,UACb,wBAAIA,UAAU,YACZ,wBAAIA,UAAU,YACZ,kBAAC,IAAD,CAAMqF,GAAG,IAAIrF,UAAU,YAAvB,SAIDiE,EAAMqB,UACL,wBAAItF,UAAU,YACZ,kBAAC,IAAD,CAAMqF,GAAG,qBAAqBrF,UAAU,YAAxC,sBAKJ,wBAAIA,UAAU,YACZ,4BAAQA,UAAU,WAAWX,QAxBvC,WACM4E,EAAMqB,SACR7H,EAAS,CAAEU,KAAM,WAEjBV,EAAS,CAAEU,KAAM,YAqBR8F,EAAMqB,SAAW,iBAAmB,qBAI3C,kBAAC,EAAD,SC1BO6F,MAVf,SAAgB/K,GACd,OACE,oCACE,yBAAKJ,UAAU,UACb,uBAAGA,UAAU,eAAb,yBCeOoL,MAnBf,YAAkC,IAAVnH,EAAS,EAATA,MAKtB,OACE,yBAAKjE,UAAU,2BACZiE,EAAMoH,cAAcrJ,OAAS,GAC5BiC,EAAMoH,cAAc7I,KAAI,SAAC8I,EAAcvD,GACrC,OACE,yBAAKhI,IAAKgI,EAAO/H,UAAW,SAAWsL,EAAajN,MAAOkN,eAAgB,SAAA5N,GAAC,OATtF,SAAsBA,GACpBA,EAAEa,cAAc0E,MAAMsI,QAAU,OAQwDC,CAAa9N,KAC3F,yBAAKqC,UAAU,gBAAgBsL,EAAa3C,eCqH3C+C,MA5Hf,SAA8BtL,GAAQ,IAAD,EACClD,mBAAS,CAC3C4B,KAAM,GACNsG,YAAa,GACbxG,WAAY,GACZ6G,OAAQ,GACRC,KAAM,GACNC,SAAU,GACVC,QAAS,GACTC,WAAY,KATqB,mBAC5BvD,EAD4B,KAChBwD,EADgB,OAWX5I,qBAXW,mBAW5B6I,EAX4B,KAWtBC,EAXsB,OAYS9I,qBAZT,mBAY5B+I,EAZ4B,KAYZC,EAZY,KAc/BrE,EAAUC,cACRrE,EAAWC,qBAAWhB,GACtBuH,EAAQvG,qBAAWd,GAhBU,4CAkBnC,WAA6Be,GAA7B,2BAAAC,EAAA,6DACED,EAAEE,iBADJ,SAGQR,EAHR,UAGsBiF,EAAWmD,OAHjC,YAG2CnD,EAAWoD,KAHtD,YAG8DpD,EAAWqD,SAHzE,YAGqFrD,EAAWsD,SAHhG,SAI8B9H,IAAMC,IAAI,oDAAqD,CACvFqI,OAAQ,CACNC,QAAShJ,EACT0C,IAAKuB,6CAPb,cAIUgF,EAJV,OAUQ7D,EAAM6D,EAAYrI,KAAKsI,QAAQ,GAAGC,SAASnJ,SAASoF,IACpDE,EAAM2D,EAAYrI,KAAKsI,QAAQ,GAAGC,SAASnJ,SAASsF,IAX5D,UAc2B7E,IAAMiJ,KAAN,mBAA+B,CACpDjI,KAAMwD,EAAWxD,KACjBsG,YAAa9C,EAAW8C,YACxBsB,WAAYC,SAASrE,EAAW1D,YAChC6G,OAAQnD,EAAWmD,OACnBC,KAAMpD,EAAWoD,KACjBC,SAAUrD,EAAWqD,SACrBC,QAAStD,EAAWsD,QACpBC,WAAYvD,EAAWuD,WACvBjD,WAAYD,EACZD,SAAUD,IAxBhB,WAcUzE,EAdV,QA2BQ+H,EA3BR,iBA6BM,IADIa,EAAW,IAAIC,SACVhH,EAAI,EAAGA,EAAIkG,EAAK/D,OAAQnC,IAC/B+G,EAASE,OAAT,QAAyBf,EAAKlG,IA9BtC,iBAiCY/B,IAAMiJ,KAAN,wCAA4C/I,EAASC,KAAKsE,IAAMqE,EAAU,CAC9EI,QAAS,CAAE,eAAgB,yBAlCnC,QAsCIvJ,EAAS,CAAEU,KAAM,eAAgBC,MAAO,uCAAwCC,MAAO,YACvFwD,EAAQ/B,KAAR,sBAA4B9B,EAASC,KAAKsE,KAvC9C,kDAyCI9E,EAAS,CAAEU,KAAM,eAAgBC,MAAO,KAAIJ,SAASC,KAAMI,MAAO,UAzCtE,2DAlBmC,sBAgEnC,SAAS4I,EAAYtJ,GACnBmI,EAAc,2BAAKxD,GAAN,kBAAmB3E,EAAEa,cAAcM,KAAOnB,EAAEa,cAAcJ,SAgCzE,OAPAqB,qBAAU,WACHwE,EAAMqB,WACT7H,EAAS,CAAEU,KAAM,eAAgBC,MAAO,uDAAwDC,MAAO,UACvGwD,EAAQ/B,KAAK,QAEd,CAACmE,EAAMqB,WAGR,oCACE,qDACA,0BAAMnG,SApGyB,6CAqG7B,2BAAOL,KAAK,OAAOM,YAAY,OAAOjB,KAAK,OAAOC,MAAOkE,EAAWxD,KAAMR,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IACjH,2BAAOrI,KAAK,cAAcM,YAAY,cAAcjB,KAAK,OAAOC,MAAOkE,EAAW8C,YAAa9G,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IACtI,2BAAOrI,KAAK,aAAaM,YAAY,cAAcjB,KAAK,SAASC,MAAOkE,EAAW1D,WAAYN,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,EAACC,IAAI,IAAIC,IAAI,MACnJ,2BAAOvI,KAAK,SAASM,YAAY,SAASjB,KAAK,OAAOC,MAAOkE,EAAWmD,OAAQnH,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IACvH,2BAAOrI,KAAK,OAAOM,YAAY,OAAOjB,KAAK,OAAOC,MAAOkE,EAAWoD,KAAMpH,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IACjH,2BAAOrI,KAAK,WAAWM,YAAY,WAAWjB,KAAK,OAAOC,MAAOkE,EAAWqD,SAAUrH,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IAC7H,2BAAOrI,KAAK,UAAUM,YAAY,UAAUjB,KAAK,OAAOC,MAAOkE,EAAWsD,QAAStH,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IAC1H,2BAAOrI,KAAK,aAAaM,YAAY,cAAcjB,KAAK,OAAOC,MAAOkE,EAAWuD,WAAYvH,SAAU,SAAAX,GAAC,OAAIsJ,EAAYtJ,IAAIwJ,UAAQ,IACpI,2BAAOhJ,KAAK,OAAOG,SAxCzB,SAAyBX,GAIvB,IAHA,IAAI2J,EAAU,GACVC,EAAQ,GAEH1H,EAAI,EAAG2H,EAAI7J,EAAEa,cAAc+I,MAAMvF,OAAQnC,EAAI2H,EAAG3H,IAAK,CAC5D,IAAI4H,EAAc9J,EAAEa,cAAc+I,MAAM1H,GAChB,aAApB4H,EAAYtJ,MAA2C,cAApBsJ,EAAYtJ,OAE7CsJ,EAAYC,KAAO,SACrBH,EAAMzH,KAAK2H,GACXH,EAAQxH,KAAK6H,IAAIC,gBAAgBH,KAEjChK,EAAS,CAAEU,KAAM,eAAgBC,MAAM,GAAD,OAAKqJ,EAAY3I,KAAjB,yCAA8DT,MAAO,WAIjH2H,EAAQuB,GACRrB,EAAkBoB,IAuBgCO,UAAQ,IACtD,4BAAQ1J,KAAK,UAAb,0BAED8H,GACCA,EAAezD,KAAI,SAACsF,EAAKC,GAAN,OACjB,yBAAKhI,IAAKgI,GACR,yBAAK7E,MAAO,CAAEC,MAAO,QAASC,OAAQ,UACpC,yBAAKF,MAAO,CAAEC,MAAO,QAASC,OAAQ,SAAWK,IAAKqE,WCxDrD6D,MAlDf,WACE,IAAMC,EAAe,CACnBP,cAAe,GACf/F,SAAUuG,QAAQC,aAAaC,QAAQ,gBAH5B,EAmBaC,sBAbV,SAAC/H,EAAOgI,GACtB,OAAQA,EAAO9N,MACb,IAAK,eACH,OAAO,2BAAK8F,GAAZ,IAAmBoH,cAAepH,EAAMoH,cAAcpC,OAAO,CAAEN,QAASsD,EAAO7N,MAAOC,MAAO4N,EAAO5N,UACtG,IAAK,QAEH,OADAyN,aAAaI,QAAQ,cAAc,GAC5B,2BAAKjI,GAAZ,IAAmBqB,UAAU,IAC/B,IAAK,SAEH,OADAwG,aAAaK,WAAW,cACjB,2BAAKlI,GAAZ,IAAmBqB,UAAU,OAIWsG,GAnBjC,mBAmBN3H,EAnBM,KAmBCxG,EAnBD,KAoBb,OACE,kBAAC,EAAWwH,SAAZ,CAAqB7G,MAAOX,GAC1B,kBAAC,EAAawH,SAAd,CAAuB7G,MAAO6F,GAC5B,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAcA,MAAOA,IACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOmI,KAAK,IAAIC,OAAK,GACnB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOD,KAAK,sBACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,kBAAkBC,OAAK,GACjC,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOD,KAAK,0BACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,KACV,kBAAC,EAAD,QAGJ,kBAAC,EAAD,UCtDVzL,IAASC,OACP,oCACE,kBAAC,EAAD,OAEFH,SAAS6L,eAAe,W","file":"static/js/main.dae98451.chunk.js","sourcesContent":["import React, { createContext } from 'react'\n\nlet AppContext = createContext()\n\nexport default AppContext\n","import React, { createContext } from 'react'\n\nlet StateContext = createContext()\n\nexport default StateContext\n","import React, { useEffect, useState, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\n\nfunction SortRestaurants({ setRestaurants, setRestaurantCollection, restaurantCollection, setSortCount }) {\n  const [locationType, setLocationType] = useState('')\n  const [location, setLocation] = useState('')\n  const [showButton, setShowButton] = useState(false)\n\n  const dispatch = useContext(AppContext)\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n    if (locationType && location) {\n      try {\n        const response = await axios.get(`/api/restaurants/search?locationType=${locationType}&location=${location}`)\n        setRestaurants(response.data.slice(0, 10))\n        setRestaurantCollection(response.data)\n        setLocation('')\n        setShowButton(true)\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    } else {\n      dispatch({ type: 'FlashMessage', value: 'You cannot leave the fields blank.', color: 'error' })\n    }\n  }\n\n  async function resetRestaurantList() {\n    try {\n      const response = await axios.get('/api/restaurants')\n      setRestaurants(response.data.slice(0, 10))\n      setRestaurantCollection(response.data)\n      setShowButton(false)\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  function arrangeRestaurants(e) {\n    let newList\n    switch (e.currentTarget.value) {\n      case 'highest-rated':\n        newList = [...restaurantCollection].sort((a, b) => b.rating - a.rating)\n        break\n      case 'lowest-rated':\n        newList = [...restaurantCollection].sort((a, b) => a.rating - b.rating)\n        break\n      case 'price-high-low':\n        newList = [...restaurantCollection].sort((a, b) => b.pricerange - a.pricerange)\n        break\n      case 'price-low-high':\n        newList = [...restaurantCollection].sort((a, b) => a.pricerange - b.pricerange)\n        break\n      case 'most-rated':\n        newList = [...restaurantCollection].sort((a, b) => b.count - a.count)\n        break\n      case 'alphabetical-a-z':\n        newList = [...restaurantCollection].sort((a, b) => a.name.localeCompare(b.name))\n        break\n      case 'alphabetical-z-a':\n        newList = [...restaurantCollection].sort((a, b) => b.name.localeCompare(a.name))\n        break\n      default:\n        newList = [...restaurantCollection]\n        break\n    }\n    setRestaurants(newList.slice(0, 10))\n    setRestaurantCollection(newList)\n    setSortCount(prev => prev + 1)\n  }\n  return (\n    <>\n      Sort by:\n      <select onChange={arrangeRestaurants} defaultValue=\"Select...\">\n        <option disabled value=\"Select...\">\n          Select...\n        </option>\n        <option value=\"highest-rated\">Highest Rated</option>\n        <option value=\"lowest-rated\">Lowest Rated</option>\n        <option value=\"most-rated\">Most Reviewed</option>\n        <option value=\"price-high-low\">Price: High-Low</option>\n        <option value=\"price-low-high\">Price: Low-High</option>\n        <option value=\"alphabetical-a-z\">Alphabetical (A-Z)</option>\n        <option value=\"alphabetical-z-a\">Alphabetical (Z-A)</option>\n      </select>\n      <h5>Search for businesses near you...</h5>\n      <form onSubmit={handleSubmit}>\n        <select onChange={e => setLocationType(e.currentTarget.value)} defaultValue={'Search by...'}>\n          <option disabled>Search by...</option>\n          <option value=\"street\">Street</option>\n          <option value=\"city\">City</option>\n          <option value=\"province\">Province</option>\n          <option value=\"country\">Country</option>\n          <option value=\"postalcode\">Postal Code</option>\n        </select>\n        <input type=\"text\" value={location} placeholder={locationType ? `Enter ${locationType}...` : 'Enter location...'} onChange={e => setLocation(e.currentTarget.value)} />\n        <button type=\"submit\">Search Restaurants</button>\n      </form>\n      {showButton && <button onClick={resetRestaurantList}>View All Restaurants</button>}\n    </>\n  )\n}\n\nexport default SortRestaurants\n","import React, { useEffect, useState } from 'react'\n\nfunction StarRating({ rating, count }) {\n  const [stars, setStars] = useState()\n  useEffect(() => {\n    let starsList = []\n    let num = parseFloat(rating)\n    for (var i = 1; i <= 5; i++) {\n      if (i <= num) {\n        starsList.push(<i key={i} className=\"fa fa-star\" aria-hidden=\"true\"></i>)\n      } else if (i - 0.5 <= num) {\n        starsList.push(<i key={i} className=\"fa fa-star-half-o\" aria-hidden=\"true\"></i>)\n      } else {\n        starsList.push(<i key={i} className=\"fa fa-star-o\" aria-hidden=\"true\"></i>)\n      }\n    }\n    setStars(starsList)\n  }, [rating])\n  return (\n    <>\n      {stars} {count ? `(${count})` : ''}\n    </>\n  )\n}\n\nexport default StarRating\n","import React, { createContext } from 'react'\n\nlet RestaurantContext = createContext()\n\nexport default RestaurantContext\n","import React, { useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport { InfoWindow } from 'google-maps-react'\n\nexport default function InfoWindowEx(props) {\n  const infoWindowRef = React.createRef()\n  const contentElement = document.createElement(`div`)\n\n  useEffect(() => {\n    ReactDOM.render(React.Children.only(props.children), contentElement)\n    infoWindowRef.current.infowindow.setContent(contentElement)\n  }, [props.children])\n\n  return <InfoWindow ref={infoWindowRef} {...props} />\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { Map, GoogleApiWrapper, Marker, InfoWindow } from 'google-maps-react'\nimport { useHistory } from 'react-router-dom'\nimport RestaurantContext from '../RestaurantContext'\nimport InfoWindowEx from './InfoWindowEx'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\n\nfunction MapContainer(props) {\n  const { restaurantCollection, sortCount } = useContext(RestaurantContext)\n  const [markers, setMarkers] = useState([])\n  const [selectedMarker, setSelectedMarker] = useState(null)\n  const [rerender, setRerender] = useState(0)\n  const history = useHistory()\n  const dispatch = useContext(AppContext)\n\n  const [key, setKey] = useState(0)\n  const [pastList, setPastList] = useState({\n    length: restaurantCollection.length,\n    firstItem: restaurantCollection[0]\n  })\n  const [pastSortCount, setPastSortCount] = useState(sortCount)\n\n  // Loads new markers ONLY when a search is made\n  useEffect(() => {\n    setMarkers(\n      restaurantCollection.map(restaurant => {\n        let lat = parseFloat(restaurant.latitude)\n        let lng = parseFloat(restaurant.longtitude)\n        return (\n          <Marker\n            key={restaurant.id}\n            position={{ lat, lng }}\n            onClick={() => {\n              handleMarkerClick(restaurant)\n            }}\n          />\n        )\n      })\n    )\n  }, [key])\n\n  // Marker Click Handler\n  async function handleMarkerClick(restaurant) {\n    try {\n      const response = await axios.get(`/api/restaurants/${restaurant.id}`)\n      setSelectedMarker(response.data)\n    } catch (err) {\n      setSelectedMarker(restaurant)\n      dispatch({ type: 'FlashMessage', value: 'Error retrieving restaurant image.', color: 'error' })\n    }\n  }\n\n  // Rerenders the component to fix bug where info window was not appearing on first marker click\n  useEffect(() => {\n    setRerender(prev => prev + 1)\n  }, [selectedMarker])\n\n  // The following code initiates a new default center when a search is performed\n\n  useEffect(() => {\n    if (restaurantCollection.length !== pastList.length) {\n      setSelectedMarker(null)\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    } else if (restaurantCollection[0] !== pastList.firstItem && sortCount === pastSortCount) {\n      setSelectedMarker(null)\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    }\n    setPastSortCount(sortCount)\n  }, [restaurantCollection])\n\n  // Redirect\n  function redirectRestaurantDetails(id) {\n    history.push(`/restaurant/${id}`)\n  }\n\n  // Map Component-Specific Code\n  function zoomLevel() {\n    if (restaurantCollection.length > 2) {\n      return 9\n    }\n    return 11\n  }\n\n  function coords() {\n    if (restaurantCollection.length) {\n      return { lat: parseFloat(restaurantCollection[0].latitude), lng: parseFloat(restaurantCollection[0].longtitude) }\n    } else {\n      return { lat: 43.6532, lng: -79.3832 }\n    }\n  }\n\n  const mapStyles = {\n    width: '100%',\n    height: '100%'\n  }\n  const containerStyle = {\n    position: 'relative',\n    height: '70vh',\n    width: '100%'\n  }\n\n  return (\n    <>\n      <Map google={props.google} zoom={zoomLevel()} key={key} initialCenter={coords()} style={mapStyles} containerStyle={containerStyle}>\n        {markers}\n        {selectedMarker && (\n          <InfoWindowEx\n            onClose={() => setSelectedMarker(null)}\n            position={{\n              lat: parseFloat(selectedMarker.latitude),\n              lng: parseFloat(selectedMarker.longtitude)\n            }}\n            visible={true}\n          >\n            <div>\n              {selectedMarker.images[0] && (\n                <div>\n                  <div style={{ width: '50px', height: '50px' }}>\n                    <img style={{ width: '50px', height: '50px' }} src={selectedMarker.images[0].url_location} />\n                  </div>\n                </div>\n              )}\n              <h3>{selectedMarker.name}</h3>\n              <button type=\"button\" onClick={() => redirectRestaurantDetails(selectedMarker.id)}>\n                View Details\n              </button>\n            </div>\n          </InfoWindowEx>\n        )}\n      </Map>\n    </>\n  )\n}\n\nexport default GoogleApiWrapper({\n  apiKey: `https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${process.env.REACT_APP_API_KEY}`\n})(MapContainer)\n\n/* import React, { useEffect, useState, useContext } from 'react'\nimport { GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow } from 'react-google-maps'\nimport RestaurantContext from '../RestaurantContext'\n\nfunction Map(props) {\n  const { restaurantCollection } = useContext(RestaurantContext)\n  const [markers, setMarkers] = useState([])\n  const [selectedMarker, setSelectedMarker] = useState(null)\n\n  useEffect(() => {\n    setMarkers(\n      restaurantCollection.map(restaurant => {\n        let lat = parseFloat(restaurant.latitude)\n        let lng = parseFloat(restaurant.longtitude)\n        return <Marker key={restaurant.id} position={{ lat, lng }} onClick={() => setSelectedMarker(restaurant)} />\n      })\n    )\n  }, [restaurantCollection])\n\n  function coords() {\n    if (restaurantCollection.length) {\n      return { lat: parseFloat(restaurantCollection[0].latitude), lng: parseFloat(restaurantCollection[0].longtitude) }\n    } else {\n      return { lat: 43.6532, lng: -79.3832 }\n    }\n  }\n\n  return (\n    <>\n      <GoogleMap defaultZoom={10} defaultCenter={coords()}>\n        {markers}\n        {selectedMarker && (\n          <InfoWindow\n            position={{\n              lat: parseFloat(selectedMarker.latitude),\n              lng: parseFloat(selectedMarker.longtitude)\n            }}\n            onCloseClick={() => {\n              setSelectedMarker(null)\n            }}\n          >\n            <div>{selectedMarker.name}</div>\n          </InfoWindow>\n        )}\n      </GoogleMap>\n    </>\n  )\n}\n\nconst WrappedMap = withScriptjs(withGoogleMap(Map))\n\nfunction HomeMap(props) {\n  const { restaurantCollection, sortCount } = useContext(RestaurantContext)\n  const [pastList, setPastList] = useState({\n    length: restaurantCollection.length,\n    firstItem: restaurantCollection[0]\n  })\n  const [pastSortCount, setPastSortCount] = useState(sortCount)\n\n  const [key, setKey] = useState(0)\n  useEffect(() => {\n    if (restaurantCollection.length !== pastList.length) {\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    } else if (restaurantCollection[0] !== pastList.firstItem && sortCount === pastSortCount) {\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    }\n    setPastSortCount(sortCount)\n  }, [restaurantCollection])\n  return (\n    <div style={{ width: '100vw', height: '100vh' }}>\n      <WrappedMap key={key} googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${process.env.REACT_APP_API_KEY}`} loadingElement={<div style={{ height: '100%' }} />} containerElement={<div style={{ height: '100%' }} />} mapElement={<div style={{ height: '100%' }} />} />\n    </div>\n  )\n}\n\nexport default HomeMap */\n","import React, { useEffect, useState, useContext, useCallback } from 'react'\nimport * as _ from 'underscore'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\nimport SortRestaurants from './SortRestaurants'\nimport StarRating from './StarRating'\nimport HomeMap from './HomeMap'\nimport RestaurantContext from '../RestaurantContext'\n\nfunction Home(props) {\n  // Set up state\n  const [isLoading, setIsLoading] = useState(true)\n  const [restaurantCollection, setRestaurantCollection] = useState([])\n  const [restaurants, setRestaurants] = useState([])\n  const [counter, setCounter] = useState(10)\n  const [sortCount, setSortCount] = useState(0)\n\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  // Acquire restaurant data on page load\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const response = await axios.get('/api/restaurants')\n        setRestaurantCollection(response.data)\n        setRestaurants(response.data.slice(0, 10))\n        setIsLoading(false)\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: 'Server is temporarily down. Please try again later.', color: 'error' })\n      }\n    }\n    fetchData()\n  }, [])\n\n  // Handles Delete Button Click\n  async function handleDelete(id) {\n    const confirm = window.confirm('Are you sure you want to delete this post?')\n    if (confirm) {\n      try {\n        await axios.delete(`/api/restaurants/${id}`)\n        setRestaurants(prev => prev.filter(restaurant => restaurant.id !== id))\n        setRestaurantCollection(prev => prev.filter(restaurant => restaurant.id !== id))\n        dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully deleted!', color: 'success' })\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    }\n  }\n\n  // Loads more restuarants when scrolled to bottom of screen\n  const triggerMoreRestaurants = useCallback(() => {\n    if (window.scrollY + window.innerHeight >= document.body.offsetHeight) {\n      setCounter(prev => prev + 10)\n    }\n  }, [])\n\n  // Throttles scroll event\n  const handleScrollEvent = useCallback(_.throttle(triggerMoreRestaurants, 200), [])\n\n  // Adds scroll event listener to trigger infinite load functionality\n  useEffect(() => {\n    window.addEventListener('scroll', handleScrollEvent)\n    return () => window.removeEventListener('scroll', handleScrollEvent)\n  }, [restaurantCollection])\n\n  // Handles Load More Button Functionality\n  useEffect(() => {\n    setRestaurants(restaurantCollection.slice(0, counter))\n    if (restaurantCollection.length && counter >= restaurantCollection.length) {\n      window.removeEventListener('scroll', handleScrollEvent)\n    }\n  }, [counter])\n\n  // Send back loading page until data has been retrieved\n  if (isLoading) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <>\n      <RestaurantContext.Provider value={{ restaurantCollection, sortCount }}>\n        <HomeMap />\n      </RestaurantContext.Provider>\n      <h1>Restaurants List</h1>\n      <SortRestaurants setRestaurants={setRestaurants} setSortCount={setSortCount} setRestaurantCollection={setRestaurantCollection} restaurantCollection={restaurantCollection} />\n      <div>\n        {restaurants.map(restaurant => {\n          let dollarAmount = ''\n          for (var i = 0; i < restaurant.pricerange; i++) {\n            dollarAmount += '$'\n          }\n          return (\n            <div key={restaurant.id}>\n              <br />\n              <div>Name: {restaurant.name}</div>\n              <div>Description: {restaurant.description}</div>\n              <div>Location: {restaurant.location}</div>\n              <div>Price Range: {dollarAmount}</div>\n              {restaurant.rating ? <StarRating rating={restaurant.rating} count={restaurant.count} /> : 'No Ratings'}\n              <br />\n              <Link to={`/restaurant/${restaurant.id}`}>View Details</Link>\n              {state.loggedIn && (\n                <>\n                  <Link to={`/restaurant/${restaurant.id}/update`}>Edit Restaurant</Link>\n                  <button onClick={() => handleDelete(restaurant.id)}>Delete Restaurant</button>\n                </>\n              )}\n              <br />\n            </div>\n          )\n        })}\n      </div>\n      {!restaurants.length && <h1>No Results found...</h1>}\n      <br />\n      <br />\n      {/* {{isMoreResults && <button onClick={() => setCounter(prev => prev + 10)}>Load More Restaurants</button>}} */}\n    </>\n  )\n}\n\nexport default Home\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\n\nfunction UpdateRestaurant(props) {\n  const [isLoading, setIsLoading] = useState(true)\n  const [restaurant, setRestaurant] = useState({\n    name: '',\n    description: '',\n    pricerange: '',\n    street: '',\n    city: '',\n    province: '',\n    country: '',\n    postalcode: ''\n  })\n  const [file, setFile] = useState()\n  const [uploadedImages, setUploadedImages] = useState()\n\n  let history = useHistory()\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n  const { id } = useParams()\n\n  // Redirect if user not logged in\n  useEffect(() => {\n    if (!state.loggedIn) {\n      history.push('/')\n      dispatch({ type: 'FlashMessage', value: 'You do not have the authorization to view that page.', color: 'error' })\n    }\n  }, [state.loggedIn])\n\n  useEffect(() => {\n    if (state.loggedIn) {\n      async function fetchRestaurantData() {\n        try {\n          const response = await axios.get(`/api/restaurants/${id}`)\n          setRestaurant(response.data)\n          setIsLoading(false)\n        } catch (err) {\n          dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n          history.push('/')\n        }\n      }\n      fetchRestaurantData()\n    }\n  }, [id])\n\n  async function submitHandler(e) {\n    e.preventDefault()\n    try {\n      let location = `${restaurant.street} ${restaurant.city} ${restaurant.province} ${restaurant.country}`\n      const apiResponse = await axios.get('https://maps.googleapis.com/maps/api/geocode/json', {\n        params: {\n          address: location,\n          key: process.env.REACT_APP_API_KEY\n        }\n      })\n      let lat = apiResponse.data.results[0].geometry.location.lat\n      let lng = apiResponse.data.results[0].geometry.location.lng\n\n      // Update restaurant details in database\n      const response = await axios.put(`/api/restaurants/${id}`, {\n        name: restaurant.name,\n        description: restaurant.description,\n        priceRange: parseInt(restaurant.pricerange),\n        street: restaurant.street,\n        city: restaurant.city,\n        province: restaurant.province,\n        country: restaurant.country,\n        postalcode: restaurant.postalcode,\n        longtitude: lng,\n        latitude: lat\n      })\n\n      if (file) {\n        let formData = new FormData()\n        for (let i = 0; i < file.length; i++) {\n          formData.append(`image`, file[i])\n        }\n\n        await axios.post(`/api/restaurants/upload-image/${response.data.id}`, formData, {\n          headers: { 'Content-Type': 'multipart/form-data' }\n        })\n      }\n\n      history.push(`/restaurant/${id}`)\n      dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully updated!', color: 'success' })\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  // Update field input\n  function updateInput(e) {\n    setRestaurant({ ...restaurant, [e.currentTarget.name]: e.currentTarget.value })\n  }\n\n  // Update File State\n  function updateFileState(e) {\n    let urlList = []\n    let files = []\n    // Loops over uploaded files, and only saves png/jpeg files that are below 2MB\n    for (var i = 0, n = e.currentTarget.files.length; i < n; i++) {\n      let currentFile = e.currentTarget.files[i]\n      if (currentFile.type == 'image/png' || currentFile.type == 'image/jpeg') {\n        // Make sure file is less than 2MB\n        if (currentFile.size < 2097152) {\n          files.push(currentFile)\n          urlList.push(URL.createObjectURL(currentFile))\n        } else {\n          dispatch({ type: 'FlashMessage', value: `${currentFile.name} is too big! Images must be below 2MB`, color: 'error' })\n        }\n      }\n    }\n    setFile(files)\n    setUploadedImages(urlList)\n  }\n\n  if (isLoading) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <>\n      <h1>Update Restaurant</h1>\n      <form onSubmit={submitHandler}>\n        <input name=\"name\" placeholder=\"Name\" type=\"text\" value={restaurant.name} onChange={e => updateInput(e)} required />\n        <input name=\"description\" placeholder=\"Description\" type=\"text\" value={restaurant.description} onChange={e => updateInput(e)} required />\n        <input name=\"pricerange\" placeholder=\"Price Range\" type=\"number\" value={restaurant.pricerange} onChange={e => updateInput(e)} required max=\"5\" min=\"1\" />\n        <input name=\"street\" placeholder=\"Street\" type=\"text\" value={restaurant.street} onChange={e => updateInput(e)} required />\n        <input name=\"city\" placeholder=\"City\" type=\"text\" value={restaurant.city} onChange={e => updateInput(e)} required />\n        <input name=\"province\" placeholder=\"Province\" type=\"text\" value={restaurant.province} onChange={e => updateInput(e)} required />\n        <input name=\"country\" placeholder=\"Country\" type=\"text\" value={restaurant.country} onChange={e => updateInput(e)} required />\n        <input name=\"postalcode\" placeholder=\"Postal Code\" type=\"text\" value={restaurant.postalcode} onChange={e => updateInput(e)} required />\n        <input type=\"file\" onChange={updateFileState} multiple />\n        <button type=\"submit\">Update Restaurant</button>\n      </form>\n      {uploadedImages &&\n        uploadedImages.map((url, index) => (\n          <div key={index}>\n            <div style={{ width: '200px', height: '200px' }}>\n              <img style={{ width: '200px', height: '200px' }} src={url} />\n            </div>\n          </div>\n        ))}\n    </>\n  )\n}\n\nexport default UpdateRestaurant\n","import React, { useEffect, useState, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\nimport StarRating from './StarRating'\n\nfunction RestaurantReview(props) {\n  const { review, ratings, setRatings, restaurant, setRestaurant, setRatingsCollection } = props\n\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  async function handleDelete() {\n    try {\n      await axios.delete(`/api/ratings/${review.id}`)\n      // Update the rating & count displayed on page\n      updatePageRating()\n      // Remove from page\n      setRatings(prev => prev.filter(rating => rating.id !== review.id))\n      setRatingsCollection(prev => prev.filter(rating => rating.id !== review.id))\n      dispatch({ type: 'FlashMessage', value: 'Review was successfully deleted!', color: 'success' })\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  function updatePageRating() {\n    let sumOfRatings = 0\n    // Add each rating to the sum\n    ratings.forEach(item => {\n      sumOfRatings += parseFloat(item.rating)\n    })\n    // Subtracts the deleted rating from sum\n    sumOfRatings -= parseFloat(review.rating)\n    // Calculates new rating\n    let updatedRating = (sumOfRatings / (ratings.length - 1)).toFixed(1)\n    // Updates the restaurants rating & count state\n    setRestaurant({ ...restaurant, rating: updatedRating, count: restaurant.count - 1 })\n  }\n\n  return (\n    <>\n      <StarRating rating={review.rating} />\n      <div>{review.rating}</div>\n      <div>{review.name}</div>\n      <div>{review.message}</div>\n      {state.loggedIn && (\n        <button type=\"submit\" onClick={handleDelete}>\n          Delete Review\n        </button>\n      )}\n      <br />\n    </>\n  )\n}\n\nexport default RestaurantReview\n","import React, { useEffect, useState, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\n\nfunction NewRatingInput({ id, setRatings, ratings, setRestaurant, restaurant, setRatingsCollection }) {\n  const [newRating, setNewRating] = useState({\n    restaurant_id: id,\n    rating: '',\n    name: '',\n    message: ''\n  })\n  const dispatch = useContext(AppContext)\n\n  function updateInput(e) {\n    setNewRating({ ...newRating, [e.currentTarget.name]: e.currentTarget.value })\n  }\n\n  async function onSubmit(e) {\n    e.preventDefault()\n    // Confirms fields have values & rating is between 1-5 before sending request to server\n    if (newRating.restaurant_id && 1 <= parseFloat(newRating.rating) <= 5 && newRating.name && newRating.message) {\n      try {\n        // Sends off request to store new rating in database\n        const response = await axios.post(`/api/ratings/`, {\n          restaurant_id: newRating.restaurant_id,\n          rating: parseFloat(newRating.rating),\n          name: newRating.name,\n          message: newRating.message\n        })\n        // Update the rating & count displayed on page\n        updateCurrentPageRating(newRating.rating)\n        // Add the new review to the page\n        setRatings(prev => [response.data].concat(prev))\n        setRatingsCollection(prev => [response.data].concat(prev))\n        // Reset the form field inputs to empty\n        setNewRating({ restaurant_id: id, rating: '', name: '', message: '' })\n        // Sends off success message\n        dispatch({ type: 'FlashMessage', value: 'Review was successfully published!', color: 'success' })\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    } else {\n      dispatch({ type: 'FlashMessage', value: 'You cannot leave the fields blank.', color: 'error' })\n    }\n  }\n\n  function updateCurrentPageRating(newRating) {\n    let sumOfRatings = parseFloat(newRating)\n    // Loops over each rating to get sum\n    ratings.forEach(review => {\n      sumOfRatings += parseFloat(review.rating)\n    })\n    // Calculates new average rating\n    let updatedRating = (sumOfRatings / (ratings.length + 1)).toFixed(1)\n    // Updates the state\n    setRestaurant({ ...restaurant, rating: updatedRating, count: parseInt(restaurant.count) + 1 })\n  }\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <input type=\"number\" name=\"rating\" placeholder=\"Rating\" value={newRating.rating} onChange={e => updateInput(e)} min=\"1\" max=\"5\" step=\"0.1\" />\n        <input type=\"text\" name=\"name\" placeholder=\"Name\" value={newRating.name} onChange={e => updateInput(e)} />\n        <input type=\"text\" name=\"message\" placeholder=\"Message\" value={newRating.message} onChange={e => updateInput(e)} />\n        <button type=\"submit\">Submit Review</button>\n      </form>\n    </>\n  )\n}\n\nexport default NewRatingInput\n","import React, { useEffect } from 'react'\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react'\n\nfunction RestaurantMap(props) {\n  const { restaurant } = props\n  const coords = { lat: restaurant.latitude, lng: restaurant.longtitude }\n\n  const mapStyles = {\n    width: '100%',\n    height: '100%'\n  }\n  const containerStyle = {\n    position: 'relative',\n    height: '400px',\n    width: '400px'\n  }\n\n  return (\n    <>\n      <Map google={props.google} zoom={14} initialCenter={coords} style={mapStyles} containerStyle={containerStyle} disableDefaultUI={true} zoomControl={true} streetViewControl={true}>\n        <Marker position={coords} />\n      </Map>\n    </>\n  )\n}\n\nexport default GoogleApiWrapper({\n  apiKey: `https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${process.env.REACT_APP_API_KEY}`\n})(RestaurantMap)\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useParams, useHistory, Link } from 'react-router-dom'\nimport axios from 'axios'\nimport RestaurantReview from './RestaurantReview'\nimport NewRatingInput from './NewRatingInput'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\nimport StarRating from './StarRating'\nimport RestaurantMap from './RestaurantMap'\n\nfunction RestaurantDetails(props) {\n  const [isLoading, setIsLoading] = useState(true)\n  const [restaurant, setRestaurant] = useState()\n  const [ratings, setRatings] = useState([])\n  const [ratingsCollection, setRatingsCollection] = useState([])\n  const [counter, setCounter] = useState(5)\n  const [isMoreRatings, setIsMoreRatings] = useState(false)\n  const [scrollPosition, setScrollPosition] = useState(0)\n  const [loadEvent, setLoadEvent] = useState(0)\n\n  const history = useHistory()\n  const { id } = useParams()\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  useEffect(() => {\n    async function fetchRestaurantData() {\n      try {\n        const response = await axios.get(`/api/restaurants/${id}`)\n        setRestaurant(response.data)\n        fetchRestaurantReviews()\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: 'A restaurant with that id does not exist', color: 'error' })\n        history.push('/')\n      }\n    }\n    async function fetchRestaurantReviews() {\n      try {\n        const response = await axios.get(`/api/ratings/${id}`)\n        setRatingsCollection(response.data)\n        setRatings(response.data.slice(0, counter))\n        if (response.data.length > 5) setIsMoreRatings(true)\n        setIsLoading(false)\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    }\n    fetchRestaurantData()\n  }, [id])\n\n  // Handle Restaurant Image Delete\n  async function deleteImage(id) {\n    try {\n      await axios.delete(`/api/restaurants/delete-image/${id}`)\n      let updatedImages = restaurant.images.filter(image => image.id !== id)\n      setRestaurant({ ...restaurant, images: updatedImages })\n      dispatch({ type: 'FlashMessage', value: 'Image deleted successfully!', color: 'success' })\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  // Handle Restaurant Delete Button Click\n  async function handleDelete(id) {\n    const confirm = window.confirm('Are you sure you want to delete this restaurant?')\n    if (confirm) {\n      try {\n        await axios.delete(`/api/restaurants/${id}`)\n        dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully deleted!', color: 'success' })\n        history.push('/')\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    }\n  }\n\n  // Handle Load More Button\n  useEffect(() => {\n    setScrollPosition(window.scrollY)\n    setRatings(ratingsCollection.slice(0, counter))\n    setLoadEvent(prev => prev + 1)\n    if (ratingsCollection.length && counter >= ratingsCollection.length) {\n      setIsMoreRatings(false)\n    }\n  }, [counter])\n\n  // Restores current page position after loading new ratings\n  useEffect(() => {\n    window.scrollTo(0, scrollPosition)\n  }, [loadEvent])\n\n  if (isLoading) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <>\n      <h1>{restaurant.name}</h1>\n      {state.loggedIn && <Link to={`/restaurant/${restaurant.id}/update`}>Add Photo(s)</Link>}\n      <br />\n      <br />\n      {restaurant.images &&\n        restaurant.images.map(image => (\n          <div key={image.id}>\n            {state.loggedIn && <button onClick={() => deleteImage(image.id)}>delete image by clicking this button!</button>}\n            <div style={{ width: '200px', height: '200px' }}>\n              <img style={{ width: '200px', height: '200px' }} src={image.url_location} />\n            </div>\n          </div>\n        ))}\n      <RestaurantMap restaurant={restaurant} />\n      <h3>Page Details</h3>\n      <div>name: {restaurant.name}</div>\n      <div>description: {restaurant.description}</div>\n      <div>location: {restaurant.location}</div>\n      <div>pricerange: {restaurant.pricerange}</div>\n      {restaurant.rating > 0 ? <StarRating rating={restaurant.rating} count={restaurant.count} /> : 'No Ratings'}\n      <div>rating: {restaurant.rating}</div>\n      <div>count: {restaurant.count}</div>\n      {state.loggedIn && (\n        <>\n          <Link to={`/restaurant/${restaurant.id}/update`}>Edit Restaurant</Link>\n          <button onClick={() => handleDelete(restaurant.id)}>Delete Restaurant</button>\n        </>\n      )}\n      <br />\n      <NewRatingInput id={id} setRatings={setRatings} ratings={ratings} setRestaurant={setRestaurant} restaurant={restaurant} setRatingsCollection={setRatingsCollection} />\n      <br />\n      <br />\n      <div>\n        {ratings.map(review => {\n          return <RestaurantReview key={review.id} review={review} setRatings={setRatings} ratings={ratings} setRestaurant={setRestaurant} restaurant={restaurant} setRatingsCollection={setRatingsCollection} />\n        })}\n      </div>\n      {isMoreRatings && <button onClick={() => setCounter(prev => prev + 5)}>Load More Ratings</button>}\n    </>\n  )\n}\n\nexport default RestaurantDetails\n","import React, { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction PageNotFound(props) {\n  return (\n    <>\n      <h1>404 Error</h1>\n      <div>Page not found</div>\n      <Link to=\"/\">Return Home</Link>\n    </>\n  )\n}\n\nexport default PageNotFound\n","import React, { useEffect, useState, useCallback, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport { Link } from 'react-router-dom'\n\nfunction Searchbar(props) {\n  const [searchQuery, setSearchQuery] = useState('')\n  const [searchResults, setSearchResults] = useState([])\n  const [searchLoading, setSearchLoading] = useState(false)\n  const dispatch = useContext(AppContext)\n  let timer\n\n  const fetchResults = async () => {\n    try {\n      let response = await axios.get(`/api/query/${searchQuery}`)\n      if (response.data.length) {\n        setSearchResults(response.data)\n      } else {\n        setSearchResults([])\n      }\n      setSearchLoading(false)\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  useEffect(() => {\n    if (searchQuery.length) {\n      setSearchLoading(true)\n      timer = setTimeout(fetchResults, 300)\n    } else {\n      setSearchLoading(false)\n      setSearchResults([])\n    }\n    return () => clearTimeout(timer)\n  }, [searchQuery])\n\n  return (\n    <>\n      <div>{searchLoading && <h3>Loading...</h3>}</div>\n      <input type=\"text\" placeholder=\"Search for restaurant...\" value={searchQuery} onChange={e => setSearchQuery(e.currentTarget.value)} />\n      {searchResults.length > 0 && (\n        <ul>\n          {searchResults.map(result => {\n            return <SingleSearchResult key={result.id} {...result} setSearchResults={setSearchResults} />\n          })}\n        </ul>\n      )}\n    </>\n  )\n}\n\nfunction SingleSearchResult(props) {\n  return (\n    <li>\n      <Link to={`/restaurant/${props.id}`} onClick={() => props.setSearchResults(false)}>\n        <div>{props.name}</div>\n      </Link>\n    </li>\n  )\n}\n\nexport default Searchbar\n","import React, { useEffect, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport Searchbar from './Searchbar'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\n\nfunction Header(props) {\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n  function switchView() {\n    if (state.loggedIn) {\n      dispatch({ type: 'Logout' })\n    } else {\n      dispatch({ type: 'Login' })\n    }\n  }\n  return (\n    <>\n      <div className=\"navbar\">\n        <ul className=\"nav-list\">\n          <li className=\"nav-item\">\n            <Link to=\"/\" className=\"nav-link\">\n              Home\n            </Link>\n          </li>\n          {state.loggedIn && (\n            <li className=\"nav-item\">\n              <Link to=\"/restaurant/create\" className=\"nav-link\">\n                Create Restaurant\n              </Link>\n            </li>\n          )}\n          <li className=\"nav-item\">\n            <button className=\"nav-link\" onClick={switchView}>\n              {state.loggedIn ? 'Switch to User' : 'Switch to Admin'}\n            </button>\n          </li>\n        </ul>\n        <Searchbar />\n      </div>\n    </>\n  )\n}\n\nexport default Header\n","import React, { useEffect } from 'react'\n\nfunction Footer(props) {\n  return (\n    <>\n      <div className=\"footer\">\n        <p className=\"footer-text\">Yelp Clone Web App</p>\n      </div>\n    </>\n  )\n}\n\nexport default Footer\n","import React, { useEffect } from 'react'\n\nfunction FlashMessage({ state }) {\n  function handleRemove(e) {\n    e.currentTarget.style.display = 'none'\n  }\n\n  return (\n    <div className=\"flash-message-container\">\n      {state.flashMessages.length > 0 &&\n        state.flashMessages.map((flashMessage, index) => {\n          return (\n            <div key={index} className={'alert ' + flashMessage.color} onAnimationEnd={e => handleRemove(e)}>\n              <div className=\"flashMessage\">{flashMessage.message}</div>\n            </div>\n          )\n        })}\n    </div>\n  )\n}\n\nexport default FlashMessage\n","import React, { useState, useContext, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\n\nfunction CreateRestaurantPage(props) {\n  const [restaurant, setRestaurant] = useState({\n    name: '',\n    description: '',\n    pricerange: '',\n    street: '',\n    city: '',\n    province: '',\n    country: '',\n    postalcode: ''\n  })\n  const [file, setFile] = useState()\n  const [uploadedImages, setUploadedImages] = useState()\n\n  let history = useHistory()\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  async function submitHandler(e) {\n    e.preventDefault()\n    try {\n      let location = `${restaurant.street} ${restaurant.city} ${restaurant.province} ${restaurant.country}`\n      const apiResponse = await axios.get('https://maps.googleapis.com/maps/api/geocode/json', {\n        params: {\n          address: location,\n          key: process.env.REACT_APP_API_KEY\n        }\n      })\n      let lat = apiResponse.data.results[0].geometry.location.lat\n      let lng = apiResponse.data.results[0].geometry.location.lng\n\n      // Add restaurant to database\n      const response = await axios.post(`/api/restaurants`, {\n        name: restaurant.name,\n        description: restaurant.description,\n        priceRange: parseInt(restaurant.pricerange),\n        street: restaurant.street,\n        city: restaurant.city,\n        province: restaurant.province,\n        country: restaurant.country,\n        postalcode: restaurant.postalcode,\n        longtitude: lng,\n        latitude: lat\n      })\n\n      if (file) {\n        let formData = new FormData()\n        for (let i = 0; i < file.length; i++) {\n          formData.append(`image`, file[i])\n        }\n\n        await axios.post(`/api/restaurants/upload-image/${response.data.id}`, formData, {\n          headers: { 'Content-Type': 'multipart/form-data' }\n        })\n      }\n\n      dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully created!', color: 'success' })\n      history.push(`/restaurant/${response.data.id}`)\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  // Update field input\n  function updateInput(e) {\n    setRestaurant({ ...restaurant, [e.currentTarget.name]: e.currentTarget.value })\n  }\n\n  // Update File State\n  function updateFileState(e) {\n    let urlList = []\n    let files = []\n    // Loops over uploaded files, and only saves png/jpeg files that are below 2MB\n    for (var i = 0, n = e.currentTarget.files.length; i < n; i++) {\n      let currentFile = e.currentTarget.files[i]\n      if (currentFile.type == 'image/png' || currentFile.type == 'image/jpeg') {\n        // Make sure file is less than 2MB\n        if (currentFile.size < 2097152) {\n          files.push(currentFile)\n          urlList.push(URL.createObjectURL(currentFile))\n        } else {\n          dispatch({ type: 'FlashMessage', value: `${currentFile.name} is too big! Images must be below 2MB`, color: 'error' })\n        }\n      }\n    }\n    setFile(files)\n    setUploadedImages(urlList)\n  }\n\n  // Redirect if user not logged in\n  useEffect(() => {\n    if (!state.loggedIn) {\n      dispatch({ type: 'FlashMessage', value: 'You do not have the authorization to view that page.', color: 'error' })\n      history.push('/')\n    }\n  }, [state.loggedIn])\n\n  return (\n    <>\n      <h1>Create New Restaurant</h1>\n      <form onSubmit={submitHandler}>\n        <input name=\"name\" placeholder=\"Name\" type=\"text\" value={restaurant.name} onChange={e => updateInput(e)} required />\n        <input name=\"description\" placeholder=\"Description\" type=\"text\" value={restaurant.description} onChange={e => updateInput(e)} required />\n        <input name=\"pricerange\" placeholder=\"Price Range\" type=\"number\" value={restaurant.pricerange} onChange={e => updateInput(e)} required max=\"5\" min=\"1\" />\n        <input name=\"street\" placeholder=\"Street\" type=\"text\" value={restaurant.street} onChange={e => updateInput(e)} required />\n        <input name=\"city\" placeholder=\"City\" type=\"text\" value={restaurant.city} onChange={e => updateInput(e)} required />\n        <input name=\"province\" placeholder=\"Province\" type=\"text\" value={restaurant.province} onChange={e => updateInput(e)} required />\n        <input name=\"country\" placeholder=\"Country\" type=\"text\" value={restaurant.country} onChange={e => updateInput(e)} required />\n        <input name=\"postalcode\" placeholder=\"Postal Code\" type=\"text\" value={restaurant.postalcode} onChange={e => updateInput(e)} required />\n        <input type=\"file\" onChange={updateFileState} multiple />\n        <button type=\"submit\">Create New Restaurant</button>\n      </form>\n      {uploadedImages &&\n        uploadedImages.map((url, index) => (\n          <div key={index}>\n            <div style={{ width: '200px', height: '200px' }}>\n              <img style={{ width: '200px', height: '200px' }} src={url} />\n            </div>\n          </div>\n        ))}\n    </>\n  )\n}\n\nexport default CreateRestaurantPage\n","import React, { useReducer } from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport AppContext from './AppContext'\nimport StateContext from './StateContext'\n\n// Components\nimport Home from './components/Home'\nimport UpdateRestaurant from './components/UpdateRestaurant'\nimport RestaurantDetails from './components/RestaurantDetails'\nimport PageNotFound from './components/PageNotFound'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport FlashMessage from './components/FlashMessage'\nimport CreateRestaurantPage from './components/CreateRestaurantPage'\n\nfunction App() {\n  const initialState = {\n    flashMessages: [],\n    loggedIn: Boolean(localStorage.getItem('yelp-admin'))\n  }\n\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case 'FlashMessage':\n        return { ...state, flashMessages: state.flashMessages.concat({ message: action.value, color: action.color }) }\n      case 'Login':\n        localStorage.setItem('yelp-admin', true)\n        return { ...state, loggedIn: true }\n      case 'Logout':\n        localStorage.removeItem('yelp-admin')\n        return { ...state, loggedIn: false }\n    }\n  }\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n  return (\n    <AppContext.Provider value={dispatch}>\n      <StateContext.Provider value={state}>\n        <BrowserRouter>\n          <Header />\n          <FlashMessage state={state} />\n          <Switch>\n            <Route path=\"/\" exact>\n              <Home />\n            </Route>\n            <Route path=\"/restaurant/create\">\n              <CreateRestaurantPage />\n            </Route>\n            <Route path=\"/restaurant/:id\" exact>\n              <RestaurantDetails />\n            </Route>\n            <Route path=\"/restaurant/:id/update\">\n              <UpdateRestaurant />\n            </Route>\n            <Route path=\"*\">\n              <PageNotFound />\n            </Route>\n          </Switch>\n          <Footer />\n        </BrowserRouter>\n      </StateContext.Provider>\n    </AppContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}