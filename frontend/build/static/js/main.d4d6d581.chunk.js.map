{"version":3,"sources":["AppContext.js","StateContext.js","components/SortRestaurants.js","components/StarRating.js","RestaurantContext.js","components/InfoWindowEx.js","components/HomeMap.js","components/Home.js","components/UpdateRestaurant.js","components/RestaurantReview.js","components/NewRatingInput.js","components/RestaurantMap.js","components/RestaurantDetails.js","components/PageNotFound.js","components/Searchbar.js","components/Header.js","components/Footer.js","components/FlashMessage.js","components/CreateRestaurantPage.js","App.js","index.js"],"names":["AppContext","createContext","StateContext","SortRestaurants","setRestaurants","setRestaurantCollection","restaurantCollection","setSortCount","useState","locationType","setLocationType","location","setLocation","showButton","setShowButton","dispatch","useContext","e","a","preventDefault","axios","get","response","data","slice","type","value","color","onChange","newList","currentTarget","sort","b","rating","pricerange","count","name","localeCompare","prev","defaultValue","disabled","onSubmit","placeholder","onClick","StarRating","stars","setStars","useEffect","starsList","num","parseFloat","i","push","key","className","aria-hidden","RestaurantContext","InfoWindowEx","props","infoWindowRef","React","createRef","contentElement","document","createElement","ReactDOM","render","Children","only","children","current","infowindow","setContent","ref","GoogleApiWrapper","apiKey","sortCount","markers","setMarkers","selectedMarker","setSelectedMarker","setRerender","history","useHistory","setKey","length","firstItem","pastList","setPastList","pastSortCount","setPastSortCount","restaurant","id","map","lat","latitude","lng","longtitude","position","handleMarkerClick","google","zoom","initialCenter","style","width","height","containerStyle","onClose","visible","images","src","url_location","Home","isLoading","setIsLoading","restaurants","counter","setCounter","state","window","confirm","delete","filter","fetchData","triggerMoreRestaurants","useCallback","scrollY","innerHeight","body","offsetHeight","handleScrollEvent","_","addEventListener","removeEventListener","Provider","HomeMap","dollarAmount","description","to","loggedIn","handleDelete","UpdateRestaurant","street","city","province","country","postalcode","setRestaurant","file","setFile","uploadedImages","setUploadedImages","useParams","params","address","apiResponse","results","geometry","put","priceRange","parseInt","formData","FormData","append","post","headers","updateInput","fetchRestaurantData","required","max","min","urlList","files","n","currentFile","size","URL","createObjectURL","multiple","url","index","RestaurantReview","review","ratings","setRatings","setRatingsCollection","updatePageRating","sumOfRatings","forEach","item","updatedRating","toFixed","message","NewRatingInput","restaurant_id","newRating","setNewRating","updateCurrentPageRating","concat","step","coords","disableDefaultUI","zoomControl","streetViewControl","RestaurantDetails","ratingsCollection","isMoreRatings","setIsMoreRatings","scrollPosition","setScrollPosition","loadEvent","setLoadEvent","updatedImages","image","fetchRestaurantReviews","scrollTo","deleteImage","PageNotFound","SingleSearchResult","setSearchQuery","Searchbar","timer","searchQuery","searchResults","setSearchResults","searchLoading","setSearchLoading","showResults","setShowResults","fetchResults","handleHideResults","target","querySelector","setTimeout","clearTimeout","result","Header","Footer","FlashMessage","flashMessages","flashMessage","onAnimationEnd","display","handleRemove","CreateRestaurantPage","App","initialState","Boolean","localStorage","getItem","useReducer","action","setItem","removeItem","path","exact","getElementById"],"mappings":"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","file":"static/js/main.d4d6d581.chunk.js","sourcesContent":["import React, { createContext } from 'react'\n\nlet AppContext = createContext()\n\nexport default AppContext\n","import React, { createContext } from 'react'\n\nlet StateContext = createContext()\n\nexport default StateContext\n","import React, { useEffect, useState, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\n\nfunction SortRestaurants({ setRestaurants, setRestaurantCollection, restaurantCollection, setSortCount }) {\n  const [locationType, setLocationType] = useState('')\n  const [location, setLocation] = useState('')\n  const [showButton, setShowButton] = useState(false)\n\n  const dispatch = useContext(AppContext)\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n    if (locationType && location) {\n      try {\n        const response = await axios.get(`/api/restaurants/search?locationType=${locationType}&location=${location}`)\n        setRestaurants(response.data.slice(0, 10))\n        setRestaurantCollection(response.data)\n        setLocation('')\n        setShowButton(true)\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    } else {\n      dispatch({ type: 'FlashMessage', value: 'You cannot leave the fields blank.', color: 'error' })\n    }\n  }\n\n  async function resetRestaurantList() {\n    try {\n      const response = await axios.get('/api/restaurants')\n      setRestaurants(response.data.slice(0, 10))\n      setRestaurantCollection(response.data)\n      setShowButton(false)\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  function arrangeRestaurants(e) {\n    let newList\n    switch (e.currentTarget.value) {\n      case 'highest-rated':\n        newList = [...restaurantCollection].sort((a, b) => b.rating - a.rating)\n        break\n      case 'lowest-rated':\n        newList = [...restaurantCollection].sort((a, b) => a.rating - b.rating)\n        break\n      case 'price-high-low':\n        newList = [...restaurantCollection].sort((a, b) => b.pricerange - a.pricerange)\n        break\n      case 'price-low-high':\n        newList = [...restaurantCollection].sort((a, b) => a.pricerange - b.pricerange)\n        break\n      case 'most-rated':\n        newList = [...restaurantCollection].sort((a, b) => b.count - a.count)\n        break\n      case 'alphabetical-a-z':\n        newList = [...restaurantCollection].sort((a, b) => a.name.localeCompare(b.name))\n        break\n      case 'alphabetical-z-a':\n        newList = [...restaurantCollection].sort((a, b) => b.name.localeCompare(a.name))\n        break\n      default:\n        newList = [...restaurantCollection]\n        break\n    }\n    setRestaurants(newList.slice(0, 10))\n    setRestaurantCollection(newList)\n    setSortCount(prev => prev + 1)\n  }\n  return (\n    <>\n      Sort by:\n      <select onChange={arrangeRestaurants} defaultValue=\"Select...\">\n        <option disabled value=\"Select...\">\n          Select...\n        </option>\n        <option value=\"highest-rated\">Highest Rated</option>\n        <option value=\"lowest-rated\">Lowest Rated</option>\n        <option value=\"most-rated\">Most Reviewed</option>\n        <option value=\"price-high-low\">Price: High-Low</option>\n        <option value=\"price-low-high\">Price: Low-High</option>\n        <option value=\"alphabetical-a-z\">Alphabetical (A-Z)</option>\n        <option value=\"alphabetical-z-a\">Alphabetical (Z-A)</option>\n      </select>\n      <h5>Search for businesses near you...</h5>\n      <form onSubmit={handleSubmit}>\n        <select onChange={e => setLocationType(e.currentTarget.value)} defaultValue={'Search by...'}>\n          <option disabled>Search by...</option>\n          <option value=\"street\">Street</option>\n          <option value=\"city\">City</option>\n          <option value=\"province\">Province</option>\n          <option value=\"country\">Country</option>\n          <option value=\"postalcode\">Postal Code</option>\n        </select>\n        <input type=\"text\" value={location} placeholder={locationType ? `Enter ${locationType}...` : 'Enter location...'} onChange={e => setLocation(e.currentTarget.value)} />\n        <button type=\"submit\">Search Restaurants</button>\n      </form>\n      {showButton && <button onClick={resetRestaurantList}>View All Restaurants</button>}\n    </>\n  )\n}\n\nexport default SortRestaurants\n","import React, { useEffect, useState } from 'react'\n\nfunction StarRating({ rating, count }) {\n  const [stars, setStars] = useState()\n  useEffect(() => {\n    let starsList = []\n    let num = parseFloat(rating)\n    for (var i = 1; i <= 5; i++) {\n      if (i <= num) {\n        starsList.push(<i key={i} className=\"fa fa-star\" aria-hidden=\"true\"></i>)\n      } else if (i - 0.5 <= num) {\n        starsList.push(<i key={i} className=\"fa fa-star-half-o\" aria-hidden=\"true\"></i>)\n      } else {\n        starsList.push(<i key={i} className=\"fa fa-star-o\" aria-hidden=\"true\"></i>)\n      }\n    }\n    setStars(starsList)\n  }, [rating])\n  return (\n    <>\n      {stars} {count ? `(${count})` : ''}\n    </>\n  )\n}\n\nexport default StarRating\n","import React, { createContext } from 'react'\n\nlet RestaurantContext = createContext()\n\nexport default RestaurantContext\n","import React, { useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport { InfoWindow } from 'google-maps-react'\n\nexport default function InfoWindowEx(props) {\n  const infoWindowRef = React.createRef()\n  const contentElement = document.createElement(`div`)\n\n  useEffect(() => {\n    ReactDOM.render(React.Children.only(props.children), contentElement)\n    infoWindowRef.current.infowindow.setContent(contentElement)\n  }, [props.children])\n\n  return <InfoWindow ref={infoWindowRef} {...props} />\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { Map, GoogleApiWrapper, Marker, InfoWindow } from 'google-maps-react'\nimport { useHistory } from 'react-router-dom'\nimport RestaurantContext from '../RestaurantContext'\nimport InfoWindowEx from './InfoWindowEx'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\n\nfunction MapContainer(props) {\n  const { restaurantCollection, sortCount } = useContext(RestaurantContext)\n  const [markers, setMarkers] = useState([])\n  const [selectedMarker, setSelectedMarker] = useState(null)\n  const [rerender, setRerender] = useState(0)\n  const history = useHistory()\n  const dispatch = useContext(AppContext)\n\n  const [key, setKey] = useState(0)\n  const [pastList, setPastList] = useState({\n    length: restaurantCollection.length,\n    firstItem: restaurantCollection[0]\n  })\n  const [pastSortCount, setPastSortCount] = useState(sortCount)\n\n  // Loads new markers ONLY when a search is made\n  useEffect(() => {\n    setMarkers(\n      restaurantCollection.map(restaurant => {\n        let lat = parseFloat(restaurant.latitude)\n        let lng = parseFloat(restaurant.longtitude)\n        return (\n          <Marker\n            key={restaurant.id}\n            position={{ lat, lng }}\n            onClick={() => {\n              handleMarkerClick(restaurant)\n            }}\n          />\n        )\n      })\n    )\n  }, [key])\n\n  // Marker Click Handler\n  async function handleMarkerClick(restaurant) {\n    try {\n      const response = await axios.get(`/api/restaurants/${restaurant.id}`)\n      setSelectedMarker(response.data)\n    } catch (err) {\n      setSelectedMarker(restaurant)\n      dispatch({ type: 'FlashMessage', value: 'Error retrieving restaurant image.', color: 'error' })\n    }\n  }\n\n  // Rerenders the component to fix bug where info window was not appearing on first marker click\n  useEffect(() => {\n    setRerender(prev => prev + 1)\n  }, [selectedMarker])\n\n  // The following code initiates a new default center when a search is performed\n\n  useEffect(() => {\n    if (restaurantCollection.length !== pastList.length) {\n      setSelectedMarker(null)\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    } else if (restaurantCollection[0] !== pastList.firstItem && sortCount === pastSortCount) {\n      setSelectedMarker(null)\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    }\n    setPastSortCount(sortCount)\n  }, [restaurantCollection])\n\n  // Redirect\n  function redirectRestaurantDetails(id) {\n    history.push(`/restaurant/${id}`)\n  }\n\n  // Map Component-Specific Code\n  function zoomLevel() {\n    if (restaurantCollection.length > 2) {\n      return 9\n    }\n    return 11\n  }\n\n  function coords() {\n    if (restaurantCollection.length) {\n      return { lat: parseFloat(restaurantCollection[0].latitude), lng: parseFloat(restaurantCollection[0].longtitude) }\n    } else {\n      return { lat: 43.6532, lng: -79.3832 }\n    }\n  }\n\n  const mapStyles = {\n    width: '100%',\n    height: '100%'\n  }\n  const containerStyle = {\n    position: 'relative',\n    height: '70vh',\n    width: '100%'\n  }\n\n  return (\n    <>\n      <Map google={props.google} zoom={zoomLevel()} key={key} initialCenter={coords()} style={mapStyles} containerStyle={containerStyle}>\n        {markers}\n        {selectedMarker && (\n          <InfoWindowEx\n            onClose={() => setSelectedMarker(null)}\n            position={{\n              lat: parseFloat(selectedMarker.latitude),\n              lng: parseFloat(selectedMarker.longtitude)\n            }}\n            visible={true}\n          >\n            <div>\n              {selectedMarker.images[0] && (\n                <div>\n                  <div style={{ width: '50px', height: '50px' }}>\n                    <img style={{ width: '50px', height: '50px' }} src={selectedMarker.images[0].url_location} />\n                  </div>\n                </div>\n              )}\n              <h3>{selectedMarker.name}</h3>\n              <button type=\"button\" onClick={() => redirectRestaurantDetails(selectedMarker.id)}>\n                View Details\n              </button>\n            </div>\n          </InfoWindowEx>\n        )}\n      </Map>\n    </>\n  )\n}\n\nexport default GoogleApiWrapper({\n  apiKey: `https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA`\n})(MapContainer)\n\n/* import React, { useEffect, useState, useContext } from 'react'\nimport { GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow } from 'react-google-maps'\nimport RestaurantContext from '../RestaurantContext'\n\nfunction Map(props) {\n  const { restaurantCollection } = useContext(RestaurantContext)\n  const [markers, setMarkers] = useState([])\n  const [selectedMarker, setSelectedMarker] = useState(null)\n\n  useEffect(() => {\n    setMarkers(\n      restaurantCollection.map(restaurant => {\n        let lat = parseFloat(restaurant.latitude)\n        let lng = parseFloat(restaurant.longtitude)\n        return <Marker key={restaurant.id} position={{ lat, lng }} onClick={() => setSelectedMarker(restaurant)} />\n      })\n    )\n  }, [restaurantCollection])\n\n  function coords() {\n    if (restaurantCollection.length) {\n      return { lat: parseFloat(restaurantCollection[0].latitude), lng: parseFloat(restaurantCollection[0].longtitude) }\n    } else {\n      return { lat: 43.6532, lng: -79.3832 }\n    }\n  }\n\n  return (\n    <>\n      <GoogleMap defaultZoom={10} defaultCenter={coords()}>\n        {markers}\n        {selectedMarker && (\n          <InfoWindow\n            position={{\n              lat: parseFloat(selectedMarker.latitude),\n              lng: parseFloat(selectedMarker.longtitude)\n            }}\n            onCloseClick={() => {\n              setSelectedMarker(null)\n            }}\n          >\n            <div>{selectedMarker.name}</div>\n          </InfoWindow>\n        )}\n      </GoogleMap>\n    </>\n  )\n}\n\nconst WrappedMap = withScriptjs(withGoogleMap(Map))\n\nfunction HomeMap(props) {\n  const { restaurantCollection, sortCount } = useContext(RestaurantContext)\n  const [pastList, setPastList] = useState({\n    length: restaurantCollection.length,\n    firstItem: restaurantCollection[0]\n  })\n  const [pastSortCount, setPastSortCount] = useState(sortCount)\n\n  const [key, setKey] = useState(0)\n  useEffect(() => {\n    if (restaurantCollection.length !== pastList.length) {\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    } else if (restaurantCollection[0] !== pastList.firstItem && sortCount === pastSortCount) {\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    }\n    setPastSortCount(sortCount)\n  }, [restaurantCollection])\n  return (\n    <div style={{ width: '100vw', height: '100vh' }}>\n      <WrappedMap key={key} googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${process.env.REACT_APP_API_KEY}`} loadingElement={<div style={{ height: '100%' }} />} containerElement={<div style={{ height: '100%' }} />} mapElement={<div style={{ height: '100%' }} />} />\n    </div>\n  )\n}\n\nexport default HomeMap */\n","import React, { useEffect, useState, useContext, useCallback } from 'react'\nimport * as _ from 'underscore'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\nimport SortRestaurants from './SortRestaurants'\nimport StarRating from './StarRating'\nimport HomeMap from './HomeMap'\nimport RestaurantContext from '../RestaurantContext'\n\nfunction Home(props) {\n  // Set up state\n  const [isLoading, setIsLoading] = useState(true)\n  const [restaurantCollection, setRestaurantCollection] = useState([])\n  const [restaurants, setRestaurants] = useState([])\n  const [counter, setCounter] = useState(10)\n  const [sortCount, setSortCount] = useState(0)\n\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  // Acquire restaurant data on page load\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const response = await axios.get('/api/restaurants')\n        setRestaurantCollection(response.data)\n        setRestaurants(response.data.slice(0, 10))\n        setIsLoading(false)\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: 'Server is temporarily down. Please try again later.', color: 'error' })\n      }\n    }\n    fetchData()\n  }, [])\n\n  // Handles Delete Button Click\n  async function handleDelete(id) {\n    const confirm = window.confirm('Are you sure you want to delete this post?')\n    if (confirm) {\n      try {\n        await axios.delete(`/api/restaurants/${id}`)\n        setRestaurants(prev => prev.filter(restaurant => restaurant.id !== id))\n        setRestaurantCollection(prev => prev.filter(restaurant => restaurant.id !== id))\n        dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully deleted!', color: 'success' })\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    }\n  }\n\n  // Loads more restuarants when scrolled to bottom of screen\n  const triggerMoreRestaurants = useCallback(() => {\n    if (window.scrollY + window.innerHeight >= document.body.offsetHeight) {\n      setCounter(prev => prev + 10)\n    }\n  }, [])\n\n  // Throttles scroll event\n  const handleScrollEvent = useCallback(_.throttle(triggerMoreRestaurants, 200), [])\n\n  // Adds scroll event listener to trigger infinite load functionality\n  useEffect(() => {\n    window.addEventListener('scroll', handleScrollEvent)\n    return () => window.removeEventListener('scroll', handleScrollEvent)\n  }, [restaurantCollection])\n\n  // Handles Load More Button Functionality\n  useEffect(() => {\n    setRestaurants(restaurantCollection.slice(0, counter))\n    if (restaurantCollection.length && counter >= restaurantCollection.length) {\n      window.removeEventListener('scroll', handleScrollEvent)\n    }\n  }, [counter])\n\n  // Send back loading page until data has been retrieved\n  if (isLoading) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <>\n      <RestaurantContext.Provider value={{ restaurantCollection, sortCount }}>\n        <HomeMap />\n      </RestaurantContext.Provider>\n      <h1>Restaurants List</h1>\n      <SortRestaurants setRestaurants={setRestaurants} setSortCount={setSortCount} setRestaurantCollection={setRestaurantCollection} restaurantCollection={restaurantCollection} />\n      <div>\n        {restaurants.map(restaurant => {\n          let dollarAmount = ''\n          for (var i = 0; i < restaurant.pricerange; i++) {\n            dollarAmount += '$'\n          }\n          return (\n            <div key={restaurant.id}>\n              <br />\n              <div>Name: {restaurant.name}</div>\n              <div>Description: {restaurant.description}</div>\n              <div>Location: {restaurant.location}</div>\n              <div>Price Range: {dollarAmount}</div>\n              {restaurant.rating ? <StarRating rating={restaurant.rating} count={restaurant.count} /> : 'No Ratings'}\n              <br />\n              <Link to={`/restaurant/${restaurant.id}`}>View Details</Link>\n              {state.loggedIn && (\n                <>\n                  <Link to={`/restaurant/${restaurant.id}/update`}>Edit Restaurant</Link>\n                  <button onClick={() => handleDelete(restaurant.id)}>Delete Restaurant</button>\n                </>\n              )}\n              <br />\n            </div>\n          )\n        })}\n      </div>\n      {!restaurants.length && <h1>No Results found...</h1>}\n      <br />\n      <br />\n      {/* {{isMoreResults && <button onClick={() => setCounter(prev => prev + 10)}>Load More Restaurants</button>}} */}\n    </>\n  )\n}\n\nexport default Home\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\n\nfunction UpdateRestaurant(props) {\n  const [isLoading, setIsLoading] = useState(true)\n  const [restaurant, setRestaurant] = useState({\n    name: '',\n    description: '',\n    pricerange: '',\n    street: '',\n    city: '',\n    province: '',\n    country: '',\n    postalcode: ''\n  })\n  const [file, setFile] = useState()\n  const [uploadedImages, setUploadedImages] = useState()\n\n  let history = useHistory()\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n  const { id } = useParams()\n\n  // Redirect if user not logged in\n  useEffect(() => {\n    if (!state.loggedIn) {\n      history.push('/')\n      dispatch({ type: 'FlashMessage', value: 'You do not have the authorization to view that page.', color: 'error' })\n    }\n  }, [state.loggedIn])\n\n  useEffect(() => {\n    if (state.loggedIn) {\n      async function fetchRestaurantData() {\n        try {\n          const response = await axios.get(`/api/restaurants/${id}`)\n          setRestaurant(response.data)\n          setIsLoading(false)\n        } catch (err) {\n          dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n          history.push('/')\n        }\n      }\n      fetchRestaurantData()\n    }\n  }, [id])\n\n  async function submitHandler(e) {\n    e.preventDefault()\n    try {\n      let location = `${restaurant.street} ${restaurant.city} ${restaurant.province} ${restaurant.country}`\n      const apiResponse = await axios.get('https://maps.googleapis.com/maps/api/geocode/json', {\n        params: {\n          address: location,\n          key: 'AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA'\n        }\n      })\n      let lat = apiResponse.data.results[0].geometry.location.lat\n      let lng = apiResponse.data.results[0].geometry.location.lng\n\n      // Update restaurant details in database\n      const response = await axios.put(`/api/restaurants/${id}`, {\n        name: restaurant.name,\n        description: restaurant.description,\n        priceRange: parseInt(restaurant.pricerange),\n        street: restaurant.street,\n        city: restaurant.city,\n        province: restaurant.province,\n        country: restaurant.country,\n        postalcode: restaurant.postalcode,\n        longtitude: lng,\n        latitude: lat\n      })\n\n      if (file) {\n        let formData = new FormData()\n        for (let i = 0; i < file.length; i++) {\n          formData.append(`image`, file[i])\n        }\n\n        await axios.post(`/api/restaurants/upload-image/${response.data.id}`, formData, {\n          headers: { 'Content-Type': 'multipart/form-data' }\n        })\n      }\n\n      history.push(`/restaurant/${id}`)\n      dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully updated!', color: 'success' })\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  // Update field input\n  function updateInput(e) {\n    setRestaurant({ ...restaurant, [e.currentTarget.name]: e.currentTarget.value })\n  }\n\n  // Update File State\n  function updateFileState(e) {\n    let urlList = []\n    let files = []\n    // Loops over uploaded files, and only saves png/jpeg files that are below 2MB\n    for (var i = 0, n = e.currentTarget.files.length; i < n; i++) {\n      let currentFile = e.currentTarget.files[i]\n      if (currentFile.type == 'image/png' || currentFile.type == 'image/jpeg') {\n        // Make sure file is less than 2MB\n        if (currentFile.size < 2097152) {\n          files.push(currentFile)\n          urlList.push(URL.createObjectURL(currentFile))\n        } else {\n          dispatch({ type: 'FlashMessage', value: `${currentFile.name} is too big! Images must be below 2MB`, color: 'error' })\n        }\n      }\n    }\n    setFile(files)\n    setUploadedImages(urlList)\n  }\n\n  if (isLoading) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <>\n      <h1>Update Restaurant</h1>\n      <form onSubmit={submitHandler}>\n        <input name=\"name\" placeholder=\"Name\" type=\"text\" value={restaurant.name} onChange={e => updateInput(e)} required />\n        <input name=\"description\" placeholder=\"Description\" type=\"text\" value={restaurant.description} onChange={e => updateInput(e)} required />\n        <input name=\"pricerange\" placeholder=\"Price Range\" type=\"number\" value={restaurant.pricerange} onChange={e => updateInput(e)} required max=\"5\" min=\"1\" />\n        <input name=\"street\" placeholder=\"Street\" type=\"text\" value={restaurant.street} onChange={e => updateInput(e)} required />\n        <input name=\"city\" placeholder=\"City\" type=\"text\" value={restaurant.city} onChange={e => updateInput(e)} required />\n        <input name=\"province\" placeholder=\"Province\" type=\"text\" value={restaurant.province} onChange={e => updateInput(e)} required />\n        <input name=\"country\" placeholder=\"Country\" type=\"text\" value={restaurant.country} onChange={e => updateInput(e)} required />\n        <input name=\"postalcode\" placeholder=\"Postal Code\" type=\"text\" value={restaurant.postalcode} onChange={e => updateInput(e)} required />\n        <input type=\"file\" onChange={updateFileState} multiple />\n        <button type=\"submit\">Update Restaurant</button>\n      </form>\n      {uploadedImages &&\n        uploadedImages.map((url, index) => (\n          <div key={index}>\n            <div style={{ width: '200px', height: '200px' }}>\n              <img style={{ width: '200px', height: '200px' }} src={url} />\n            </div>\n          </div>\n        ))}\n    </>\n  )\n}\n\nexport default UpdateRestaurant\n","import React, { useEffect, useState, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\nimport StarRating from './StarRating'\n\nfunction RestaurantReview(props) {\n  const { review, ratings, setRatings, restaurant, setRestaurant, setRatingsCollection } = props\n\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  async function handleDelete() {\n    try {\n      await axios.delete(`/api/ratings/${review.id}`)\n      // Update the rating & count displayed on page\n      updatePageRating()\n      // Remove from page\n      setRatings(prev => prev.filter(rating => rating.id !== review.id))\n      setRatingsCollection(prev => prev.filter(rating => rating.id !== review.id))\n      dispatch({ type: 'FlashMessage', value: 'Review was successfully deleted!', color: 'success' })\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  function updatePageRating() {\n    let sumOfRatings = 0\n    // Add each rating to the sum\n    ratings.forEach(item => {\n      sumOfRatings += parseFloat(item.rating)\n    })\n    // Subtracts the deleted rating from sum\n    sumOfRatings -= parseFloat(review.rating)\n    // Calculates new rating\n    let updatedRating = (sumOfRatings / (ratings.length - 1)).toFixed(1)\n    // Updates the restaurants rating & count state\n    setRestaurant({ ...restaurant, rating: updatedRating, count: restaurant.count - 1 })\n  }\n\n  return (\n    <>\n      <StarRating rating={review.rating} />\n      <div>{review.rating}</div>\n      <div>{review.name}</div>\n      <div>{review.message}</div>\n      {state.loggedIn && (\n        <button type=\"submit\" onClick={handleDelete}>\n          Delete Review\n        </button>\n      )}\n      <br />\n    </>\n  )\n}\n\nexport default RestaurantReview\n","import React, { useEffect, useState, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\n\nfunction NewRatingInput({ id, setRatings, ratings, setRestaurant, restaurant, setRatingsCollection }) {\n  const [newRating, setNewRating] = useState({\n    restaurant_id: id,\n    rating: '',\n    name: '',\n    message: ''\n  })\n  const dispatch = useContext(AppContext)\n\n  function updateInput(e) {\n    setNewRating({ ...newRating, [e.currentTarget.name]: e.currentTarget.value })\n  }\n\n  async function onSubmit(e) {\n    e.preventDefault()\n    // Confirms fields have values & rating is between 1-5 before sending request to server\n    if (newRating.restaurant_id && 1 <= parseFloat(newRating.rating) <= 5 && newRating.name && newRating.message) {\n      try {\n        // Sends off request to store new rating in database\n        const response = await axios.post(`/api/ratings/`, {\n          restaurant_id: newRating.restaurant_id,\n          rating: parseFloat(newRating.rating),\n          name: newRating.name,\n          message: newRating.message\n        })\n        // Update the rating & count displayed on page\n        updateCurrentPageRating(newRating.rating)\n        // Add the new review to the page\n        setRatings(prev => [response.data].concat(prev))\n        setRatingsCollection(prev => [response.data].concat(prev))\n        // Reset the form field inputs to empty\n        setNewRating({ restaurant_id: id, rating: '', name: '', message: '' })\n        // Sends off success message\n        dispatch({ type: 'FlashMessage', value: 'Review was successfully published!', color: 'success' })\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    } else {\n      dispatch({ type: 'FlashMessage', value: 'You cannot leave the fields blank.', color: 'error' })\n    }\n  }\n\n  function updateCurrentPageRating(newRating) {\n    let sumOfRatings = parseFloat(newRating)\n    // Loops over each rating to get sum\n    ratings.forEach(review => {\n      sumOfRatings += parseFloat(review.rating)\n    })\n    // Calculates new average rating\n    let updatedRating = (sumOfRatings / (ratings.length + 1)).toFixed(1)\n    // Updates the state\n    setRestaurant({ ...restaurant, rating: updatedRating, count: parseInt(restaurant.count) + 1 })\n  }\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <input type=\"number\" name=\"rating\" placeholder=\"Rating\" value={newRating.rating} onChange={e => updateInput(e)} min=\"1\" max=\"5\" step=\"0.1\" />\n        <input type=\"text\" name=\"name\" placeholder=\"Name\" value={newRating.name} onChange={e => updateInput(e)} />\n        <input type=\"text\" name=\"message\" placeholder=\"Message\" value={newRating.message} onChange={e => updateInput(e)} />\n        <button type=\"submit\">Submit Review</button>\n      </form>\n    </>\n  )\n}\n\nexport default NewRatingInput\n","import React, { useEffect } from 'react'\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react'\n\nfunction RestaurantMap(props) {\n  const { restaurant } = props\n  const coords = { lat: restaurant.latitude, lng: restaurant.longtitude }\n\n  const mapStyles = {\n    width: '100%',\n    height: '100%'\n  }\n  const containerStyle = {\n    position: 'relative',\n    height: '400px',\n    width: '400px'\n  }\n\n  return (\n    <>\n      <Map google={props.google} zoom={14} initialCenter={coords} style={mapStyles} containerStyle={containerStyle} disableDefaultUI={true} zoomControl={true} streetViewControl={true}>\n        <Marker position={coords} />\n      </Map>\n    </>\n  )\n}\n\nexport default GoogleApiWrapper({\n  apiKey: `https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA`\n})(RestaurantMap)\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useParams, useHistory, Link } from 'react-router-dom'\nimport axios from 'axios'\nimport RestaurantReview from './RestaurantReview'\nimport NewRatingInput from './NewRatingInput'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\nimport StarRating from './StarRating'\nimport RestaurantMap from './RestaurantMap'\n\nfunction RestaurantDetails(props) {\n  const [isLoading, setIsLoading] = useState(true)\n  const [restaurant, setRestaurant] = useState()\n  const [ratings, setRatings] = useState([])\n  const [ratingsCollection, setRatingsCollection] = useState([])\n  const [counter, setCounter] = useState(5)\n  const [isMoreRatings, setIsMoreRatings] = useState(false)\n  const [scrollPosition, setScrollPosition] = useState(0)\n  const [loadEvent, setLoadEvent] = useState(0)\n\n  const history = useHistory()\n  const { id } = useParams()\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  useEffect(() => {\n    async function fetchRestaurantData() {\n      try {\n        const response = await axios.get(`/api/restaurants/${id}`)\n        setRestaurant(response.data)\n        fetchRestaurantReviews()\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: 'A restaurant with that id does not exist', color: 'error' })\n        history.push('/')\n      }\n    }\n    async function fetchRestaurantReviews() {\n      try {\n        const response = await axios.get(`/api/ratings/${id}`)\n        setRatingsCollection(response.data)\n        setRatings(response.data.slice(0, counter))\n        if (response.data.length > 5) setIsMoreRatings(true)\n        setIsLoading(false)\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    }\n    fetchRestaurantData()\n  }, [id])\n\n  // Handle Restaurant Image Delete\n  async function deleteImage(id) {\n    try {\n      await axios.delete(`/api/restaurants/delete-image/${id}`)\n      let updatedImages = restaurant.images.filter(image => image.id !== id)\n      setRestaurant({ ...restaurant, images: updatedImages })\n      dispatch({ type: 'FlashMessage', value: 'Image deleted successfully!', color: 'success' })\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  // Handle Restaurant Delete Button Click\n  async function handleDelete(id) {\n    const confirm = window.confirm('Are you sure you want to delete this restaurant?')\n    if (confirm) {\n      try {\n        await axios.delete(`/api/restaurants/${id}`)\n        dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully deleted!', color: 'success' })\n        history.push('/')\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    }\n  }\n\n  // Handle Load More Button\n  useEffect(() => {\n    setScrollPosition(window.scrollY)\n    setRatings(ratingsCollection.slice(0, counter))\n    setLoadEvent(prev => prev + 1)\n    if (ratingsCollection.length && counter >= ratingsCollection.length) {\n      setIsMoreRatings(false)\n    }\n  }, [counter])\n\n  // Restores current page position after loading new ratings\n  useEffect(() => {\n    window.scrollTo(0, scrollPosition)\n  }, [loadEvent])\n\n  if (isLoading) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <>\n      <h1>{restaurant.name}</h1>\n      {state.loggedIn && <Link to={`/restaurant/${restaurant.id}/update`}>Add Photo(s)</Link>}\n      <br />\n      <br />\n      {restaurant.images &&\n        restaurant.images.map(image => (\n          <div key={image.id}>\n            {state.loggedIn && <button onClick={() => deleteImage(image.id)}>delete image by clicking this button!</button>}\n            <div style={{ width: '200px', height: '200px' }}>\n              <img style={{ width: '200px', height: '200px' }} src={image.url_location} />\n            </div>\n          </div>\n        ))}\n      <RestaurantMap restaurant={restaurant} />\n      <h3>Page Details</h3>\n      <div>name: {restaurant.name}</div>\n      <div>description: {restaurant.description}</div>\n      <div>location: {restaurant.location}</div>\n      <div>pricerange: {restaurant.pricerange}</div>\n      {restaurant.rating > 0 ? <StarRating rating={restaurant.rating} count={restaurant.count} /> : 'No Ratings'}\n      <div>rating: {restaurant.rating}</div>\n      <div>count: {restaurant.count}</div>\n      {state.loggedIn && (\n        <>\n          <Link to={`/restaurant/${restaurant.id}/update`}>Edit Restaurant</Link>\n          <button onClick={() => handleDelete(restaurant.id)}>Delete Restaurant</button>\n        </>\n      )}\n      <br />\n      <NewRatingInput id={id} setRatings={setRatings} ratings={ratings} setRestaurant={setRestaurant} restaurant={restaurant} setRatingsCollection={setRatingsCollection} />\n      <br />\n      <br />\n      <div>\n        {ratings.map(review => {\n          return <RestaurantReview key={review.id} review={review} setRatings={setRatings} ratings={ratings} setRestaurant={setRestaurant} restaurant={restaurant} setRatingsCollection={setRatingsCollection} />\n        })}\n      </div>\n      {isMoreRatings && <button onClick={() => setCounter(prev => prev + 5)}>Load More Ratings</button>}\n    </>\n  )\n}\n\nexport default RestaurantDetails\n","import React, { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction PageNotFound(props) {\n  return (\n    <>\n      <h1>404 Error</h1>\n      <div>Page not found</div>\n      <Link to=\"/\">Return Home</Link>\n    </>\n  )\n}\n\nexport default PageNotFound\n","import React, { useEffect, useState, useCallback, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport { Link } from 'react-router-dom'\n\nfunction Searchbar(props) {\n  const [searchQuery, setSearchQuery] = useState('')\n  const [searchResults, setSearchResults] = useState([])\n  const [searchLoading, setSearchLoading] = useState(false)\n  const [showResults, setShowResults] = useState(false)\n  const dispatch = useContext(AppContext)\n  let timer\n\n  const fetchResults = async () => {\n    try {\n      let response = await axios.get(`/api/query/${searchQuery}`)\n      if (response.data.length) {\n        setSearchResults(response.data)\n      } else {\n        setSearchResults([])\n      }\n      setSearchLoading(false)\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  // Hides search results if click is made anywhere on the page, other than on the input field\n  const handleHideResults = useCallback(e => {\n    if (e.target !== document.querySelector('.search-input')) {\n      setShowResults(false)\n    }\n  }, [])\n\n  // Sets event listener whenever results are shown & removes the results when a click is made anywhere on the page\n  useEffect(() => {\n    if (showResults) {\n      document.addEventListener('click', handleHideResults)\n    }\n    return () => document.removeEventListener('click', handleHideResults)\n  }, [showResults])\n\n  useEffect(() => {\n    if (searchQuery.length) {\n      setSearchLoading(true)\n      timer = setTimeout(fetchResults, 300)\n    } else {\n      setSearchLoading(false)\n      setSearchResults([])\n    }\n    return () => clearTimeout(timer)\n  }, [searchQuery])\n\n  return (\n    <>\n      <div>{searchLoading && <h3>Loading...</h3>}</div>\n      <input type=\"text\" className=\"search-input\" placeholder=\"Search for restaurant...\" value={searchQuery} onChange={e => setSearchQuery(e.currentTarget.value)} onClick={() => setShowResults(true)} />\n      {showResults && searchResults.length > 0 && (\n        <ul>\n          {searchResults.map(result => {\n            return <SingleSearchResult key={result.id} {...result} setSearchQuery={setSearchQuery} />\n          })}\n        </ul>\n      )}\n    </>\n  )\n}\n\nfunction SingleSearchResult(props) {\n  return (\n    <li className=\"search-result\">\n      <Link to={`/restaurant/${props.id}`} onClick={() => props.setSearchQuery('')}>\n        <div>{props.name}</div>\n      </Link>\n    </li>\n  )\n}\n\nexport default Searchbar\n","import React, { useEffect, useContext } from 'react'\nimport { Link } from 'react-router-dom'\nimport Searchbar from './Searchbar'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\n\nfunction Header(props) {\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n  function switchView() {\n    if (state.loggedIn) {\n      dispatch({ type: 'Logout' })\n    } else {\n      dispatch({ type: 'Login' })\n    }\n  }\n  return (\n    <>\n      <div className=\"navbar\">\n        <ul className=\"nav-list\">\n          <li className=\"nav-item\">\n            <Link to=\"/\" className=\"nav-link\">\n              Home\n            </Link>\n          </li>\n          {state.loggedIn && (\n            <li className=\"nav-item\">\n              <Link to=\"/restaurant/create\" className=\"nav-link\">\n                Create Restaurant\n              </Link>\n            </li>\n          )}\n          <li className=\"nav-item\">\n            <button className=\"nav-link\" onClick={switchView}>\n              {state.loggedIn ? 'Switch to User' : 'Switch to Admin'}\n            </button>\n          </li>\n        </ul>\n        <Searchbar />\n      </div>\n    </>\n  )\n}\n\nexport default Header\n","import React, { useEffect } from 'react'\n\nfunction Footer(props) {\n  return (\n    <>\n      <div className=\"footer\">\n        <p className=\"footer-text\">Yelp Clone Web App</p>\n      </div>\n    </>\n  )\n}\n\nexport default Footer\n","import React, { useEffect } from 'react'\n\nfunction FlashMessage({ state }) {\n  function handleRemove(e) {\n    e.currentTarget.style.display = 'none'\n  }\n\n  return (\n    <div className=\"flash-message-container\">\n      {state.flashMessages.length > 0 &&\n        state.flashMessages.map((flashMessage, index) => {\n          return (\n            <div key={index} className={'alert ' + flashMessage.color} onAnimationEnd={e => handleRemove(e)}>\n              <div className=\"flashMessage\">{flashMessage.message}</div>\n            </div>\n          )\n        })}\n    </div>\n  )\n}\n\nexport default FlashMessage\n","import React, { useState, useContext, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\n\nfunction CreateRestaurantPage(props) {\n  const [restaurant, setRestaurant] = useState({\n    name: '',\n    description: '',\n    pricerange: '',\n    street: '',\n    city: '',\n    province: '',\n    country: '',\n    postalcode: ''\n  })\n  const [file, setFile] = useState()\n  const [uploadedImages, setUploadedImages] = useState()\n\n  let history = useHistory()\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  async function submitHandler(e) {\n    e.preventDefault()\n    try {\n      let location = `${restaurant.street} ${restaurant.city} ${restaurant.province} ${restaurant.country}`\n      const apiResponse = await axios.get('https://maps.googleapis.com/maps/api/geocode/json', {\n        params: {\n          address: location,\n          key: 'AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA'\n        }\n      })\n      let lat = apiResponse.data.results[0].geometry.location.lat\n      let lng = apiResponse.data.results[0].geometry.location.lng\n\n      // Add restaurant to database\n      const response = await axios.post(`/api/restaurants`, {\n        name: restaurant.name,\n        description: restaurant.description,\n        priceRange: parseInt(restaurant.pricerange),\n        street: restaurant.street,\n        city: restaurant.city,\n        province: restaurant.province,\n        country: restaurant.country,\n        postalcode: restaurant.postalcode,\n        longtitude: lng,\n        latitude: lat\n      })\n\n      if (file) {\n        let formData = new FormData()\n        for (let i = 0; i < file.length; i++) {\n          formData.append(`image`, file[i])\n        }\n\n        await axios.post(`/api/restaurants/upload-image/${response.data.id}`, formData, {\n          headers: { 'Content-Type': 'multipart/form-data' }\n        })\n      }\n\n      dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully created!', color: 'success' })\n      history.push(`/restaurant/${response.data.id}`)\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  // Update field input\n  function updateInput(e) {\n    setRestaurant({ ...restaurant, [e.currentTarget.name]: e.currentTarget.value })\n  }\n\n  // Update File State\n  function updateFileState(e) {\n    let urlList = []\n    let files = []\n    // Loops over uploaded files, and only saves png/jpeg files that are below 2MB\n    for (var i = 0, n = e.currentTarget.files.length; i < n; i++) {\n      let currentFile = e.currentTarget.files[i]\n      if (currentFile.type == 'image/png' || currentFile.type == 'image/jpeg') {\n        // Make sure file is less than 2MB\n        if (currentFile.size < 2097152) {\n          files.push(currentFile)\n          urlList.push(URL.createObjectURL(currentFile))\n        } else {\n          dispatch({ type: 'FlashMessage', value: `${currentFile.name} is too big! Images must be below 2MB`, color: 'error' })\n        }\n      }\n    }\n    setFile(files)\n    setUploadedImages(urlList)\n  }\n\n  // Redirect if user not logged in\n  useEffect(() => {\n    if (!state.loggedIn) {\n      dispatch({ type: 'FlashMessage', value: 'You do not have the authorization to view that page.', color: 'error' })\n      history.push('/')\n    }\n  }, [state.loggedIn])\n\n  return (\n    <>\n      <h1>Create New Restaurant</h1>\n      <form onSubmit={submitHandler}>\n        <input name=\"name\" placeholder=\"Name\" type=\"text\" value={restaurant.name} onChange={e => updateInput(e)} required />\n        <input name=\"description\" placeholder=\"Description\" type=\"text\" value={restaurant.description} onChange={e => updateInput(e)} required />\n        <input name=\"pricerange\" placeholder=\"Price Range\" type=\"number\" value={restaurant.pricerange} onChange={e => updateInput(e)} required max=\"5\" min=\"1\" />\n        <input name=\"street\" placeholder=\"Street\" type=\"text\" value={restaurant.street} onChange={e => updateInput(e)} required />\n        <input name=\"city\" placeholder=\"City\" type=\"text\" value={restaurant.city} onChange={e => updateInput(e)} required />\n        <input name=\"province\" placeholder=\"Province\" type=\"text\" value={restaurant.province} onChange={e => updateInput(e)} required />\n        <input name=\"country\" placeholder=\"Country\" type=\"text\" value={restaurant.country} onChange={e => updateInput(e)} required />\n        <input name=\"postalcode\" placeholder=\"Postal Code\" type=\"text\" value={restaurant.postalcode} onChange={e => updateInput(e)} required />\n        <input type=\"file\" onChange={updateFileState} multiple />\n        <button type=\"submit\">Create New Restaurant</button>\n      </form>\n      {uploadedImages &&\n        uploadedImages.map((url, index) => (\n          <div key={index}>\n            <div style={{ width: '200px', height: '200px' }}>\n              <img style={{ width: '200px', height: '200px' }} src={url} />\n            </div>\n          </div>\n        ))}\n    </>\n  )\n}\n\nexport default CreateRestaurantPage\n","import React, { useReducer } from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport AppContext from './AppContext'\nimport StateContext from './StateContext'\n\n// Components\nimport Home from './components/Home'\nimport UpdateRestaurant from './components/UpdateRestaurant'\nimport RestaurantDetails from './components/RestaurantDetails'\nimport PageNotFound from './components/PageNotFound'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport FlashMessage from './components/FlashMessage'\nimport CreateRestaurantPage from './components/CreateRestaurantPage'\n\nfunction App() {\n  const initialState = {\n    flashMessages: [],\n    loggedIn: Boolean(localStorage.getItem('yelp-admin'))\n  }\n\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case 'FlashMessage':\n        return { ...state, flashMessages: state.flashMessages.concat({ message: action.value, color: action.color }) }\n      case 'Login':\n        localStorage.setItem('yelp-admin', true)\n        return { ...state, loggedIn: true }\n      case 'Logout':\n        localStorage.removeItem('yelp-admin')\n        return { ...state, loggedIn: false }\n    }\n  }\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n  return (\n    <AppContext.Provider value={dispatch}>\n      <StateContext.Provider value={state}>\n        <BrowserRouter>\n          <Header />\n          <FlashMessage state={state} />\n          <Switch>\n            <Route path=\"/\" exact>\n              <Home />\n            </Route>\n            <Route path=\"/restaurant/create\">\n              <CreateRestaurantPage />\n            </Route>\n            <Route path=\"/restaurant/:id\" exact>\n              <RestaurantDetails />\n            </Route>\n            <Route path=\"/restaurant/:id/update\">\n              <UpdateRestaurant />\n            </Route>\n            <Route path=\"*\">\n              <PageNotFound />\n            </Route>\n          </Switch>\n          <Footer />\n        </BrowserRouter>\n      </StateContext.Provider>\n    </AppContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}