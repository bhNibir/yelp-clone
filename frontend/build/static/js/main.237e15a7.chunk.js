(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,a){e.exports=a(83)},45:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),s=(a(45),a(2)),o=a(6),i=a(7),u=a(8),m=Object(n.createContext)(),p=Object(n.createContext)(),d=a(3),g=a.n(d),f=a(5),b=a(39),v=a(4),h=a.n(v),E=a(16);var y=function(e){var t=e.setRestaurants,a=e.setRestaurantCollection,c=e.restaurantCollection,l=e.setSortCount,o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],p=i[1],d=Object(n.useState)(""),b=Object(s.a)(d,2),v=b[0],y=b[1],N=Object(n.useState)(!1),j=Object(s.a)(N,2),O=j[0],x=j[1],w=Object(n.useContext)(m);function C(){return(C=Object(f.a)(g.a.mark((function e(n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!u||!v){e.next=17;break}return e.prev=2,e.next=5,h.a.get("/api/restaurants/search?locationType=".concat(u,"&location=").concat(v));case 5:r=e.sent,t(r.data.slice(0,10)),a(r.data),y(""),x(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),w({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 15:e.next=18;break;case 17:w({type:"FlashMessage",value:"You cannot leave the fields blank.",color:"error"});case 18:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function k(){return(k=Object(f.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/restaurants");case 3:n=e.sent,t(n.data.slice(0,10)),a(n.data),x(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),w({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-center mb-3 restaurant-search-container"},O&&r.a.createElement("button",{className:"btn reset-btn",onClick:function(){return k.apply(this,arguments)}},"View All Restaurants"),r.a.createElement("h5",null,"Search for restaurants near you..."),r.a.createElement("form",{onSubmit:function(e){return C.apply(this,arguments)},className:"input-group restaurant-search-form"},r.a.createElement("select",{className:"custom-select homepage-location-select",onChange:function(e){return p(e.currentTarget.value)},defaultValue:"Search by..."},r.a.createElement("option",{disabled:!0},"Search by..."),r.a.createElement("option",{value:"street"},"Street"),r.a.createElement("option",{value:"city"},"City"),r.a.createElement("option",{value:"province"},"Province"),r.a.createElement("option",{value:"country"},"Country"),r.a.createElement("option",{value:"postalcode"},"Postal Code")),r.a.createElement("input",{type:"text",className:"form-control homepage-location-input",value:v,placeholder:u?"Enter ".concat(u,"..."):"Enter location...",onChange:function(e){return y(e.currentTarget.value)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-secondary restaurant-search-btn"},"Refine Search")))),r.a.createElement("h1",{className:"homepage-title"},"Restaurants"),r.a.createElement("div",{className:"input-group sort-input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{className:"input-group-text",htmlFor:"sort-select"},"Sort by:")),r.a.createElement("select",{className:"custom-select",onChange:function(e){var n;switch(e.currentTarget.value){case"highest-rated":n=Object(E.a)(c).sort((function(e,t){return t.rating-e.rating}));break;case"lowest-rated":n=Object(E.a)(c).sort((function(e,t){return e.rating-t.rating}));break;case"price-high-low":n=Object(E.a)(c).sort((function(e,t){return t.pricerange-e.pricerange}));break;case"price-low-high":n=Object(E.a)(c).sort((function(e,t){return e.pricerange-t.pricerange}));break;case"most-rated":n=Object(E.a)(c).sort((function(e,t){return t.count-e.count}));break;case"alphabetical-a-z":n=Object(E.a)(c).sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"alphabetical-z-a":n=Object(E.a)(c).sort((function(e,t){return t.name.localeCompare(e.name)}));break;default:n=Object(E.a)(c)}t(n.slice(0,10)),a(n),l((function(e){return e+1}))},id:"sort-select",defaultValue:"Select..."},r.a.createElement("option",{disabled:!0,value:"Select..."},"Select..."),r.a.createElement("option",{value:"highest-rated"},"Highest Rated"),r.a.createElement("option",{value:"lowest-rated"},"Lowest Rated"),r.a.createElement("option",{value:"most-rated"},"Most Reviewed"),r.a.createElement("option",{value:"price-high-low"},"Price: High-Low"),r.a.createElement("option",{value:"price-low-high"},"Price: Low-High"),r.a.createElement("option",{value:"alphabetical-a-z"},"Alphabetical (A-Z)"),r.a.createElement("option",{value:"alphabetical-z-a"},"Alphabetical (Z-A)"))))};var N=function(e){var t=e.rating,a=e.count,c=Object(n.useState)(),l=Object(s.a)(c,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){for(var e=[],a=parseFloat(t),n=1;n<=5;n++)n<=a?e.push(r.a.createElement("i",{key:n,className:"fa fa-star gold","aria-hidden":"true"})):n-.5<=a?e.push(r.a.createElement("i",{key:n,className:"fa fa-star-half-o gold","aria-hidden":"true"})):e.push(r.a.createElement("i",{key:n,className:"fa fa-star-o gold","aria-hidden":"true"}));i(e)}),[t]),r.a.createElement(r.a.Fragment,null,o," ",a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null)," ","(".concat(a,1==a?" Review)":" Reviews)")))},j=a(15),O=Object(n.createContext)();function x(e){var t=r.a.createRef(),a=document.createElement("div");return Object(n.useEffect)((function(){l.a.render(r.a.Children.only(e.children),a),t.current.infowindow.setContent(a)}),[e.children]),r.a.createElement(j.InfoWindow,Object.assign({ref:t},e))}var w=Object(j.GoogleApiWrapper)({apiKey:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA"})((function(e){var t=Object(n.useContext)(O),a=t.restaurantCollection,c=t.sortCount,l=Object(n.useState)([]),o=Object(s.a)(l,2),i=o[0],p=o[1],d=Object(n.useState)(null),b=Object(s.a)(d,2),v=b[0],E=b[1],y=Object(n.useState)(0),N=Object(s.a)(y,2),w=(N[0],N[1]),C=Object(u.f)(),k=Object(n.useContext)(m),F=Object(n.useState)(0),S=Object(s.a)(F,2),R=S[0],M=S[1],I=Object(n.useState)({length:a.length,firstItem:a[0]}),P=Object(s.a)(I,2),T=P[0],A=P[1],L=Object(n.useState)(c),q=Object(s.a)(L,2),D=q[0],z=q[1];function B(){return(B=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/restaurants/".concat(t.id));case 3:a=e.sent,E(a.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),E(t),k({type:"FlashMessage",value:"Error retrieving restaurant image.",color:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){p(a.map((function(e){var t=parseFloat(e.latitude),a=parseFloat(e.longtitude);return r.a.createElement(j.Marker,{key:e.id,position:{lat:t,lng:a},onClick:function(){!function(e){B.apply(this,arguments)}(e)}})})))}),[R]),Object(n.useEffect)((function(){w((function(e){return e+1}))}),[v]),Object(n.useEffect)((function(){(a.length!==T.length||a[0]!==T.firstItem&&c===D)&&(E(null),M((function(e){return e+1})),A({length:a.length,firstItem:a[0]})),z(c)}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.Map,{google:e.google,zoom:a.length>2?9:11,key:R,initialCenter:a.length?{lat:parseFloat(a[0].latitude),lng:parseFloat(a[0].longtitude)}:{lat:43.6532,lng:-79.3832},style:{width:"100%",height:"100%"},containerStyle:{position:"relative",height:"50vh",width:"100%"},disableDefaultUI:!0,zoomControl:!0,streetViewControl:!0},i,v&&r.a.createElement(x,{onClose:function(){return E(null)},position:{lat:parseFloat(v.latitude),lng:parseFloat(v.longtitude)},visible:!0},r.a.createElement("div",{className:"d-flex"},v.images[0]&&r.a.createElement("div",null,r.a.createElement("div",{style:{width:"80px",height:"80px"}},r.a.createElement("img",{style:{width:"80px",height:"80px"},src:v.images[0].url_location}))),r.a.createElement("div",{className:"ml-2"},r.a.createElement("h5",{className:"m-0 info-window-title"},v.name),r.a.createElement("p",{className:"m-0 mt-1"},v.street,", ",r.a.createElement("br",null)," ",v.city,", ",v.province,", ",v.country),r.a.createElement("button",{type:"button",className:"btn btn-link m-0 p-0 info-window-link",onClick:function(){return e=v.id,void C.push("/restaurant/".concat(e));var e}},"View Details"))))))}));var C=function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{class:"loadingio-spinner-rolling-ri5wrc9miih"},r.a.createElement("div",{class:"ldio-wto04iekdc"},r.a.createElement("div",null))))};var k=function(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),d=Object(s.a)(o,2),v=d[0],E=d[1],j=Object(n.useState)([]),x=Object(s.a)(j,2),k=x[0],F=x[1],S=Object(n.useState)(10),R=Object(s.a)(S,2),M=R[0],I=R[1],P=Object(n.useState)(0),T=Object(s.a)(P,2),A=T[0],L=T[1],q=(Object(u.f)(),Object(n.useContext)(m)),D=Object(n.useContext)(p);function z(){return(z=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this post?")){e.next=13;break}return e.prev=2,e.next=5,h.a.delete("/api/restaurants/".concat(t));case 5:F((function(e){return e.filter((function(e){return e.id!==t}))})),E((function(e){return e.filter((function(e){return e.id!==t}))})),q({type:"FlashMessage",value:"Restaurant was successfully deleted!",color:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),q({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/restaurants");case 3:t=e.sent,a=t.data.sort((function(e,t){return t.rating-e.rating})),E(a),F(a.slice(0,10)),l(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),q({type:"FlashMessage",value:"Server is temporarily down. Please try again later.",color:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var B=Object(n.useCallback)((function(){window.scrollY+window.innerHeight>=document.body.offsetHeight&&I((function(e){return e+10}))}),[]),V=Object(n.useCallback)(b.a(B,200),[]);return Object(n.useEffect)((function(){return window.addEventListener("scroll",V),function(){return window.removeEventListener("scroll",V)}}),[v]),Object(n.useEffect)((function(){F(v.slice(0,M)),v.length&&M>=v.length&&window.removeEventListener("scroll",V)}),[M]),c?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.Provider,{value:{restaurantCollection:v,sortCount:A}},r.a.createElement("div",null,r.a.createElement("div",{className:"home-map-info-container"},r.a.createElement("div",{className:"home-map-info"},k&&r.a.createElement(r.a.Fragment,null,k.map((function(e){for(var t=0;t<e.pricerange;t++)"$";return r.a.createElement("div",{key:e.id,className:"border p-2 google-maps-result"},r.a.createElement("div",{className:"d-flex justify-content-between mt-1 mb-0"},r.a.createElement("h4",{className:"my-0"},e.name),r.a.createElement("div",{className:"mr-1 mt-1"},e.rating?r.a.createElement(N,{rating:e.rating}):"No Ratings")),r.a.createElement("p",{className:"m-0 mt-1"},e.street,", ",r.a.createElement("br",null)," ",e.city,", ",e.province,", ",e.country),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/restaurant/".concat(e.id)},"View Details")))})))),r.a.createElement("button",{className:"close-map-info-btn",onClick:function(){document.querySelector(".home-map-info-container").classList.contains("map-info-hidden")?document.querySelector(".home-map-info-container").classList.remove("map-info-hidden"):document.querySelector(".home-map-info-container").classList.add("map-info-hidden")}},r.a.createElement("i",{className:"fa fa-caret-right","aria-hidden":"true"}))),r.a.createElement(w,null))),r.a.createElement(y,{setRestaurants:F,setSortCount:L,setRestaurantCollection:E,restaurantCollection:v}),r.a.createElement("div",{className:"restaurant-list-container"},k&&r.a.createElement(r.a.Fragment,null,k.map((function(e){for(var t="",a=0;a<e.pricerange;a++)t+="$";return r.a.createElement("div",{key:e.id,className:"restaurant-list-item"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("h3",{className:"restaurant-list-item-title mb-0"},e.name),r.a.createElement("div",null,"Price: ",t),r.a.createElement("p",{className:"text-left mb-0"},e.street,", ",r.a.createElement("br",null)," ",e.city,", ",e.province,", ",e.country),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/restaurant/".concat(e.id)},"View Details"))),r.a.createElement("div",null,r.a.createElement("div",null,e.rating?r.a.createElement(N,{rating:e.rating,count:e.count}):"No Ratings"),D.loggedIn&&r.a.createElement("div",{className:"text-right",style:{transform:"translateX(-10%)"}},r.a.createElement(i.b,{to:"/restaurant/".concat(e.id,"/update"),className:"btn btn-outline-secondary my-1 edit-btn"},r.a.createElement("i",{className:"fa fa-pencil mr-1","aria-hidden":"true"})," Edit"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return function(e){return z.apply(this,arguments)}(e.id)},className:"btn btn-outline-secondary my-1 delete-btn"},r.a.createElement("i",{className:"fa fa-trash-o mr-1","aria-hidden":"true"})," Delete")))))})))),!k.length&&r.a.createElement("h1",null,"No Results found..."))},F=a(17);var S=function(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)({name:"",description:"",pricerange:"",street:"",city:"",province:"",country:"",postalcode:""}),d=Object(s.a)(i,2),b=d[0],v=d[1],E=Object(n.useState)(),y=Object(s.a)(E,2),N=y[0],j=y[1],O=Object(n.useState)(),x=Object(s.a)(O,2),w=x[0],k=x[1],S=Object(u.f)(),R=Object(n.useContext)(m),M=Object(n.useContext)(p),I=Object(u.h)().id;function P(){return(P=Object(f.a)(g.a.mark((function e(t){var a,n,r,c,l,s,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a="".concat(b.street," ").concat(b.city," ").concat(b.province," ").concat(b.country),e.next=5,h.a.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:a,key:"AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA"}});case 5:return n=e.sent,r=n.data.results[0].geometry.location.lat,c=n.data.results[0].geometry.location.lng,e.next=10,h.a.put("/api/restaurants/".concat(I),{name:b.name,description:b.description,priceRange:parseInt(b.pricerange),street:b.street,city:b.city,province:b.province,country:b.country,postalcode:b.postalcode,longtitude:c,latitude:r});case 10:if(l=e.sent,!N){e.next=16;break}for(s=new FormData,o=0;o<N.length;o++)s.append("image",N[o]);return e.next=16,h.a.post("/api/restaurants/upload-image/".concat(l.data.id),s,{headers:{"Content-Type":"multipart/form-data"}});case 16:S.push("/restaurant/".concat(I)),R({type:"FlashMessage",value:"Restaurant was successfully updated!",color:"success"}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),R({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}function T(e){v(Object(o.a)(Object(o.a)({},b),{},Object(F.a)({},e.currentTarget.name,e.currentTarget.value)))}return Object(n.useEffect)((function(){M.loggedIn||(S.push("/"),R({type:"FlashMessage",value:"You do not have the authorization to view that page.",color:"error"}))}),[M.loggedIn]),Object(n.useEffect)((function(){if(M.loggedIn){function e(){return(e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/restaurants/".concat(I));case 3:t=e.sent,v(t.data),l(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),R({type:"FlashMessage",value:e.t0.response.data,color:"error"}),S.push("/");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}}),[I]),c?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"restaurant-form"},r.a.createElement("h1",{className:"create-title"},"Update Restaurant"),r.a.createElement("form",{onSubmit:function(e){return P.apply(this,arguments)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{className:"form-control",id:"name",name:"name",placeholder:"Name",type:"text",value:b.name,onChange:function(e){return T(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street:"),r.a.createElement("input",{className:"form-control",id:"street",name:"street",placeholder:"Street",type:"text",value:b.street,onChange:function(e){return T(e)},required:!0})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"city"},"City:"),r.a.createElement("input",{className:"form-control",id:"city",name:"city",placeholder:"City",type:"text",value:b.city,onChange:function(e){return T(e)},required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"province"},"Province:"),r.a.createElement("input",{className:"form-control",id:"province",name:"province",placeholder:"Province",type:"text",value:b.province,onChange:function(e){return T(e)},required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"country"},"Country:"),r.a.createElement("input",{className:"form-control",id:"country",name:"country",placeholder:"Country",type:"text",value:b.country,onChange:function(e){return T(e)},required:!0}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"postalcode"},"Postal Code:"),r.a.createElement("input",{className:"form-control",id:"postalcode",name:"postalcode",placeholder:"Postal Code",type:"text",value:b.postalcode,onChange:function(e){return T(e)},required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"pricerange"},"Price Range:"),r.a.createElement("input",{className:"form-control",id:"pricerange",name:"pricerange",placeholder:"Price Range",type:"number",value:b.pricerange,onChange:function(e){return T(e)},required:!0,max:"5",min:"1"})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",null,"Add Photos (Optional):"),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"image-file",onChange:function(e){for(var t=[],a=[],n=0,r=e.currentTarget.files.length;n<r;n++){var c=e.currentTarget.files[n];"image/png"!=c.type&&"image/jpeg"!=c.type||(c.size<2097152?(a.push(c),t.push(URL.createObjectURL(c))):R({type:"FlashMessage",value:"".concat(c.name," is too big! Images must be below 2MB"),color:"error"}))}j(a),k(t)},multiple:!0}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"image-file"},"Choose file...")))),w&&w[0]&&r.a.createElement("label",null,"New Images:"),r.a.createElement("div",{className:"image-container"},w&&w.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{style:{width:"70px",height:"70px"}},r.a.createElement("img",{style:{width:"70px",height:"70px"},src:e})))}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description:"),r.a.createElement("textarea",{className:"form-control",id:"description",name:"description",placeholder:"Description",type:"text",value:b.description,onChange:function(e){return T(e)},required:!0})),r.a.createElement("div",{className:"my-4"}),r.a.createElement("button",{type:"submit",className:"btn create-btn btn-block mx-auto"},"Update Restaurant"))))};var R=function(e){var t=e.review,a=e.ratings,c=e.setRatings,l=e.restaurant,s=e.setRestaurant,i=e.setRatingsCollection,u=Object(n.useContext)(m),d=Object(n.useContext)(p);function b(){return(b=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete("/api/ratings/".concat(t.id));case 3:v(),c((function(e){return e.filter((function(e){return e.id!==t.id}))})),i((function(e){return e.filter((function(e){return e.id!==t.id}))})),u({type:"FlashMessage",value:"Review was successfully deleted!",color:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),u({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(){var e=0;a.forEach((function(t){e+=parseFloat(t.rating)}));var n=((e-=parseFloat(t.rating))/(a.length-1)).toFixed(1);s(Object(o.a)(Object(o.a)({},l),{},{rating:n,count:l.count-1}))}return r.a.createElement("div",{className:"review-container"},r.a.createElement("div",null,t.name),r.a.createElement("div",null,r.a.createElement(N,{rating:t.rating})),r.a.createElement("p",null,t.message),d.loggedIn&&r.a.createElement("button",{type:"submit",className:"review-btn btn btn-light",onClick:function(){return b.apply(this,arguments)}},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))};var M=function(e){var t=e.id,a=e.setRatings,c=e.ratings,l=e.setRestaurant,i=e.restaurant,u=e.setRatingsCollection,p=Object(n.useState)({restaurant_id:t,rating:"",name:"",message:""}),d=Object(s.a)(p,2),b=d[0],v=d[1],E=Object(n.useState)(!1),y=Object(s.a)(E,2),N=y[0],j=y[1],O=Object(n.useContext)(m);function x(e){v(Object(o.a)(Object(o.a)({},b),{},Object(F.a)({},e.currentTarget.name,e.currentTarget.value)))}function w(){return(w=Object(f.a)(g.a.mark((function e(n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),j(!0),!(b.restaurant_id&&1<=parseFloat(b.rating)<=5&&b.name&&b.message)){e.next=19;break}return e.prev=3,e.next=6,h.a.post("/api/ratings/",{restaurant_id:b.restaurant_id,rating:parseFloat(b.rating),name:b.name,message:b.message});case 6:r=e.sent,C(b.rating),a((function(e){return[r.data].concat(e)})),u((function(e){return[r.data].concat(e)})),v({restaurant_id:t,rating:"",name:"",message:""}),O({type:"FlashMessage",value:"Review was successfully published!",color:"success"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),O({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 17:e.next=20;break;case 19:O({type:"FlashMessage",value:"You cannot leave the fields blank.",color:"error"});case 20:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function C(e){var t=parseFloat(e);c.forEach((function(e){t+=parseFloat(e.rating)}));var a=(t/(c.length+1)).toFixed(1);l(Object(o.a)(Object(o.a)({},i),{},{rating:a,count:parseInt(i.count)+1}))}return r.a.createElement("div",{className:"review-form-container"},r.a.createElement("h2",{className:"text-center"},"Write A Review"),r.a.createElement("form",{onSubmit:function(e){return w.apply(this,arguments)}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-8"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{className:"form-control",id:"name",type:"text",name:"name",placeholder:"Name",value:b.name,onChange:function(e){return x(e)}})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"rating"},"Rating:"),r.a.createElement("input",{className:"form-control",id:"rating",type:"number",name:"rating",placeholder:"Rating",value:b.rating,onChange:function(e){return x(e)},min:"1",max:"5",step:"0.1"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message"},"Message:"),r.a.createElement("textarea",{className:"form-control",id:"message",type:"text",name:"message",placeholder:"Message",value:b.message,onChange:function(e){return x(e)}})),r.a.createElement("button",{className:"btn new-rating-btn btn-block mx-auto",type:"submit",disabled:N},"Submit Review")))};var I=Object(j.GoogleApiWrapper)({apiKey:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA"})((function(e){var t=e.restaurant,a={lat:t.latitude,lng:t.longtitude};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.Map,{google:e.google,zoom:14,initialCenter:a,style:{width:"100%",height:"100%"},containerStyle:{position:"relative",height:"300px",width:"300px"},disableDefaultUI:!0,zoomControl:!0,streetViewControl:!0},r.a.createElement(j.Marker,{position:a})))}));var P=function(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),c=a[0],l=a[1],d=Object(n.useState)(),b=Object(s.a)(d,2),v=b[0],E=b[1],y=Object(n.useState)([]),j=Object(s.a)(y,2),O=j[0],x=j[1],w=Object(n.useState)([]),k=Object(s.a)(w,2),F=k[0],S=k[1],P=Object(n.useState)(8),T=Object(s.a)(P,2),A=T[0],L=T[1],q=Object(n.useState)(!1),D=Object(s.a)(q,2),z=D[0],B=D[1],V=Object(n.useState)(0),W=Object(s.a)(V,2),H=W[0],U=W[1],_=Object(n.useState)(0),G=Object(s.a)(_,2),J=G[0],Y=G[1],$=Object(u.f)(),K=Object(u.h)().id,Q=Object(n.useContext)(m),Z=Object(n.useContext)(p);function X(){return(X=Object(f.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this image?")){e.next=13;break}return e.prev=2,e.next=5,h.a.delete("/api/restaurants/delete-image/".concat(t));case 5:a=v.images.filter((function(e){return e.id!==t})),E(Object(o.a)(Object(o.a)({},v),{},{images:a})),Q({type:"FlashMessage",value:"Image deleted successfully!",color:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Q({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function ee(){return(ee=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this restaurant?")){e.next=12;break}return e.prev=2,e.next=5,h.a.delete("/api/restaurants/".concat(t));case 5:Q({type:"FlashMessage",value:"Restaurant was successfully deleted!",color:"success"}),$.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Q({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function te(){var e=document.querySelector(".review-form-container");window.scrollTo(0,e.offsetTop-30)}return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/restaurants/".concat(K));case 3:a=e.sent,E(a.data),t(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),Q({type:"FlashMessage",value:"A restaurant with that id does not exist",color:"error"}),$.push("/");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function t(){return a.apply(this,arguments)}function a(){return(a=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/ratings/".concat(K));case 3:t=e.sent,S(t.data),x(t.data.slice(0,A)),t.data.length>8&&B(!0),l(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Q({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[K]),Object(n.useEffect)((function(){U(window.scrollY),x(F.slice(0,A)),Y((function(e){return e+1})),F.length&&A>=F.length&&B(!1)}),[A]),Object(n.useEffect)((function(){window.scrollTo(0,H)}),[J]),c?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,v.images.length>0&&r.a.createElement("div",{className:"restaurant-images-container"},v.images.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"restaurant-image-container"},Z.loggedIn&&r.a.createElement("button",{className:"remove-image-btn btn btn-light",onClick:function(){return function(e){return X.apply(this,arguments)}(e.id)}},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})),r.a.createElement("img",{className:"restaurant-img",src:e.url_location})))}))),r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"mt-3 restaurant-title"},v.name),r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return te()}},v.rating>0?r.a.createElement(N,{rating:v.rating,count:v.count}):"No Ratings")),Z.loggedIn&&r.a.createElement("div",{className:"admin-btn-container my-3"},r.a.createElement(i.b,{className:"admin-btn btn mx-2",to:"/restaurant/".concat(v.id,"/update")},r.a.createElement("i",{className:"fa fa-camera","aria-hidden":"true"})," Add Photo(s)"),r.a.createElement(i.b,{className:"admin-btn btn mx-2",to:"/restaurant/".concat(v.id,"/update")},r.a.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"})," Edit Restaurant"),r.a.createElement("button",{className:"admin-btn btn mx-2",onClick:function(){return function(e){return ee.apply(this,arguments)}(v.id)}},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete Restaurant")),!Z.loggedIn&&r.a.createElement("div",{className:"admin-btn-container my-3"},r.a.createElement("button",{className:"admin-btn btn mx-2",onClick:function(){return te()}},r.a.createElement("i",{className:"fa fa-star-o","aria-hidden":"true"})," Write Review")),r.a.createElement("div",{className:"restaurant-details-background"},r.a.createElement("div",{className:"d-flex restaurant-details-container"},r.a.createElement("div",{className:"restaurant-details-map-container"},r.a.createElement(I,{restaurant:v})),r.a.createElement("div",{className:"details-list"},r.a.createElement("h4",null,v.name," Details:"),r.a.createElement("div",null,"Address:",r.a.createElement("p",null,v.street,", ",v.city,", ",v.province,", ",v.country)),r.a.createElement("div",null,"Description:",r.a.createElement("p",null,v.description)),r.a.createElement("div",{className:"mb-2"},"Price Range: ",function(e){for(var t="",a=0;a<e;a++)t+="$";return t}(v.pricerange)),r.a.createElement("div",null,v.rating>=3?r.a.createElement("p",{className:"text-success my-0"},r.a.createElement("i",{className:"fa fa-check-square-o mr-2","aria-hidden":"true"}),"Above Average Rating"):r.a.createElement("p",{className:"text-danger my-0"},r.a.createElement("i",{className:"fa fa-times mr-2","aria-hidden":"true"}),"Below Average Rating"),v.pricerange<=4?r.a.createElement("p",{className:"text-success my-0"},r.a.createElement("i",{className:"fa fa-check-square-o mr-2","aria-hidden":"true"}),"Affordable Food"):r.a.createElement("p",{className:"text-danger my-0"},r.a.createElement("i",{className:"fa fa-times mr-2","aria-hidden":"true"}),"Expensive Food"))))),r.a.createElement(M,{id:K,setRatings:x,ratings:O,setRestaurant:E,restaurant:v,setRatingsCollection:S}),r.a.createElement("div",{className:"restaurant-reviews-container mt-3"},O&&r.a.createElement(r.a.Fragment,null,O.map((function(e){return r.a.createElement(R,{key:e.id,review:e,setRatings:x,ratings:O,setRestaurant:E,restaurant:v,setRatingsCollection:S})})),z&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-center mt-4"},r.a.createElement("button",{className:"admin-btn btn",onClick:function(){return L((function(e){return e+4}))}},r.a.createElement("i",{className:"fa fa-stack-overflow mr-2","aria-hidden":"true"})," Load More Ratings")))),!O.length&&r.a.createElement("p",{className:"text-center"},"This restaurant does not have any reviews.")))};var T=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"404 Error"),r.a.createElement("div",null,"Page not found"),r.a.createElement(i.b,{to:"/"},"Return Home"))};function A(e){return r.a.createElement("li",{className:"search-result"},r.a.createElement(i.b,{to:"/restaurant/".concat(e.id),className:"search-result-link",onClick:function(){return e.setSearchQuery("")}},r.a.createElement("h6",{className:"search-result-name"},e.name),r.a.createElement("p",{className:"search-result-address"},e.city,", ",e.province,", ",e.country)))}var L=function(e){var t,a=Object(n.useState)(""),c=Object(s.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)([]),u=Object(s.a)(i,2),p=u[0],d=u[1],b=Object(n.useState)(!1),v=Object(s.a)(b,2),E=v[0],y=v[1],N=Object(n.useState)(!1),j=Object(s.a)(N,2),O=j[0],x=j[1],w=Object(n.useContext)(m),C=function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/query/".concat(l));case 3:(t=e.sent).data.length?d(t.data):d([]),y(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),w({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),k=Object(n.useCallback)((function(e){e.target!==document.querySelector(".search-input")&&x(!1)}),[]);return Object(n.useEffect)((function(){return O&&document.addEventListener("click",k),function(){return document.removeEventListener("click",k)}}),[O]),Object(n.useEffect)((function(){return l.length?(y(!0),t=setTimeout(C,300)):(y(!1),d([])),function(){return clearTimeout(t)}}),[l]),r.a.createElement("div",{className:"nav-search"},E&&r.a.createElement("div",{className:"loader"}),r.a.createElement("div",{className:"search-icon"},r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})),r.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search...",value:l,onChange:function(e){return o(e.currentTarget.value)},onClick:function(){return x(!0)}}),O&&p.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-results-decoration"}),r.a.createElement("ul",{className:"search-results"},p.map((function(e){return r.a.createElement(A,Object.assign({key:e.id},e,{setSearchQuery:o}))})))))};var q=function(e){var t=Object(n.useContext)(m),a=Object(n.useContext)(p),c=Object(n.useState)(),l=Object(s.a)(c,2),o=l[0],d=l[1],g=Object(u.g)();return Object(n.useEffect)((function(){"/"==g.pathname?d("home"):"/restaurant/create"==g.pathname?d("create"):d("")}),[g.pathname]),r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-xl navbar-dark bg-dark"},r.a.createElement(i.b,{className:"navbar-brand",to:"/"},r.a.createElement("i",{className:"fa fa-ravelry","aria-hidden":"true"}),"Review App"),r.a.createElement(L,null),r.a.createElement("button",{className:"navbar-toggler ml-auto",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item desktop-nav-item "+("home"==o?"active":"")},r.a.createElement(i.b,{to:"/",className:"nav-link"},"Home")),a.loggedIn&&r.a.createElement("li",{className:"nav-item desktop-nav-item "+("create"==o?"active":"")},r.a.createElement(i.b,{to:"/restaurant/create",className:"nav-link"},"Create Restaurant")),r.a.createElement("li",{className:"nav-item mobile-nav-item my-1 "+("home"==o?"active":"")},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement(i.b,{to:"/",className:"nav-link"},"Home"))),a.loggedIn&&r.a.createElement("li",{className:"nav-item mobile-nav-item my-1 "+("create"==o?"active":"")},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement(i.b,{to:"/restaurant/create",className:"nav-link"},"Create Restaurant"))),r.a.createElement("li",{className:"nav-item my-1"},r.a.createElement("button",{className:"btn btn-light",onClick:function(){a.loggedIn?t({type:"Logout"}):t({type:"Login"})}},"Switch View"))))),r.a.createElement("div",{className:"home-header"},r.a.createElement("p",null,"Click the switch button in navbar to see the ",a.loggedIn?"user":"admin"," view")))};var D=function(e){return r.a.createElement("div",{className:"my-5"})};var z=function(e){var t=e.state;return r.a.createElement("div",{className:"flash-message-container"},t.flashMessages.length>0&&t.flashMessages.map((function(e,t){return r.a.createElement("div",{key:t,className:"alert "+(a=e.color,"success"==a?"alert-success":"error"==a?"alert-danger":void 0),onAnimationEnd:function(e){return function(e){e.currentTarget.style.display="none"}(e)}},e.message);var a})))};var B=function(e){var t=Object(n.useState)({name:"",description:"",pricerange:"",street:"",city:"",province:"",country:"",postalcode:""}),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(),d=Object(s.a)(i,2),b=d[0],v=d[1],E=Object(n.useState)(),y=Object(s.a)(E,2),N=y[0],j=y[1],O=Object(u.f)(),x=Object(n.useContext)(m),w=Object(n.useContext)(p);function C(){return(C=Object(f.a)(g.a.mark((function e(t){var a,n,r,l,s,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a="".concat(c.street," ").concat(c.city," ").concat(c.province," ").concat(c.country),e.next=5,h.a.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:a,key:"AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA"}});case 5:return n=e.sent,r=n.data.results[0].geometry.location.lat,l=n.data.results[0].geometry.location.lng,e.next=10,h.a.post("/api/restaurants",{name:c.name,description:c.description,priceRange:parseInt(c.pricerange),street:c.street,city:c.city,province:c.province,country:c.country,postalcode:c.postalcode,longtitude:l,latitude:r});case 10:if(s=e.sent,!b){e.next=16;break}for(o=new FormData,i=0;i<b.length;i++)o.append("image",b[i]);return e.next=16,h.a.post("/api/restaurants/upload-image/".concat(s.data.id),o,{headers:{"Content-Type":"multipart/form-data"}});case 16:x({type:"FlashMessage",value:"Restaurant was successfully created!",color:"success"}),O.push("/restaurant/".concat(s.data.id)),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),x({type:"FlashMessage",value:e.t0.response.data,color:"error"});case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}function k(e){l(Object(o.a)(Object(o.a)({},c),{},Object(F.a)({},e.currentTarget.name,e.currentTarget.value)))}return Object(n.useEffect)((function(){w.loggedIn||(x({type:"FlashMessage",value:"You do not have the authorization to view that page.",color:"error"}),O.push("/"))}),[w.loggedIn]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"restaurant-form"},r.a.createElement("h1",{className:"create-title"},"Create New Restaurant"),r.a.createElement("form",{onSubmit:function(e){return C.apply(this,arguments)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{className:"form-control",id:"name",name:"name",placeholder:"Name",type:"text",value:c.name,onChange:function(e){return k(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"street"},"Street:"),r.a.createElement("input",{className:"form-control",id:"street",name:"street",placeholder:"Street",type:"text",value:c.street,onChange:function(e){return k(e)},required:!0})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"city"},"City:"),r.a.createElement("input",{className:"form-control",id:"city",name:"city",placeholder:"City",type:"text",value:c.city,onChange:function(e){return k(e)},required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"province"},"Province:"),r.a.createElement("input",{className:"form-control",id:"province",name:"province",placeholder:"Province",type:"text",value:c.province,onChange:function(e){return k(e)},required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"country"},"Country:"),r.a.createElement("input",{className:"form-control",id:"country",name:"country",placeholder:"Country",type:"text",value:c.country,onChange:function(e){return k(e)},required:!0}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"postalcode"},"Postal Code:"),r.a.createElement("input",{className:"form-control",id:"postalcode",name:"postalcode",placeholder:"Postal Code",type:"text",value:c.postalcode,onChange:function(e){return k(e)},required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"pricerange"},"Price Range:"),r.a.createElement("input",{className:"form-control",id:"pricerange",name:"pricerange",placeholder:"Price Range",type:"number",value:c.pricerange,onChange:function(e){return k(e)},required:!0,max:"5",min:"1"})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",null,"Add Photos (Optional):"),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"image-file",onChange:function(e){for(var t=[],a=[],n=0,r=e.currentTarget.files.length;n<r;n++){var c=e.currentTarget.files[n];"image/png"!=c.type&&"image/jpeg"!=c.type||(c.size<2097152?(a.push(c),t.push(URL.createObjectURL(c))):x({type:"FlashMessage",value:"".concat(c.name," is too big! Images must be below 2MB"),color:"error"}))}v(a),j(t)},multiple:!0}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"image-file"},"Choose file...")))),N&&N[0]&&r.a.createElement("label",null,"Restaurant Images:"),r.a.createElement("div",{className:"image-container"},N&&N.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{style:{width:"70px",height:"70px"}},r.a.createElement("img",{style:{width:"70px",height:"70px"},src:e})))}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description:"),r.a.createElement("textarea",{className:"form-control",id:"description",name:"description",placeholder:"Description",type:"text",value:c.description,onChange:function(e){return k(e)},required:!0})),r.a.createElement("div",{className:"my-4"}),r.a.createElement("button",{type:"submit",className:"btn create-btn btn-block mx-auto"},"Create Restaurant"))))};var V=function(){var e={flashMessages:[],loggedIn:Boolean(localStorage.getItem("yelp-admin"))},t=Object(n.useReducer)((function(e,t){switch(t.type){case"FlashMessage":return Object(o.a)(Object(o.a)({},e),{},{flashMessages:e.flashMessages.concat({message:t.value,color:t.color})});case"Login":return localStorage.setItem("yelp-admin",!0),Object(o.a)(Object(o.a)({},e),{},{loggedIn:!0});case"Logout":return localStorage.removeItem("yelp-admin"),Object(o.a)(Object(o.a)({},e),{},{loggedIn:!1})}}),e),a=Object(s.a)(t,2),c=a[0],l=a[1];return r.a.createElement(m.Provider,{value:l},r.a.createElement(p.Provider,{value:c},r.a.createElement(i.a,null,r.a.createElement(q,null),r.a.createElement(z,{state:c}),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0},r.a.createElement(k,null)),r.a.createElement(u.a,{path:"/restaurant/create"},r.a.createElement(B,null)),r.a.createElement(u.a,{path:"/restaurant/:id",exact:!0},r.a.createElement(P,null)),r.a.createElement(u.a,{path:"/restaurant/:id/update"},r.a.createElement(S,null)),r.a.createElement(u.a,{path:"*"},r.a.createElement(T,null))),r.a.createElement(D,null))))};l.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.237e15a7.chunk.js.map