{"version":3,"sources":["AppContext.js","StateContext.js","components/SortRestaurants.js","components/StarRating.js","RestaurantContext.js","components/InfoWindowEx.js","components/HomeMap.js","components/PageLoader.js","components/Home.js","components/UpdateRestaurant.js","components/RestaurantReview.js","components/NewRatingInput.js","components/RestaurantMap.js","components/RestaurantDetails.js","components/PageNotFound.js","components/Searchbar.js","components/Header.js","components/Footer.js","components/FlashMessage.js","components/CreateRestaurantPage.js","App.js","index.js"],"names":["AppContext","createContext","StateContext","SortRestaurants","setRestaurants","setRestaurantCollection","restaurantCollection","setSortCount","useState","locationType","setLocationType","location","setLocation","showButton","setShowButton","dispatch","useContext","e","a","preventDefault","axios","get","response","data","slice","type","value","color","className","onClick","onSubmit","onChange","currentTarget","defaultValue","disabled","placeholder","htmlFor","newList","sort","b","rating","pricerange","count","name","localeCompare","prev","id","StarRating","stars","setStars","useEffect","starsList","num","parseFloat","i","push","key","aria-hidden","RestaurantContext","InfoWindowEx","props","infoWindowRef","React","createRef","contentElement","document","createElement","ReactDOM","render","Children","only","children","current","infowindow","setContent","ref","GoogleApiWrapper","apiKey","sortCount","markers","setMarkers","selectedMarker","setSelectedMarker","setRerender","history","useHistory","setKey","length","firstItem","pastList","setPastList","pastSortCount","setPastSortCount","restaurant","map","lat","latitude","lng","longtitude","position","handleMarkerClick","google","zoom","initialCenter","style","width","height","containerStyle","disableDefaultUI","zoomControl","streetViewControl","onClose","visible","images","src","url_location","street","city","province","country","PageLoader","class","Home","isLoading","setIsLoading","restaurants","counter","setCounter","state","window","confirm","delete","filter","fetchData","triggerMoreRestaurants","useCallback","scrollY","innerHeight","body","offsetHeight","handleScrollEvent","_","addEventListener","removeEventListener","Provider","to","HomeMap","dollarAmount","loggedIn","transform","handleDelete","UpdateRestaurant","description","postalcode","setRestaurant","file","setFile","uploadedImages","setUploadedImages","useParams","params","address","apiResponse","results","geometry","put","priceRange","parseInt","formData","FormData","append","post","headers","updateInput","fetchRestaurantData","required","max","min","urlList","files","n","currentFile","size","URL","createObjectURL","multiple","url","index","RestaurantReview","review","ratings","setRatings","setRatingsCollection","updatePageRating","sumOfRatings","forEach","item","updatedRating","toFixed","message","NewRatingInput","restaurant_id","newRating","setNewRating","sentReview","setSentReview","updateCurrentPageRating","concat","step","coords","RestaurantDetails","ratingsCollection","isMoreRatings","setIsMoreRatings","scrollPosition","setScrollPosition","loadEvent","setLoadEvent","updatedImages","image","scrollToReviewSection","reviewSection","querySelector","scrollTo","offsetTop","fetchRestaurantReviews","deleteImage","cursor","price","getDollarSignValue","PageNotFound","SingleSearchResult","setSearchQuery","Searchbar","timer","searchQuery","searchResults","setSearchResults","searchLoading","setSearchLoading","showResults","setShowResults","fetchResults","handleHideResults","target","setTimeout","clearTimeout","result","Header","page","setPage","useLocation","pathname","data-toggle","data-target","aria-controls","aria-expanded","aria-label","Footer","FlashMessage","flashMessages","flashMessage","onAnimationEnd","display","handleRemove","CreateRestaurantPage","App","initialState","Boolean","localStorage","getItem","useReducer","action","setItem","removeItem","path","exact","getElementById"],"mappings":"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","file":"static/js/main.cac9565f.chunk.js","sourcesContent":["import React, { createContext } from 'react'\n\nlet AppContext = createContext()\n\nexport default AppContext\n","import React, { createContext } from 'react'\n\nlet StateContext = createContext()\n\nexport default StateContext\n","import React, { useEffect, useState, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\n\nfunction SortRestaurants({ setRestaurants, setRestaurantCollection, restaurantCollection, setSortCount }) {\n  const [locationType, setLocationType] = useState('')\n  const [location, setLocation] = useState('')\n  const [showButton, setShowButton] = useState(false)\n\n  const dispatch = useContext(AppContext)\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n    if (locationType && location) {\n      try {\n        const response = await axios.get(`/api/restaurants/search?locationType=${locationType}&location=${location}`)\n        setRestaurants(response.data.slice(0, 10))\n        setRestaurantCollection(response.data)\n        setLocation('')\n        setShowButton(true)\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    } else {\n      dispatch({ type: 'FlashMessage', value: 'You cannot leave the fields blank.', color: 'error' })\n    }\n  }\n\n  async function resetRestaurantList() {\n    try {\n      const response = await axios.get('/api/restaurants')\n      setRestaurants(response.data.slice(0, 10))\n      setRestaurantCollection(response.data)\n      setShowButton(false)\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  function arrangeRestaurants(e) {\n    let newList\n    switch (e.currentTarget.value) {\n      case 'highest-rated':\n        newList = [...restaurantCollection].sort((a, b) => b.rating - a.rating)\n        break\n      case 'lowest-rated':\n        newList = [...restaurantCollection].sort((a, b) => a.rating - b.rating)\n        break\n      case 'price-high-low':\n        newList = [...restaurantCollection].sort((a, b) => b.pricerange - a.pricerange)\n        break\n      case 'price-low-high':\n        newList = [...restaurantCollection].sort((a, b) => a.pricerange - b.pricerange)\n        break\n      case 'most-rated':\n        newList = [...restaurantCollection].sort((a, b) => b.count - a.count)\n        break\n      case 'alphabetical-a-z':\n        newList = [...restaurantCollection].sort((a, b) => a.name.localeCompare(b.name))\n        break\n      case 'alphabetical-z-a':\n        newList = [...restaurantCollection].sort((a, b) => b.name.localeCompare(a.name))\n        break\n      default:\n        newList = [...restaurantCollection]\n        break\n    }\n    setRestaurants(newList.slice(0, 10))\n    setRestaurantCollection(newList)\n    setSortCount(prev => prev + 1)\n  }\n  return (\n    <>\n      <div className=\"text-center mb-3 restaurant-search-container\">\n        {showButton && (\n          <button className=\"btn reset-btn\" onClick={resetRestaurantList}>\n            View All Restaurants\n          </button>\n        )}\n        <h5>Search for restaurants near you...</h5>\n\n        <form onSubmit={handleSubmit} className=\"input-group restaurant-search-form\">\n          <select className=\"custom-select homepage-location-select\" onChange={e => setLocationType(e.currentTarget.value)} defaultValue={'Search by...'}>\n            <option disabled>Search by...</option>\n            <option value=\"street\">Street</option>\n            <option value=\"city\">City</option>\n            <option value=\"province\">Province</option>\n            <option value=\"country\">Country</option>\n            <option value=\"postalcode\">Postal Code</option>\n          </select>\n          <input type=\"text\" className=\"form-control homepage-location-input\" value={location} placeholder={locationType ? `Enter ${locationType}...` : 'Enter location...'} onChange={e => setLocation(e.currentTarget.value)} />\n          <div className=\"input-group-append\">\n            <button type=\"submit\" className=\"btn btn-outline-secondary restaurant-search-btn\">\n              Refine Search\n            </button>\n          </div>\n        </form>\n      </div>\n      <h1 className=\"homepage-title\">Restaurants</h1>\n      <div className=\"input-group sort-input-group\">\n        <div className=\"input-group-prepend\">\n          <label className=\"input-group-text\" htmlFor=\"sort-select\">\n            Sort by:\n          </label>\n        </div>\n        <select className=\"custom-select\" onChange={arrangeRestaurants} id=\"sort-select\" defaultValue=\"Select...\">\n          <option disabled value=\"Select...\">\n            Select...\n          </option>\n          <option value=\"highest-rated\">Highest Rated</option>\n          <option value=\"lowest-rated\">Lowest Rated</option>\n          <option value=\"most-rated\">Most Reviewed</option>\n          <option value=\"price-high-low\">Price: High-Low</option>\n          <option value=\"price-low-high\">Price: Low-High</option>\n          <option value=\"alphabetical-a-z\">Alphabetical (A-Z)</option>\n          <option value=\"alphabetical-z-a\">Alphabetical (Z-A)</option>\n        </select>\n      </div>\n    </>\n  )\n}\n\nexport default SortRestaurants\n","import React, { useEffect, useState } from 'react'\n\nfunction StarRating({ rating, count }) {\n  const [stars, setStars] = useState()\n  useEffect(() => {\n    let starsList = []\n    let num = parseFloat(rating)\n    for (var i = 1; i <= 5; i++) {\n      if (i <= num) {\n        starsList.push(<i key={i} className=\"fa fa-star gold\" aria-hidden=\"true\"></i>)\n      } else if (i - 0.5 <= num) {\n        starsList.push(<i key={i} className=\"fa fa-star-half-o gold\" aria-hidden=\"true\"></i>)\n      } else {\n        starsList.push(<i key={i} className=\"fa fa-star-o gold\" aria-hidden=\"true\"></i>)\n      }\n    }\n    setStars(starsList)\n  }, [rating])\n\n  function getCount() {\n    if (count == 1) {\n      return `(${count} Review)`\n    } else {\n      return `(${count} Reviews)`\n    }\n  }\n\n  return (\n    <>\n      {stars}{' '}\n      {count && (\n        <>\n          <br /> {getCount()}\n        </>\n      )}\n    </>\n  )\n}\n\nexport default StarRating\n","import React, { createContext } from 'react'\n\nlet RestaurantContext = createContext()\n\nexport default RestaurantContext\n","import React, { useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport { InfoWindow } from 'google-maps-react'\n\nexport default function InfoWindowEx(props) {\n  const infoWindowRef = React.createRef()\n  const contentElement = document.createElement(`div`)\n\n  useEffect(() => {\n    ReactDOM.render(React.Children.only(props.children), contentElement)\n    infoWindowRef.current.infowindow.setContent(contentElement)\n  }, [props.children])\n\n  return <InfoWindow ref={infoWindowRef} {...props} />\n}\n","import React, { useEffect, useState, useContext } from 'react'\nimport { Map, GoogleApiWrapper, Marker, InfoWindow } from 'google-maps-react'\nimport { useHistory } from 'react-router-dom'\nimport RestaurantContext from '../RestaurantContext'\nimport InfoWindowEx from './InfoWindowEx'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\n\nfunction MapContainer(props) {\n  const { restaurantCollection, sortCount } = useContext(RestaurantContext)\n  const [markers, setMarkers] = useState([])\n  const [selectedMarker, setSelectedMarker] = useState(null)\n  const [rerender, setRerender] = useState(0)\n  const history = useHistory()\n  const dispatch = useContext(AppContext)\n\n  const [key, setKey] = useState(0)\n  const [pastList, setPastList] = useState({\n    length: restaurantCollection.length,\n    firstItem: restaurantCollection[0]\n  })\n  const [pastSortCount, setPastSortCount] = useState(sortCount)\n\n  // Loads new markers ONLY when a search is made\n  useEffect(() => {\n    setMarkers(\n      restaurantCollection.map(restaurant => {\n        let lat = parseFloat(restaurant.latitude)\n        let lng = parseFloat(restaurant.longtitude)\n        return (\n          <Marker\n            key={restaurant.id}\n            position={{ lat, lng }}\n            onClick={() => {\n              handleMarkerClick(restaurant)\n            }}\n          />\n        )\n      })\n    )\n  }, [key])\n\n  // Marker Click Handler\n  async function handleMarkerClick(restaurant) {\n    try {\n      const response = await axios.get(`/api/restaurants/${restaurant.id}`)\n      setSelectedMarker(response.data)\n    } catch (err) {\n      setSelectedMarker(restaurant)\n      dispatch({ type: 'FlashMessage', value: 'Error retrieving restaurant image.', color: 'error' })\n    }\n  }\n\n  // Rerenders the component to fix bug where info window was not appearing on first marker click\n  useEffect(() => {\n    setRerender(prev => prev + 1)\n  }, [selectedMarker])\n\n  // The following code initiates a new default center when a search is performed\n\n  useEffect(() => {\n    if (restaurantCollection.length !== pastList.length) {\n      setSelectedMarker(null)\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    } else if (restaurantCollection[0] !== pastList.firstItem && sortCount === pastSortCount) {\n      setSelectedMarker(null)\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    }\n    setPastSortCount(sortCount)\n  }, [restaurantCollection])\n\n  // Redirect\n  function redirectRestaurantDetails(id) {\n    history.push(`/restaurant/${id}`)\n  }\n\n  // Map Component-Specific Code\n  function zoomLevel() {\n    if (restaurantCollection.length > 2) {\n      return 9\n    }\n    return 11\n  }\n\n  function coords() {\n    if (restaurantCollection.length) {\n      return { lat: parseFloat(restaurantCollection[0].latitude), lng: parseFloat(restaurantCollection[0].longtitude) }\n    } else {\n      return { lat: 43.6532, lng: -79.3832 }\n    }\n  }\n\n  const mapStyles = {\n    width: '100%',\n    height: '100%'\n  }\n  const containerStyle = {\n    position: 'relative',\n    height: '50vh',\n    width: '100%'\n  }\n\n  return (\n    <>\n      <Map google={props.google} zoom={zoomLevel()} key={key} initialCenter={coords()} style={mapStyles} containerStyle={containerStyle} disableDefaultUI={true} zoomControl={true} streetViewControl={true}>\n        {markers}\n        {selectedMarker && (\n          <InfoWindowEx\n            onClose={() => setSelectedMarker(null)}\n            position={{\n              lat: parseFloat(selectedMarker.latitude),\n              lng: parseFloat(selectedMarker.longtitude)\n            }}\n            visible={true}\n          >\n            <div className=\"d-flex\">\n              {selectedMarker.images[0] && (\n                <div>\n                  <div style={{ width: '80px', height: '80px' }}>\n                    <img style={{ width: '80px', height: '80px' }} src={selectedMarker.images[0].url_location} />\n                  </div>\n                </div>\n              )}\n              <div className=\"ml-2\">\n                <h5 className=\"m-0 info-window-title\">{selectedMarker.name}</h5>\n                <p className=\"m-0 mt-1\">\n                  {selectedMarker.street}, <br /> {selectedMarker.city}, {selectedMarker.province}, {selectedMarker.country}\n                </p>\n                <button type=\"button\" className=\"btn btn-link m-0 p-0 info-window-link\" onClick={() => redirectRestaurantDetails(selectedMarker.id)}>\n                  View Details\n                </button>\n              </div>\n            </div>\n          </InfoWindowEx>\n        )}\n      </Map>\n    </>\n  )\n}\n\nexport default GoogleApiWrapper({\n  apiKey: `https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA`\n})(MapContainer)\n\n/* import React, { useEffect, useState, useContext } from 'react'\nimport { GoogleMap, withScriptjs, withGoogleMap, Marker, InfoWindow } from 'react-google-maps'\nimport RestaurantContext from '../RestaurantContext'\n\nfunction Map(props) {\n  const { restaurantCollection } = useContext(RestaurantContext)\n  const [markers, setMarkers] = useState([])\n  const [selectedMarker, setSelectedMarker] = useState(null)\n\n  useEffect(() => {\n    setMarkers(\n      restaurantCollection.map(restaurant => {\n        let lat = parseFloat(restaurant.latitude)\n        let lng = parseFloat(restaurant.longtitude)\n        return <Marker key={restaurant.id} position={{ lat, lng }} onClick={() => setSelectedMarker(restaurant)} />\n      })\n    )\n  }, [restaurantCollection])\n\n  function coords() {\n    if (restaurantCollection.length) {\n      return { lat: parseFloat(restaurantCollection[0].latitude), lng: parseFloat(restaurantCollection[0].longtitude) }\n    } else {\n      return { lat: 43.6532, lng: -79.3832 }\n    }\n  }\n\n  return (\n    <>\n      <GoogleMap defaultZoom={10} defaultCenter={coords()}>\n        {markers}\n        {selectedMarker && (\n          <InfoWindow\n            position={{\n              lat: parseFloat(selectedMarker.latitude),\n              lng: parseFloat(selectedMarker.longtitude)\n            }}\n            onCloseClick={() => {\n              setSelectedMarker(null)\n            }}\n          >\n            <div>{selectedMarker.name}</div>\n          </InfoWindow>\n        )}\n      </GoogleMap>\n    </>\n  )\n}\n\nconst WrappedMap = withScriptjs(withGoogleMap(Map))\n\nfunction HomeMap(props) {\n  const { restaurantCollection, sortCount } = useContext(RestaurantContext)\n  const [pastList, setPastList] = useState({\n    length: restaurantCollection.length,\n    firstItem: restaurantCollection[0]\n  })\n  const [pastSortCount, setPastSortCount] = useState(sortCount)\n\n  const [key, setKey] = useState(0)\n  useEffect(() => {\n    if (restaurantCollection.length !== pastList.length) {\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    } else if (restaurantCollection[0] !== pastList.firstItem && sortCount === pastSortCount) {\n      setKey(prev => prev + 1)\n      setPastList({\n        length: restaurantCollection.length,\n        firstItem: restaurantCollection[0]\n      })\n    }\n    setPastSortCount(sortCount)\n  }, [restaurantCollection])\n  return (\n    <div style={{ width: '100vw', height: '100vh' }}>\n      <WrappedMap key={key} googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=${process.env.REACT_APP_API_KEY}`} loadingElement={<div style={{ height: '100%' }} />} containerElement={<div style={{ height: '100%' }} />} mapElement={<div style={{ height: '100%' }} />} />\n    </div>\n  )\n}\n\nexport default HomeMap */\n","import React, { useEffect } from 'react'\n\nfunction PageLoader() {\n  return (\n    <div className=\"loader-container\">\n      <div class=\"loadingio-spinner-rolling-ri5wrc9miih\">\n        <div class=\"ldio-wto04iekdc\">\n          <div></div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PageLoader\n","import React, { useEffect, useState, useContext, useCallback } from 'react'\nimport * as _ from 'underscore'\nimport axios from 'axios'\nimport { Link, useHistory } from 'react-router-dom'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\nimport SortRestaurants from './SortRestaurants'\nimport StarRating from './StarRating'\nimport HomeMap from './HomeMap'\nimport RestaurantContext from '../RestaurantContext'\nimport PageLoader from './PageLoader'\n\nfunction Home(props) {\n  // Set up state\n  const [isLoading, setIsLoading] = useState(true)\n  const [restaurantCollection, setRestaurantCollection] = useState([])\n  const [restaurants, setRestaurants] = useState([])\n  const [counter, setCounter] = useState(10)\n  const [sortCount, setSortCount] = useState(0)\n\n  let history = useHistory()\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  // Acquire restaurant data on page load\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const response = await axios.get('/api/restaurants')\n        setRestaurantCollection(response.data)\n        setRestaurants(response.data.slice(0, 10))\n        setIsLoading(false)\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: 'Server is temporarily down. Please try again later.', color: 'error' })\n      }\n    }\n    fetchData()\n  }, [])\n\n  // Handles Delete Button Click\n  async function handleDelete(id) {\n    const confirm = window.confirm('Are you sure you want to delete this post?')\n    if (confirm) {\n      try {\n        await axios.delete(`/api/restaurants/${id}`)\n        setRestaurants(prev => prev.filter(restaurant => restaurant.id !== id))\n        setRestaurantCollection(prev => prev.filter(restaurant => restaurant.id !== id))\n        dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully deleted!', color: 'success' })\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    }\n  }\n\n  // Loads more restuarants when scrolled to bottom of screen\n  const triggerMoreRestaurants = useCallback(() => {\n    if (window.scrollY + window.innerHeight >= document.body.offsetHeight) {\n      setCounter(prev => prev + 10)\n    }\n  }, [])\n\n  // Throttles scroll event\n  const handleScrollEvent = useCallback(_.throttle(triggerMoreRestaurants, 200), [])\n\n  // Adds scroll event listener to trigger infinite load functionality\n  useEffect(() => {\n    window.addEventListener('scroll', handleScrollEvent)\n    return () => window.removeEventListener('scroll', handleScrollEvent)\n  }, [restaurantCollection])\n\n  // Handles Load More Button Functionality\n  useEffect(() => {\n    setRestaurants(restaurantCollection.slice(0, counter))\n    if (restaurantCollection.length && counter >= restaurantCollection.length) {\n      window.removeEventListener('scroll', handleScrollEvent)\n    }\n  }, [counter])\n\n  // Send back loading page until data has been retrieved\n  if (isLoading) {\n    return <PageLoader />\n  }\n\n  return (\n    <>\n      <RestaurantContext.Provider value={{ restaurantCollection, sortCount }}>\n        <div>\n          <div className=\"home-map-info\">\n            {restaurants && (\n              <>\n                {restaurants.map(restaurant => {\n                  let dollarAmount = ''\n                  for (var i = 0; i < restaurant.pricerange; i++) {\n                    dollarAmount += '$'\n                  }\n                  return (\n                    <div key={restaurant.id} className=\"border p-2 google-maps-result\">\n                      <div className=\"d-flex justify-content-between mt-1 mb-0\">\n                        <h4 className=\"my-0\">{restaurant.name}</h4>\n                        <div className=\"mr-1 mt-1\">{restaurant.rating ? <StarRating rating={restaurant.rating} /> : 'No Ratings'}</div>\n                      </div>\n                      <p className=\"m-0 mt-1\">\n                        {restaurant.street}, <br /> {restaurant.city}, {restaurant.province}, {restaurant.country}\n                      </p>\n                      <div>\n                        <Link to={`/restaurant/${restaurant.id}`}>View Details</Link>\n                      </div>\n                    </div>\n                  )\n                })}\n              </>\n            )}\n          </div>\n          <HomeMap />\n        </div>\n      </RestaurantContext.Provider>\n      <SortRestaurants setRestaurants={setRestaurants} setSortCount={setSortCount} setRestaurantCollection={setRestaurantCollection} restaurantCollection={restaurantCollection} />\n      <div className=\"restaurant-list-container\">\n        {restaurants && (\n          <>\n            {restaurants.map(restaurant => {\n              let dollarAmount = ''\n              for (var i = 0; i < restaurant.pricerange; i++) {\n                dollarAmount += '$'\n              }\n              return (\n                <div key={restaurant.id} className=\"restaurant-list-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <div>\n                      <h3 className=\"restaurant-list-item-title mb-0\">{restaurant.name}</h3>\n                      <div>Price: {dollarAmount}</div>\n                      <p className=\"text-left mb-0\">\n                        {restaurant.street}, <br /> {restaurant.city}, {restaurant.province}, {restaurant.country}\n                      </p>\n                      <div>\n                        <Link to={`/restaurant/${restaurant.id}`}>View Details</Link>\n                      </div>\n                    </div>\n                    <div>\n                      <div>{restaurant.rating ? <StarRating rating={restaurant.rating} count={restaurant.count} /> : 'No Ratings'}</div>\n                      {state.loggedIn && (\n                        <div className=\"text-right\" style={{ transform: 'translateX(-10%)' }}>\n                          <Link to={`/restaurant/${restaurant.id}/update`} className=\"btn btn-outline-secondary my-1 edit-btn\">\n                            <i className=\"fa fa-pencil mr-1\" aria-hidden=\"true\"></i> Edit\n                          </Link>\n                          <br />\n                          <button onClick={() => handleDelete(restaurant.id)} className=\"btn btn-outline-secondary my-1 delete-btn\">\n                            <i className=\"fa fa-trash-o mr-1\" aria-hidden=\"true\"></i> Delete\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n          </>\n        )}\n      </div>\n      {!restaurants.length && <h1>No Results found...</h1>}\n      {/* {{isMoreResults && <button onClick={() => setCounter(prev => prev + 10)}>Load More Restaurants</button>}} */}\n    </>\n  )\n}\n\nexport default Home\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\nimport PageLoader from './PageLoader'\n\nfunction UpdateRestaurant(props) {\n  const [isLoading, setIsLoading] = useState(true)\n  const [restaurant, setRestaurant] = useState({\n    name: '',\n    description: '',\n    pricerange: '',\n    street: '',\n    city: '',\n    province: '',\n    country: '',\n    postalcode: ''\n  })\n  const [file, setFile] = useState()\n  const [uploadedImages, setUploadedImages] = useState()\n\n  let history = useHistory()\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n  const { id } = useParams()\n\n  // Redirect if user not logged in\n  useEffect(() => {\n    if (!state.loggedIn) {\n      history.push('/')\n      dispatch({ type: 'FlashMessage', value: 'You do not have the authorization to view that page.', color: 'error' })\n    }\n  }, [state.loggedIn])\n\n  useEffect(() => {\n    if (state.loggedIn) {\n      async function fetchRestaurantData() {\n        try {\n          const response = await axios.get(`/api/restaurants/${id}`)\n          setRestaurant(response.data)\n          setIsLoading(false)\n        } catch (err) {\n          dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n          history.push('/')\n        }\n      }\n      fetchRestaurantData()\n    }\n  }, [id])\n\n  async function submitHandler(e) {\n    e.preventDefault()\n    try {\n      let location = `${restaurant.street} ${restaurant.city} ${restaurant.province} ${restaurant.country}`\n      const apiResponse = await axios.get('https://maps.googleapis.com/maps/api/geocode/json', {\n        params: {\n          address: location,\n          key: 'AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA'\n        }\n      })\n      let lat = apiResponse.data.results[0].geometry.location.lat\n      let lng = apiResponse.data.results[0].geometry.location.lng\n\n      // Update restaurant details in database\n      const response = await axios.put(`/api/restaurants/${id}`, {\n        name: restaurant.name,\n        description: restaurant.description,\n        priceRange: parseInt(restaurant.pricerange),\n        street: restaurant.street,\n        city: restaurant.city,\n        province: restaurant.province,\n        country: restaurant.country,\n        postalcode: restaurant.postalcode,\n        longtitude: lng,\n        latitude: lat\n      })\n\n      if (file) {\n        let formData = new FormData()\n        for (let i = 0; i < file.length; i++) {\n          formData.append(`image`, file[i])\n        }\n\n        await axios.post(`/api/restaurants/upload-image/${response.data.id}`, formData, {\n          headers: { 'Content-Type': 'multipart/form-data' }\n        })\n      }\n\n      history.push(`/restaurant/${id}`)\n      dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully updated!', color: 'success' })\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  // Update field input\n  function updateInput(e) {\n    setRestaurant({ ...restaurant, [e.currentTarget.name]: e.currentTarget.value })\n  }\n\n  // Update File State\n  function updateFileState(e) {\n    let urlList = []\n    let files = []\n    // Loops over uploaded files, and only saves png/jpeg files that are below 2MB\n    for (var i = 0, n = e.currentTarget.files.length; i < n; i++) {\n      let currentFile = e.currentTarget.files[i]\n      if (currentFile.type == 'image/png' || currentFile.type == 'image/jpeg') {\n        // Make sure file is less than 2MB\n        if (currentFile.size < 2097152) {\n          files.push(currentFile)\n          urlList.push(URL.createObjectURL(currentFile))\n        } else {\n          dispatch({ type: 'FlashMessage', value: `${currentFile.name} is too big! Images must be below 2MB`, color: 'error' })\n        }\n      }\n    }\n    setFile(files)\n    setUploadedImages(urlList)\n  }\n\n  if (isLoading) {\n    return <PageLoader />\n  }\n\n  return (\n    <>\n      <div className=\"restaurant-form\">\n        <h1 className=\"create-title\">Update Restaurant</h1>\n        <form onSubmit={submitHandler}>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Name:</label>\n            <input className=\"form-control\" id=\"name\" name=\"name\" placeholder=\"Name\" type=\"text\" value={restaurant.name} onChange={e => updateInput(e)} required />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"street\">Street:</label>\n            <input className=\"form-control\" id=\"street\" name=\"street\" placeholder=\"Street\" type=\"text\" value={restaurant.street} onChange={e => updateInput(e)} required />\n          </div>\n          <div className=\"form-row\">\n            <div className=\"form-group col-md-4\">\n              <label htmlFor=\"city\">City:</label>\n              <input className=\"form-control\" id=\"city\" name=\"city\" placeholder=\"City\" type=\"text\" value={restaurant.city} onChange={e => updateInput(e)} required />\n            </div>\n            <div className=\"form-group col-md-4\">\n              <label htmlFor=\"province\">Province:</label>\n              <input className=\"form-control\" id=\"province\" name=\"province\" placeholder=\"Province\" type=\"text\" value={restaurant.province} onChange={e => updateInput(e)} required />\n            </div>\n            <div className=\"form-group col-md-4\">\n              <label htmlFor=\"country\">Country:</label>\n              <input className=\"form-control\" id=\"country\" name=\"country\" placeholder=\"Country\" type=\"text\" value={restaurant.country} onChange={e => updateInput(e)} required />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group col-md-4\">\n              <label htmlFor=\"postalcode\">Postal Code:</label>\n              <input className=\"form-control\" id=\"postalcode\" name=\"postalcode\" placeholder=\"Postal Code\" type=\"text\" value={restaurant.postalcode} onChange={e => updateInput(e)} required />\n            </div>\n            <div className=\"form-group col-md-4\">\n              <label htmlFor=\"pricerange\">Price Range:</label>\n              <input className=\"form-control\" id=\"pricerange\" name=\"pricerange\" placeholder=\"Price Range\" type=\"number\" value={restaurant.pricerange} onChange={e => updateInput(e)} required max=\"5\" min=\"1\" />\n            </div>\n            <div className=\"form-group col-md-4\">\n              <label>Add Photos (Optional):</label>\n              <div className=\"custom-file\">\n                <input type=\"file\" className=\"custom-file-input\" id=\"image-file\" onChange={updateFileState} multiple />\n                <label className=\"custom-file-label\" htmlFor=\"image-file\">\n                  Choose file...\n                </label>\n              </div>\n            </div>\n          </div>\n          {uploadedImages && uploadedImages[0] && <label>New Images:</label>}\n          <div className=\"image-container\">\n            {uploadedImages &&\n              uploadedImages.map((url, index) => (\n                <div key={index}>\n                  <div style={{ width: '70px', height: '70px' }}>\n                    <img style={{ width: '70px', height: '70px' }} src={url} />\n                  </div>\n                </div>\n              ))}\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"description\">Description:</label>\n            <textarea className=\"form-control\" id=\"description\" name=\"description\" placeholder=\"Description\" type=\"text\" value={restaurant.description} onChange={e => updateInput(e)} required />\n          </div>\n          <div className=\"my-4\"></div>\n          <button type=\"submit\" className=\"btn create-btn btn-block mx-auto\">\n            Update Restaurant\n          </button>\n        </form>\n      </div>\n    </>\n  )\n}\n\nexport default UpdateRestaurant\n","import React, { useEffect, useState, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\nimport StarRating from './StarRating'\n\nfunction RestaurantReview(props) {\n  const { review, ratings, setRatings, restaurant, setRestaurant, setRatingsCollection } = props\n\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  async function handleDelete() {\n    try {\n      await axios.delete(`/api/ratings/${review.id}`)\n      // Update the rating & count displayed on page\n      updatePageRating()\n      // Remove from page\n      setRatings(prev => prev.filter(rating => rating.id !== review.id))\n      setRatingsCollection(prev => prev.filter(rating => rating.id !== review.id))\n      dispatch({ type: 'FlashMessage', value: 'Review was successfully deleted!', color: 'success' })\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  function updatePageRating() {\n    let sumOfRatings = 0\n    // Add each rating to the sum\n    ratings.forEach(item => {\n      sumOfRatings += parseFloat(item.rating)\n    })\n    // Subtracts the deleted rating from sum\n    sumOfRatings -= parseFloat(review.rating)\n    // Calculates new rating\n    let updatedRating = (sumOfRatings / (ratings.length - 1)).toFixed(1)\n    // Updates the restaurants rating & count state\n    setRestaurant({ ...restaurant, rating: updatedRating, count: restaurant.count - 1 })\n  }\n\n  function reviewColor() {\n    if (review.rating < 3) {\n      return 'bg-danger'\n    } else {\n      return 'bg-success'\n    }\n  }\n\n  return (\n    <div className=\"review-container\">\n      <div>{review.name}</div>\n      <div>\n        <StarRating rating={review.rating} />\n      </div>\n      <p>{review.message}</p>\n      {state.loggedIn && (\n        <button type=\"submit\" className=\"review-btn btn btn-light\" onClick={handleDelete}>\n          <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default RestaurantReview\n","import React, { useEffect, useState, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\n\nfunction NewRatingInput({ id, setRatings, ratings, setRestaurant, restaurant, setRatingsCollection }) {\n  const [newRating, setNewRating] = useState({\n    restaurant_id: id,\n    rating: '',\n    name: '',\n    message: ''\n  })\n  const [sentReview, setSentReview] = useState(false)\n  const dispatch = useContext(AppContext)\n\n  function updateInput(e) {\n    setNewRating({ ...newRating, [e.currentTarget.name]: e.currentTarget.value })\n  }\n\n  async function onSubmit(e) {\n    e.preventDefault()\n    setSentReview(true)\n    // Confirms fields have values & rating is between 1-5 before sending request to server\n    if (newRating.restaurant_id && 1 <= parseFloat(newRating.rating) <= 5 && newRating.name && newRating.message) {\n      try {\n        // Sends off request to store new rating in database\n        const response = await axios.post(`/api/ratings/`, {\n          restaurant_id: newRating.restaurant_id,\n          rating: parseFloat(newRating.rating),\n          name: newRating.name,\n          message: newRating.message\n        })\n        // Update the rating & count displayed on page\n        updateCurrentPageRating(newRating.rating)\n        // Add the new review to the page\n        setRatings(prev => [response.data].concat(prev))\n        setRatingsCollection(prev => [response.data].concat(prev))\n        // Reset the form field inputs to empty\n        setNewRating({ restaurant_id: id, rating: '', name: '', message: '' })\n        // Sends off success message\n        dispatch({ type: 'FlashMessage', value: 'Review was successfully published!', color: 'success' })\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    } else {\n      dispatch({ type: 'FlashMessage', value: 'You cannot leave the fields blank.', color: 'error' })\n    }\n  }\n\n  function updateCurrentPageRating(newRating) {\n    let sumOfRatings = parseFloat(newRating)\n    // Loops over each rating to get sum\n    ratings.forEach(review => {\n      sumOfRatings += parseFloat(review.rating)\n    })\n    // Calculates new average rating\n    let updatedRating = (sumOfRatings / (ratings.length + 1)).toFixed(1)\n    // Updates the state\n    setRestaurant({ ...restaurant, rating: updatedRating, count: parseInt(restaurant.count) + 1 })\n  }\n\n  return (\n    <div className=\"review-form-container\">\n      <h2 className=\"text-center\">Write A Review</h2>\n      <form onSubmit={onSubmit}>\n        <div className=\"form-row\">\n          <div className=\"form-group col-md-8\">\n            <label htmlFor=\"name\">Name:</label>\n            <input className=\"form-control\" id=\"name\" type=\"text\" name=\"name\" placeholder=\"Name\" value={newRating.name} onChange={e => updateInput(e)} />\n          </div>\n          <div className=\"form-group col-md-4\">\n            <label htmlFor=\"rating\">Rating:</label>\n            <input className=\"form-control\" id=\"rating\" type=\"number\" name=\"rating\" placeholder=\"Rating\" value={newRating.rating} onChange={e => updateInput(e)} min=\"1\" max=\"5\" step=\"0.1\" />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"message\">Message:</label>\n          <textarea className=\"form-control\" id=\"message\" type=\"text\" name=\"message\" placeholder=\"Message\" value={newRating.message} onChange={e => updateInput(e)} />\n        </div>\n        <button className=\"btn new-rating-btn btn-block mx-auto\" type=\"submit\" disabled={sentReview}>\n          Submit Review\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default NewRatingInput\n","import React, { useEffect } from 'react'\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react'\n\nfunction RestaurantMap(props) {\n  const { restaurant } = props\n  const coords = { lat: restaurant.latitude, lng: restaurant.longtitude }\n\n  const mapStyles = {\n    width: '100%',\n    height: '100%'\n  }\n  const containerStyle = {\n    position: 'relative',\n    height: '300px',\n    width: '300px'\n  }\n\n  return (\n    <>\n      <Map google={props.google} zoom={14} initialCenter={coords} style={mapStyles} containerStyle={containerStyle} disableDefaultUI={true} zoomControl={true} streetViewControl={true}>\n        <Marker position={coords} />\n      </Map>\n    </>\n  )\n}\n\nexport default GoogleApiWrapper({\n  apiKey: `https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA`\n})(RestaurantMap)\n","import React, { useEffect, useState, useContext } from 'react'\nimport { useParams, useHistory, Link } from 'react-router-dom'\nimport axios from 'axios'\nimport RestaurantReview from './RestaurantReview'\nimport NewRatingInput from './NewRatingInput'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\nimport StarRating from './StarRating'\nimport RestaurantMap from './RestaurantMap'\nimport PageLoader from './PageLoader'\n\nfunction RestaurantDetails(props) {\n  const [isLoading, setIsLoading] = useState(true)\n  const [restaurant, setRestaurant] = useState()\n  const [ratings, setRatings] = useState([])\n  const [ratingsCollection, setRatingsCollection] = useState([])\n  const [counter, setCounter] = useState(8)\n  const [isMoreRatings, setIsMoreRatings] = useState(false)\n  const [scrollPosition, setScrollPosition] = useState(0)\n  const [loadEvent, setLoadEvent] = useState(0)\n\n  const history = useHistory()\n  const { id } = useParams()\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  useEffect(() => {\n    async function fetchRestaurantData() {\n      try {\n        const response = await axios.get(`/api/restaurants/${id}`)\n        setRestaurant(response.data)\n        fetchRestaurantReviews()\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: 'A restaurant with that id does not exist', color: 'error' })\n        history.push('/')\n      }\n    }\n    async function fetchRestaurantReviews() {\n      try {\n        const response = await axios.get(`/api/ratings/${id}`)\n        setRatingsCollection(response.data)\n        setRatings(response.data.slice(0, counter))\n        if (response.data.length > 8) setIsMoreRatings(true)\n        setIsLoading(false)\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    }\n    fetchRestaurantData()\n  }, [id])\n\n  // Handle Restaurant Image Delete\n  async function deleteImage(id) {\n    const confirm = window.confirm('Are you sure you want to delete this image?')\n    if (confirm) {\n      try {\n        await axios.delete(`/api/restaurants/delete-image/${id}`)\n        let updatedImages = restaurant.images.filter(image => image.id !== id)\n        setRestaurant({ ...restaurant, images: updatedImages })\n        dispatch({ type: 'FlashMessage', value: 'Image deleted successfully!', color: 'success' })\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    }\n  }\n\n  // Handle Restaurant Delete Button Click\n  async function handleDelete(id) {\n    const confirm = window.confirm('Are you sure you want to delete this restaurant?')\n    if (confirm) {\n      try {\n        await axios.delete(`/api/restaurants/${id}`)\n        dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully deleted!', color: 'success' })\n        history.push('/')\n      } catch (err) {\n        dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n      }\n    }\n  }\n\n  // Handle Load More Button\n  useEffect(() => {\n    setScrollPosition(window.scrollY)\n    setRatings(ratingsCollection.slice(0, counter))\n    setLoadEvent(prev => prev + 1)\n    if (ratingsCollection.length && counter >= ratingsCollection.length) {\n      setIsMoreRatings(false)\n    }\n  }, [counter])\n\n  // Restores current page position after loading new ratings\n  useEffect(() => {\n    window.scrollTo(0, scrollPosition)\n  }, [loadEvent])\n\n  // Get price range in dollar sign form\n  function getDollarSignValue(price) {\n    let dollarAmount = ''\n    for (var i = 0; i < price; i++) {\n      dollarAmount += '$'\n    }\n    return dollarAmount\n  }\n\n  // Handles \"Write Review\" Button Click\n  function scrollToReviewSection() {\n    const reviewSection = document.querySelector('.review-form-container')\n    window.scrollTo(0, reviewSection.offsetTop - 30)\n  }\n\n  if (isLoading) {\n    return <PageLoader />\n  }\n\n  return (\n    <>\n      {restaurant.images.length > 0 && (\n        <div className=\"restaurant-images-container\">\n          {restaurant.images.map(image => (\n            <div key={image.id}>\n              <div className=\"restaurant-image-container\">\n                {state.loggedIn && (\n                  <button className=\"remove-image-btn btn btn-light\" onClick={() => deleteImage(image.id)}>\n                    <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n                  </button>\n                )}\n                <img className=\"restaurant-img\" src={image.url_location} />\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div className=\"text-center\">\n        <h1 className=\"mt-3 restaurant-title\">{restaurant.name}</h1>\n        <div style={{ cursor: 'pointer' }} onClick={() => scrollToReviewSection()}>\n          {restaurant.rating > 0 ? <StarRating rating={restaurant.rating} count={restaurant.count} /> : 'No Ratings'}\n        </div>\n      </div>\n      {state.loggedIn && (\n        <div className=\"admin-btn-container my-3\">\n          <Link className=\"admin-btn btn mx-2\" to={`/restaurant/${restaurant.id}/update`}>\n            <i className=\"fa fa-camera\" aria-hidden=\"true\"></i> Add Photo(s)\n          </Link>\n          <Link className=\"admin-btn btn mx-2\" to={`/restaurant/${restaurant.id}/update`}>\n            <i className=\"fa fa-pencil\" aria-hidden=\"true\"></i> Edit Restaurant\n          </Link>\n          <button className=\"admin-btn btn mx-2\" onClick={() => handleDelete(restaurant.id)}>\n            <i className=\"fa fa-trash-o\" aria-hidden=\"true\"></i> Delete Restaurant\n          </button>\n        </div>\n      )}\n      {!state.loggedIn && (\n        <div className=\"admin-btn-container my-3\">\n          <button className=\"admin-btn btn mx-2\" onClick={() => scrollToReviewSection()}>\n            <i className=\"fa fa-star-o\" aria-hidden=\"true\"></i> Write Review\n          </button>\n        </div>\n      )}\n      <div className=\"restaurant-details-background\">\n        <div className=\"d-flex restaurant-details-container\">\n          <div className=\"restaurant-details-map-container\">\n            <RestaurantMap restaurant={restaurant} />\n          </div>\n          <div className=\"details-list\">\n            <h4>{restaurant.name} Details:</h4>\n            <div>\n              Address:\n              <p>\n                {restaurant.street}, {restaurant.city}, {restaurant.province}, {restaurant.country}\n              </p>\n            </div>\n            <div>\n              Description:\n              <p>{restaurant.description}</p>\n            </div>\n            <div className=\"mb-2\">Price Range: {getDollarSignValue(restaurant.pricerange)}</div>\n            <div>\n              {restaurant.rating >= 3 ? (\n                <p className=\"text-success my-0\">\n                  <i className=\"fa fa-check-square-o mr-2\" aria-hidden=\"true\"></i>Above Average Rating\n                </p>\n              ) : (\n                <p className=\"text-danger my-0\">\n                  <i className=\"fa fa-times mr-2\" aria-hidden=\"true\"></i>Below Average Rating\n                </p>\n              )}\n              {restaurant.pricerange <= 4 ? (\n                <p className=\"text-success my-0\">\n                  <i className=\"fa fa-check-square-o mr-2\" aria-hidden=\"true\"></i>Affordable Food\n                </p>\n              ) : (\n                <p className=\"text-danger my-0\">\n                  <i className=\"fa fa-times mr-2\" aria-hidden=\"true\"></i>Expensive Food\n                </p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <NewRatingInput id={id} setRatings={setRatings} ratings={ratings} setRestaurant={setRestaurant} restaurant={restaurant} setRatingsCollection={setRatingsCollection} />\n      <div className=\"restaurant-reviews-container mt-3\">\n        {ratings && (\n          <>\n            {ratings.map(review => {\n              return <RestaurantReview key={review.id} review={review} setRatings={setRatings} ratings={ratings} setRestaurant={setRestaurant} restaurant={restaurant} setRatingsCollection={setRatingsCollection} />\n            })}\n            {isMoreRatings && (\n              <>\n                <div className=\"text-center mt-4\">\n                  <button className=\"admin-btn btn\" onClick={() => setCounter(prev => prev + 4)}>\n                    <i className=\"fa fa-stack-overflow mr-2\" aria-hidden=\"true\"></i> Load More Ratings\n                  </button>\n                </div>\n              </>\n            )}\n          </>\n        )}\n        {!ratings.length && <p className=\"text-center\">This restaurant does not have any reviews.</p>}\n      </div>\n    </>\n  )\n}\n\nexport default RestaurantDetails\n","import React, { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction PageNotFound(props) {\n  return (\n    <>\n      <h1>404 Error</h1>\n      <div>Page not found</div>\n      <Link to=\"/\">Return Home</Link>\n    </>\n  )\n}\n\nexport default PageNotFound\n","import React, { useEffect, useState, useCallback, useContext } from 'react'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport { Link } from 'react-router-dom'\n\nfunction Searchbar(props) {\n  const [searchQuery, setSearchQuery] = useState('')\n  const [searchResults, setSearchResults] = useState([])\n  const [searchLoading, setSearchLoading] = useState(false)\n  const [showResults, setShowResults] = useState(false)\n  const dispatch = useContext(AppContext)\n  let timer\n\n  const fetchResults = async () => {\n    try {\n      let response = await axios.get(`/api/query/${searchQuery}`)\n      if (response.data.length) {\n        setSearchResults(response.data)\n      } else {\n        setSearchResults([])\n      }\n      setSearchLoading(false)\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  // Hides search results if click is made anywhere on the page, other than on the input field\n  const handleHideResults = useCallback(e => {\n    if (e.target !== document.querySelector('.search-input')) {\n      setShowResults(false)\n    }\n  }, [])\n\n  // Sets event listener whenever results are shown & removes the results when a click is made anywhere on the page\n  useEffect(() => {\n    if (showResults) {\n      document.addEventListener('click', handleHideResults)\n    }\n    return () => document.removeEventListener('click', handleHideResults)\n  }, [showResults])\n\n  useEffect(() => {\n    if (searchQuery.length) {\n      setSearchLoading(true)\n      timer = setTimeout(fetchResults, 300)\n    } else {\n      setSearchLoading(false)\n      setSearchResults([])\n    }\n    return () => clearTimeout(timer)\n  }, [searchQuery])\n\n  return (\n    <div className=\"nav-search\">\n      {searchLoading && <div className=\"loader\"></div>}\n      <div className=\"search-icon\">\n        <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\n      </div>\n      <input type=\"text\" className=\"search-input\" placeholder=\"Search...\" value={searchQuery} onChange={e => setSearchQuery(e.currentTarget.value)} onClick={() => setShowResults(true)} />\n      {showResults && searchResults.length > 0 && (\n        <>\n          <div className=\"search-results-decoration\"></div>\n          <ul className=\"search-results\">\n            {searchResults.map(result => {\n              return <SingleSearchResult key={result.id} {...result} setSearchQuery={setSearchQuery} />\n            })}\n          </ul>\n        </>\n      )}\n    </div>\n  )\n}\n\nfunction SingleSearchResult(props) {\n  return (\n    <li className=\"search-result\">\n      <Link to={`/restaurant/${props.id}`} className=\"search-result-link\" onClick={() => props.setSearchQuery('')}>\n        <h6 className=\"search-result-name\">{props.name}</h6>\n        <p className=\"search-result-address\">\n          {props.city}, {props.province}, {props.country}\n        </p>\n      </Link>\n    </li>\n  )\n}\n\nexport default Searchbar\n","import React, { useEffect, useContext, useState } from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport Searchbar from './Searchbar'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\n\nfunction Header(props) {\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n  const [page, setPage] = useState()\n  const location = useLocation()\n\n  useEffect(() => {\n    if (location.pathname == '/') {\n      setPage('home')\n    } else if (location.pathname == '/restaurant/create') {\n      setPage('create')\n    } else {\n      setPage('')\n    }\n  }, [location.pathname])\n\n  function switchView() {\n    if (state.loggedIn) {\n      dispatch({ type: 'Logout' })\n    } else {\n      dispatch({ type: 'Login' })\n    }\n  }\n  return (\n    <>\n      <nav className=\"navbar navbar-expand-xl navbar-dark bg-dark\">\n        <Link className=\"navbar-brand\" to=\"/\">\n          <i className=\"fa fa-ravelry\" aria-hidden=\"true\"></i>Yelp Clone\n        </Link>\n        <Searchbar />\n        <button className=\"navbar-toggler ml-auto\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul className=\"navbar-nav ml-auto\">\n            <li className={`nav-item ` + (page == 'home' ? 'active' : '')}>\n              <Link to=\"/\" className=\"nav-link\">\n                Home\n              </Link>\n            </li>\n            {state.loggedIn && (\n              <li className={`nav-item ` + (page == 'create' ? 'active' : '')}>\n                <Link to=\"/restaurant/create\" className=\"nav-link\">\n                  Create Restaurant\n                </Link>\n              </li>\n            )}\n            <li className=\"nav-item\">\n              <button className=\"btn btn-light\" onClick={switchView}>\n                Switch View\n              </button>\n            </li>\n          </ul>\n        </div>\n      </nav>\n      <div className=\"home-header\">\n        <p>Click the switch button above to see the {state.loggedIn ? 'admin' : 'user'} view</p>\n      </div>\n    </>\n  )\n}\n\nexport default Header\n","import React, { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction Footer(props) {\n  return <div className=\"my-5\"></div>\n}\n\nexport default Footer\n","import React, { useEffect } from 'react'\n\nfunction FlashMessage({ state }) {\n  function handleRemove(e) {\n    e.currentTarget.style.display = 'none'\n  }\n\n  function getColor(color) {\n    if (color == 'success') {\n      return 'alert-success'\n    } else if (color == 'error') {\n      return 'alert-danger'\n    }\n  }\n\n  return (\n    <div className=\"flash-message-container\">\n      {state.flashMessages.length > 0 &&\n        state.flashMessages.map((flashMessage, index) => {\n          return (\n            <div key={index} className={'alert ' + getColor(flashMessage.color)} onAnimationEnd={e => handleRemove(e)}>\n              {flashMessage.message}\n            </div>\n          )\n        })}\n    </div>\n  )\n}\n\nexport default FlashMessage\n","import React, { useState, useContext, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport AppContext from '../AppContext'\nimport StateContext from '../StateContext'\n\nfunction CreateRestaurantPage(props) {\n  const [restaurant, setRestaurant] = useState({\n    name: '',\n    description: '',\n    pricerange: '',\n    street: '',\n    city: '',\n    province: '',\n    country: '',\n    postalcode: ''\n  })\n  const [file, setFile] = useState()\n  const [uploadedImages, setUploadedImages] = useState()\n\n  let history = useHistory()\n  const dispatch = useContext(AppContext)\n  const state = useContext(StateContext)\n\n  async function submitHandler(e) {\n    e.preventDefault()\n    try {\n      let location = `${restaurant.street} ${restaurant.city} ${restaurant.province} ${restaurant.country}`\n      const apiResponse = await axios.get('https://maps.googleapis.com/maps/api/geocode/json', {\n        params: {\n          address: location,\n          key: 'AIzaSyCcbP47PnbbLWJ4T9GdciB5LCrFSSIP-EA'\n        }\n      })\n      let lat = apiResponse.data.results[0].geometry.location.lat\n      let lng = apiResponse.data.results[0].geometry.location.lng\n\n      // Add restaurant to database\n      const response = await axios.post(`/api/restaurants`, {\n        name: restaurant.name,\n        description: restaurant.description,\n        priceRange: parseInt(restaurant.pricerange),\n        street: restaurant.street,\n        city: restaurant.city,\n        province: restaurant.province,\n        country: restaurant.country,\n        postalcode: restaurant.postalcode,\n        longtitude: lng,\n        latitude: lat\n      })\n\n      if (file) {\n        let formData = new FormData()\n        for (let i = 0; i < file.length; i++) {\n          formData.append(`image`, file[i])\n        }\n\n        await axios.post(`/api/restaurants/upload-image/${response.data.id}`, formData, {\n          headers: { 'Content-Type': 'multipart/form-data' }\n        })\n      }\n\n      dispatch({ type: 'FlashMessage', value: 'Restaurant was successfully created!', color: 'success' })\n      history.push(`/restaurant/${response.data.id}`)\n    } catch (err) {\n      dispatch({ type: 'FlashMessage', value: err.response.data, color: 'error' })\n    }\n  }\n\n  // Update field input\n  function updateInput(e) {\n    setRestaurant({ ...restaurant, [e.currentTarget.name]: e.currentTarget.value })\n  }\n\n  // Update File State\n  function updateFileState(e) {\n    let urlList = []\n    let files = []\n    // Loops over uploaded files, and only saves png/jpeg files that are below 2MB\n    for (var i = 0, n = e.currentTarget.files.length; i < n; i++) {\n      let currentFile = e.currentTarget.files[i]\n      if (currentFile.type == 'image/png' || currentFile.type == 'image/jpeg') {\n        // Make sure file is less than 2MB\n        if (currentFile.size < 2097152) {\n          files.push(currentFile)\n          urlList.push(URL.createObjectURL(currentFile))\n        } else {\n          dispatch({ type: 'FlashMessage', value: `${currentFile.name} is too big! Images must be below 2MB`, color: 'error' })\n        }\n      }\n    }\n    setFile(files)\n    setUploadedImages(urlList)\n  }\n\n  // Redirect if user not logged in\n  useEffect(() => {\n    if (!state.loggedIn) {\n      dispatch({ type: 'FlashMessage', value: 'You do not have the authorization to view that page.', color: 'error' })\n      history.push('/')\n    }\n  }, [state.loggedIn])\n\n  return (\n    <>\n      <div className=\"restaurant-form\">\n        <h1 className=\"create-title\">Create New Restaurant</h1>\n        <form onSubmit={submitHandler}>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Name:</label>\n            <input className=\"form-control\" id=\"name\" name=\"name\" placeholder=\"Name\" type=\"text\" value={restaurant.name} onChange={e => updateInput(e)} required />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"street\">Street:</label>\n            <input className=\"form-control\" id=\"street\" name=\"street\" placeholder=\"Street\" type=\"text\" value={restaurant.street} onChange={e => updateInput(e)} required />\n          </div>\n          <div className=\"form-row\">\n            <div className=\"form-group col-md-4\">\n              <label htmlFor=\"city\">City:</label>\n              <input className=\"form-control\" id=\"city\" name=\"city\" placeholder=\"City\" type=\"text\" value={restaurant.city} onChange={e => updateInput(e)} required />\n            </div>\n            <div className=\"form-group col-md-4\">\n              <label htmlFor=\"province\">Province:</label>\n              <input className=\"form-control\" id=\"province\" name=\"province\" placeholder=\"Province\" type=\"text\" value={restaurant.province} onChange={e => updateInput(e)} required />\n            </div>\n            <div className=\"form-group col-md-4\">\n              <label htmlFor=\"country\">Country:</label>\n              <input className=\"form-control\" id=\"country\" name=\"country\" placeholder=\"Country\" type=\"text\" value={restaurant.country} onChange={e => updateInput(e)} required />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group col-md-4\">\n              <label htmlFor=\"postalcode\">Postal Code:</label>\n              <input className=\"form-control\" id=\"postalcode\" name=\"postalcode\" placeholder=\"Postal Code\" type=\"text\" value={restaurant.postalcode} onChange={e => updateInput(e)} required />\n            </div>\n            <div className=\"form-group col-md-4\">\n              <label htmlFor=\"pricerange\">Price Range:</label>\n              <input className=\"form-control\" id=\"pricerange\" name=\"pricerange\" placeholder=\"Price Range\" type=\"number\" value={restaurant.pricerange} onChange={e => updateInput(e)} required max=\"5\" min=\"1\" />\n            </div>\n            <div className=\"form-group col-md-4\">\n              <label>Add Photos (Optional):</label>\n              <div className=\"custom-file\">\n                <input type=\"file\" className=\"custom-file-input\" id=\"image-file\" onChange={updateFileState} multiple />\n                <label className=\"custom-file-label\" htmlFor=\"image-file\">\n                  Choose file...\n                </label>\n              </div>\n            </div>\n          </div>\n          {uploadedImages && uploadedImages[0] && <label>Restaurant Images:</label>}\n          <div className=\"image-container\">\n            {uploadedImages &&\n              uploadedImages.map((url, index) => (\n                <div key={index}>\n                  <div style={{ width: '70px', height: '70px' }}>\n                    <img style={{ width: '70px', height: '70px' }} src={url} />\n                  </div>\n                </div>\n              ))}\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"description\">Description:</label>\n            <textarea className=\"form-control\" id=\"description\" name=\"description\" placeholder=\"Description\" type=\"text\" value={restaurant.description} onChange={e => updateInput(e)} required />\n          </div>\n          <div className=\"my-4\"></div>\n          <button type=\"submit\" className=\"btn create-btn btn-block mx-auto\">\n            Create Restaurant\n          </button>\n        </form>\n      </div>\n    </>\n  )\n}\n\nexport default CreateRestaurantPage\n","import React, { useReducer } from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport AppContext from './AppContext'\nimport StateContext from './StateContext'\n\n// Components\nimport Home from './components/Home'\nimport UpdateRestaurant from './components/UpdateRestaurant'\nimport RestaurantDetails from './components/RestaurantDetails'\nimport PageNotFound from './components/PageNotFound'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport FlashMessage from './components/FlashMessage'\nimport CreateRestaurantPage from './components/CreateRestaurantPage'\n\nfunction App() {\n  const initialState = {\n    flashMessages: [],\n    loggedIn: Boolean(localStorage.getItem('yelp-admin'))\n  }\n\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case 'FlashMessage':\n        return { ...state, flashMessages: state.flashMessages.concat({ message: action.value, color: action.color }) }\n      case 'Login':\n        localStorage.setItem('yelp-admin', true)\n        return { ...state, loggedIn: true }\n      case 'Logout':\n        localStorage.removeItem('yelp-admin')\n        return { ...state, loggedIn: false }\n    }\n  }\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n  return (\n    <AppContext.Provider value={dispatch}>\n      <StateContext.Provider value={state}>\n        <BrowserRouter>\n          <Header />\n          <FlashMessage state={state} />\n          <Switch>\n            <Route path=\"/\" exact>\n              <Home />\n            </Route>\n            <Route path=\"/restaurant/create\">\n              <CreateRestaurantPage />\n            </Route>\n            <Route path=\"/restaurant/:id\" exact>\n              <RestaurantDetails />\n            </Route>\n            <Route path=\"/restaurant/:id/update\">\n              <UpdateRestaurant />\n            </Route>\n            <Route path=\"*\">\n              <PageNotFound />\n            </Route>\n          </Switch>\n          <Footer />\n        </BrowserRouter>\n      </StateContext.Provider>\n    </AppContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}